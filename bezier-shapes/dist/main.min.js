/**
 * Bezier Shapes.
 * @copyright 2019 FAL
 * @version 0.1.0
 */
!function(e,t){"use strict";const n=e.HtmlUtility.getElementOrBody("BezierShapes");let a;const r=[];let o=!1;const i=()=>{if(!(o=!o))return;r.length=0;const n=e.Random.integerBetween(2,5),{width:a,height:i}=t.canvas.logicalSize,s=a/(n+1),c=i/(n+1),l=e.Random.integerBetween(4,7),d=e.Math.TWO_PI/l,p=()=>e.Random.between(-.3,.3)*d,h=()=>e.Random.between(.7,1.3),g=()=>e.Random.between(20,100),w=800/(n+1)*.4,m=t=>({point:e.Vector2D.fromPolar(h()*w,p()+t),controlLine:{length:g(),angle:p()+t+e.Math.HALF_PI}}),u=(n,a)=>{const r=(()=>{const n=e.Angle.createArray(l).map(m),a=n.concat(n[0]),r=e.Bezier.createCurve(a);return()=>{t.p.noStroke(),t.p.fill(48),t.p.beginShape(),t.drawBezierCurve(r),t.p.endShape(t.p.CLOSE),o&&(t.p.stroke(224,0,64),t.drawBezierControlLines(n))}})();return()=>t.drawTranslated(r,(n+1)*s,(a+1)*c)};for(let e=0;e<n;e+=1)for(let t=0;t<n;t+=1)r.push(u(e,t))},s=()=>{for(const e of r)e()},c=()=>{a(),t.canvas.drawScaled(s)},l=()=>{i(),t.p.redraw()},d=()=>{switch(t.p.key){case"s":t.p.save("image.png");break;case"r":i()}};t.startSketch({htmlElement:n,logicalCanvasSize:{width:800,height:800},initialize:()=>{const e=t.createPixels(()=>{t.p.background(248)});a=()=>t.replaceCanvasPixels(e),i(),t.p.noLoop()},setP5Methods:e=>{e.draw=c,e.mousePressed=l,e.keyTyped=d}})}(CreativeCodingCore,p5ex);