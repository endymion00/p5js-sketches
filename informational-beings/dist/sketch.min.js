/**
 * Informational Beings.
 * Website => https://www.fal-works.com/
 * Including module: p5ex (Copyright 2018 FAL, licensed under MIT).
 * @copyright 2018 FAL
 * @author FAL <falworks.contact@gmail.com>
 * @version 0.1.0
 * @license CC-BY-SA-3.0
 */
!function(){"use strict";class t{}class e extends t{get width(){return this.rightPositionX-this.leftPositionX}get height(){return this.bottomPositionY-this.topPositionY}get area(){return this.width*this.height}constructor(t,e,s,i,r=0){super(),this.leftPositionX=t-r,this.topPositionY=e-r,this.rightPositionX=s+r,this.bottomPositionY=i+r}contains(t,e=0){return t.x>=this.leftPositionX-e&&t.x<=this.rightPositionX+e&&t.y>=this.topPositionY-e&&t.y<=this.bottomPositionY+e}constrain(t,e=0){t.x<this.leftPositionX-e?t.x=this.leftPositionX-e:t.x>this.rightPositionX+e&&(t.x=this.rightPositionX+e),t.y<this.topPositionY-e?t.y=this.topPositionY-e:t.y>this.bottomPositionY+e&&(t.y=this.bottomPositionY+e)}}class s{constructor(t,s,i,r){this.p=t,this.canvasElement=t.createCanvas(s.scaledWidth,s.scaledHeight,r),this.canvasElement&&"parent"in this.canvasElement&&this.canvasElement.parent(i),this.region=new e(0,0,0,0),this.nonScaledShortSideLength=s.nonScaledShortSideLength,this.updateSize()}get scaleFactor(){return this._scaleFactor}get nonScaledWidth(){return this._nonScaledWidth}get nonScaledHeight(){return this._nonScaledHeight}get aspectRatio(){return this._aspectRatio}resize(t){this.p.resizeCanvas(t.scaledWidth,t.scaledHeight),this.nonScaledShortSideLength=t.nonScaledShortSideLength,this.updateSize()}updateSize(){const t=this.p;this._scaleFactor=Math.min(t.width,t.height)/this.nonScaledShortSideLength,this._inversedScaleFactor=1/this._scaleFactor,this._nonScaledWidth=t.width/this._scaleFactor,this._nonScaledHeight=t.height/this._scaleFactor,this._aspectRatio=t.width/t.height,this.region.rightPositionX=this._nonScaledWidth,this.region.bottomPositionY=this._nonScaledHeight}scale(){this.p.scale(this._scaleFactor)}cancelScale(){this.p.scale(this._inversedScaleFactor)}getNonScaledValueOf(t){return t/this._scaleFactor}}s.DUMMY_PARAMETERS={scaledWidth:100,scaledHeight:100,nonScaledShortSideLength:100};const i={SQUARE640x640:"SQUARE640x640",RECT640x480:"RECT640x480",FULL:"FULL",CUSTOM:"CUSTOM"};class r{constructor(t,e){this.p=t,this.p5Color=e}stroke(){this.p.currentRenderer.stroke(this.p5Color)}fill(){this.p.currentRenderer.fill(this.p5Color)}}class a{constructor(t){this.p=t}stroke(){this.p.currentRenderer.noStroke()}fill(){this.p.currentRenderer.noFill()}}class o{stroke(){}fill(){}}class h{constructor(t,e,s=256){this.p=t;const i=[];for(let r=0;r<s;r+=1)i.push(t.color(t.red(e),t.green(e),t.blue(e),t.alpha(e)*r/(s-1)));this.colorArray=i,this.maxIndex=s-1}stroke(t){this.p.currentRenderer.stroke(this.getColor(t))}fill(t){this.p.currentRenderer.fill(this.getColor(t))}getColor(t){return this.colorArray[t?Math.floor(this.p.map(t,0,255,0,this.maxIndex)):this.maxIndex]}}function n(t,e,s,i){return t&&void 0!==e?null===e?new a(t):s?new h(t,e,i):new r(t,e):new o}class c{constructor(t,e,s,i,r){this.strokeColor=n(t,e,i,r),this.fillColor=n(t,s,i,r)}applyColor(t){this.strokeColor.stroke(t),this.fillColor.fill(t)}}c.UNDEFINED=new c(void 0,void 0,void 0);const l=()=>{},d=(Math.PI,new p5(t=>{t.setup=(()=>{t.noCanvas()})}));Math.PI,d.createVector(),d.createVector();function p(t){return Math.floor(Math.random()*t)}function u(t,e){return t+p(e-t)}function g(t){return Math.random()<.5?t:-t}function m(t){return 1-Math.pow(t-1,2)}function S(t){return 1-Math.pow(t-1,4)}class f{constructor(t=256){this.array=new Array(t),this.length=0}get(t){return this.array[t]}getLast(){return this.array[this.length-1]}push(t){return this.array[this.length]=t,this.length+=1,this.length}pushRawArray(t,e=t.length){for(let s=0;s<e;s+=1)this.array[this.length+s]=t[s];return this.length+=e,this.length}pushAll(t){return this.pushRawArray(t.array,t.length)}pop(){return this.length-=1,this.array[this.length]}clear(){this.length=0}loop(t){!function(t,e,s){let i=0;for(;i<s;)e(t[i],i,t),i+=1}(this.array,t,this.length)}loopBackwards(t){!function(t,e,s){for(;s--;)e(t[s],s,t)}(this.array,t,this.length)}roundRobin(t){!function(t,e,s){for(let i=0,r=s-1;i<r;i+=1)for(let a=i+1;a<s;a+=1)e(t[i],t[a])}(this.array,t,this.length)}nestedLoopJoin(t,e){!function(t,e,s,i,r){for(let a=0;a<i;a+=1)for(let i=0;i<r;i+=1)s(t[a],e[i])}(this.array,t.array,e,this.length,t.length)}}class w extends f{static drawFunction(t){t.draw()}draw(){this.loop(w.drawFunction)}}class C extends f{static stepFunction(t){t.step()}step(){this.loop(C.stepFunction)}}class b extends f{}b.prototype.step=C.prototype.step,b.prototype.draw=w.prototype.draw;class y extends f{constructor(t){super(t),this.recentRemovedElements=new f(t)}clean(){this.recentRemovedElements.clear();let t=0;for(let e=0;e<this.length;e+=1)this.array[e].clean(),this.array[e].isToBeRemoved?this.recentRemovedElements.push(this.array[e]):(this.array[t]=this.array[e],t+=1);this.length=t}}class R extends y{}R.prototype.draw=b.prototype.draw,R.prototype.step=b.prototype.step;d.createVector(),d.createVector(),d.createVector();class T{constructor(){this.count=0}resetCount(t=0){return this.count=t,this}step(){this.count+=1}mod(t){return this.count%t}}class P extends T{get isOn(){return this._isOn}constructor(t,e=l){super(),this._isOn=!0,this.completeBehavior=e,this.durationFrameCount=t}on(t){return this._isOn=!0,t&&(this.durationFrameCount=t),this}off(){return this._isOn=!1,this}step(){this._isOn&&(this.count+=1,this.count>this.durationFrameCount&&this.completeCycle())}}class x extends P{get isCompleted(){return this._isCompleted}constructor(t,e){super(t,e),this._isCompleted=!1}on(t){return super.on(t),this}off(){return super.off(),this}resetCount(){return super.resetCount(),this._isCompleted=!1,this}getProgressRatio(){return this._isCompleted?1:this.count/this.durationFrameCount}completeCycle(){this._isCompleted=!0,this._isOn=!1,this.completeBehavior()}}var v;!function(t){t[t.DELAY=0]="DELAY",t[t.BIRTH=1]="BIRTH",t[t.MOTION=2]="MOTION",t[t.STOP=3]="STOP",t[t.DEATH=4]="DEATH"}(v||(v={}));class _{constructor(t,e,s=0,i=!0){this.p=t,this.position=e,this.delayFrameCount=s,this.isGenerator=i,this.isToBeRemoved=!1,this.phase=v.DELAY,this.ratio=0,this.timers=new C,this.birthDelayTimer=new x(s,()=>{this.birthTimer.on(),this.phase=v.BIRTH}).on(),this.timers.push(this.birthDelayTimer),this.birthTimer=new x(60,()=>{this.motionTimer.on(),this.phase=v.MOTION,this.generateNext()}).off(),this.timers.push(this.birthTimer),this.motionTimer=new x(30,()=>{this.deathDelayTimer.on(),this.phase=v.STOP}).off(),this.timers.push(this.motionTimer),this.deathDelayTimer=new x(60,()=>{this.deathTimer.on(),this.phase=v.DEATH}).off(),this.timers.push(this.deathDelayTimer),this.deathTimer=new x(90,()=>{this.isToBeRemoved=!0}).off(),this.timers.push(this.deathTimer)}step(){switch(this.timers.step(),this.phase){case v.DELAY:break;case v.BIRTH:this.ratio=this.birthTimer.getProgressRatio();break;case v.MOTION:this.ratio=this.motionTimer.getProgressRatio();break;case v.STOP:this.ratio=1;break;case v.DEATH:this.ratio=this.deathTimer.getProgressRatio()}}clean(){}draw(){if(this.birthDelayTimer.isOn)return;const t=this.p;t.translate(this.position.x,this.position.y),this.drawShape(),t.translate(-this.position.x,-this.position.y)}drawShape(){}generateNext(){if(!this.isGenerator)return;let t;do{t=this.p.createVector(this.position.x+g(this.p.random(50,320)),this.position.y+g(this.p.random(50,320)))}while(!this.p.scalableCanvas.region.contains(t,-100));_.addElement(this.position,t)}}class E extends _{constructor(t,e,s=0,i,r,a){super(t,e,s,i),this.baseSize=a,this.shapeColor=new c(t,r,null,!0)}drawShape(){let t,e=1,s=255;switch(this.phase){case v.BIRTH:t=this.baseSize*S(this.ratio);break;case v.MOTION:t=this.baseSize,e+=3*(1-m(this.ratio));break;case v.STOP:t=this.baseSize;break;case v.DEATH:if(t=this.baseSize+20*this.p.sq(this.ratio),s=255*(1-this.ratio),e*=1-this.ratio,s<1)return;break;default:t=0}this.shapeColor.applyColor(s),this.p.strokeWeight(e),this.p.ellipse(0,0,t,t)}}class k extends _{constructor(t,e,s=0,i,r){super(t,e,s,!1),this.offsetPosition=r,this.shapeColor=new c(t,null,i,!0)}drawShape(){if(Math.random()<.01)return;let t,e=255;switch(this.phase){case v.BIRTH:t=S(this.ratio);break;case v.MOTION:t=1+.25*(1-S(this.ratio));break;case v.STOP:t=1;break;case v.DEATH:if(t=1-this.ratio,(e=255*(1-this.ratio))<1)return;break;default:t=0}this.shapeColor.applyColor(e),this.p.rect(this.offsetPosition.x,this.offsetPosition.y,10*t,14*t,2)}}class O extends _{constructor(t,e,s=0,i,r,a,o){super(t,e,s,i),this.color=r,this.startPosition=a,this.endPosition=o,this.shapeColor=new c(t,r,null,!0)}lerpPosition(t,e,s){return this.p.createVector(t.x+(e.x-t.x)*s,t.y+(e.y-t.y)*s)}drawShape(){let t=this.startPosition,e=this.endPosition,s=1,i=255;switch(this.phase){case v.BIRTH:e=this.lerpPosition(this.startPosition,this.endPosition,S(this.ratio));break;case v.MOTION:s+=3*(1-m(this.ratio));break;case v.STOP:break;case v.DEATH:if(t=this.lerpPosition(this.startPosition,this.endPosition,S(this.ratio)),e=this.lerpPosition(this.startPosition,this.endPosition,1+.2*m(this.ratio)),i=255*(1-this.ratio),s*=1-this.ratio,i<1)return}this.shapeColor.applyColor(i),this.p.strokeWeight(s),this.p.line(t.x,t.y,e.x,e.y)}}new class extends p5{setCurrentRenderer(t){this.currentRenderer=t}get nonScaledWidth(){return this.scalableCanvas.nonScaledWidth}get nonScaledHeight(){return this.scalableCanvas.nonScaledHeight}get idealFrameRate(){return this._idealFrameRate}get unitAngleSpeed(){return this._unitAngleSpeed}get unitSpeed(){return this._unitSpeed}get unitAccelerationMagnitude(){return this._unitAccelerationMagnitude}constructor(t,e,s){super(t,"string"==typeof e?document.getElementById(e)||void 0:e,s),this.node=e&&"boolean"!=typeof e?"string"==typeof e?document.getElementById(e)||document.body:e:document.body,this.currentRenderer=this,this.maxCanvasRegion={width:0,height:0,getShortSideLength(){return Math.min(this.width,this.height)}},this.updateMaxCanvasRegion(),this.setFrameRate()}setFrameRate(t=60){return this.frameRate(t),t&&(this._idealFrameRate=t,this._unitAngleSpeed=2*Math.PI/this._idealFrameRate,this._unitSpeed=1/this._idealFrameRate,this._unitAccelerationMagnitude=this._unitSpeed/this._idealFrameRate),this}updateMaxCanvasRegion(){if(this.maxCanvasRegion.width=this.windowWidth,this.maxCanvasRegion.height=this.windowHeight,this.node===document.body)return;const t=this.node.getBoundingClientRect();this.maxCanvasRegion.width=t.width,this.maxCanvasRegion.height=t.height}createScalableCanvas(t,e,i){this.scalableCanvasType=t,this.scalableCanvas=new s(this,this.createScalableCanvasParameter(t,e),this.node,i)}resizeScalableCanvas(t,e){this.scalableCanvas.resize(this.createScalableCanvasParameter(t||this.scalableCanvasType,e))}createScalableCanvasParameter(t,e){this.updateMaxCanvasRegion();const r=this.maxCanvasRegion.getShortSideLength();switch(t){case i.SQUARE640x640:return{scaledWidth:r,scaledHeight:r,nonScaledShortSideLength:640};case i.RECT640x480:return{scaledWidth:r,scaledHeight:.75*r,nonScaledShortSideLength:480};case i.FULL:return{scaledWidth:this.maxCanvasRegion.width,scaledHeight:this.maxCanvasRegion.height,nonScaledShortSideLength:640};default:return e||s.DUMMY_PARAMETERS}}}(t=>{let e,s,r,a;t.preload=(()=>{}),t.setup=(()=>{t.createScalableCanvas(i.SQUARE640x640),t.rectMode(t.CENTER),s=new R,e=t.color(248,248,248),a=t.color(64),r=[a,a,a,t.color(48,48,96)],_.addElement=((e,i)=>{const o=t.random(r),h=new O(t,i,0,!1,a,p5.Vector.sub(e,i),t.createVector(0,0));switch(p(4)){case 0:s.push(h),s.push(new E(t,i,6,!0,o,t.random(80,120)));break;case 1:const e=t.random(80,120);s.push(h),s.push(new E(t,i,6,!0,o,e));const r=t.random(t.TWO_PI),a=r+t.radians(t.random(90,150)),n=r-t.radians(t.random(90,150)),l=p5.Vector.fromAngle(r).mult(e/2),d=p5.Vector.fromAngle(a).mult(e/2),g=p5.Vector.fromAngle(n).mult(e/2);s.push(new O(t,i,12,!1,o,l,d)),s.push(new O(t,i,18,!1,o,d,g)),s.push(new O(t,i,24,!1,o,g,l));break;case 2:s.push(h),s.push(new class extends _{constructor(t,e,s=0,i,r,a,o){super(t,e,s,i),this.baseWidth=a,this.baseHeight=o,this.shapeColor=new c(t,r,null,!0)}drawShape(){let t,e,s=1,i=255;switch(this.phase){case v.BIRTH:t=this.baseWidth*this.p.sq(this.ratio),e=this.baseHeight*S(this.ratio);break;case v.MOTION:t=this.baseWidth,e=this.baseHeight,s+=3*(1-m(this.ratio));break;case v.STOP:t=this.baseWidth,e=this.baseHeight;break;case v.DEATH:if(t=this.baseWidth+20*this.p.sq(this.ratio),e=this.baseHeight*(1-this.p.sq(this.ratio)),i=255*(1-this.ratio),s*=1-this.ratio,i<1)return;break;default:t=0,e=0}this.shapeColor.applyColor(i),this.p.strokeWeight(s),this.p.rect(0,0,t,e)}}(t,i,6,!0,o,t.random(30,120),t.random(30,120)));break;case 3:s.push(new class extends _{constructor(t,e,s=0){super(t,e,s,!0)}}(t,i,0));const f=u(4,10),w=u(4,10);for(let h=0;h<w;h+=1)for(let e=0;e<f;e+=1)s.push(new k(t,i,1*(e*w+h),o,t.createVector(14*(-w/2+h),18*(-f/2+e))))}}),s.push(new E(t,t.createVector(t.nonScaledWidth/2,t.nonScaledHeight/2),0,!0,t.random(r),100))}),t.draw=(()=>{t.background(e),t.scalableCanvas.scale(),s.step(),s.clean(),s.draw(),t.scalableCanvas.cancelScale()}),t.windowResized=(()=>{}),t.mousePressed=(()=>{}),t.keyTyped=(()=>{t.keyCode===t.ENTER&&t.noLoop()})},"InformationalBeings")}();