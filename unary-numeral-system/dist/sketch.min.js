/**
 * UnaryNumeralSystem.
 * Source code in TypeScript: https://github.com/fal-works/p5js-sketches/tree/master/unary-numeral-system
 *
 * Bundled libraries:
 *   @fal-works/creative-coding-core (MIT license)
 *   @fal-works/p5-extension (MIT license)
 *
 * @copyright 2020 FAL
 * @version 0.1.0
 */
!function(e){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;
/**
   * creative-coding-core
   *
   * Utility library that might be useful for creative coding.
   * GitHub repository: {@link https://github.com/fal-works/creative-coding-core}
   *
   * @module creative-coding-core
   * @copyright 2019-2020 FAL
   * @author FAL <contact@fal-works.com>
   * @license MIT
   * @version 0.8.1
   */
const t=(e,t,r,o)=>{for(let n=r;n<o;n+=1)t(e[n],n,e)},r=(e,r)=>t(e,r,0,e.length),o=(e,t,r,o)=>{let n=o;for(;n>r;)--n,t(e[n],n,e)},n=(e,t)=>o(e,t,0,e.length),a=(e,t,r,o,n,a,s)=>{for(let i=o;i<n;i+=1)for(let o=a;o<s;o+=1)r(e[i],t[o])},s=(e,t,r)=>a(e,t,r,0,e.length,0,t.length),i=(e,t,r,o)=>{const n=o-1;for(let a=r;a<n;a+=1)for(let r=a+1;r<o;r+=1)t(e[a],e[r])},l=(e,t)=>i(e,t,0,e.length),c=e=>e?Array.isArray(e)?e.slice():[e]:[],u=e=>[].concat(...e),d=(e,t=1)=>t>0?e.reduce((e,r)=>e.concat(Array.isArray(r)?d(r,t-1):r),[]):e,y=(e,t,r)=>{const o=r||e.length;for(let r=0;r<o;r+=1)e[r]=t(r);return e},p=(e,t)=>y(new Array(t),e),h=e=>{const t=new Array(e);for(let r=0;r<e;r+=1)t[r]=r;return t},g=e=>{const{start:t,end:r}=e,o=r-t,n=new Array(o);for(let e=0;e<o;e+=1)n[e]=t+e;return n},f=(e,t)=>{const r=[],o=e.length;for(let n=0;n<o;n+=1){const o=t(e[n],n,e);void 0!==o&&r.push(o)}return r},m=e=>{const t=e.length;for(let r=0;r<t;r+=1)e[r]()},x=(e,t)=>{const r=e.length;for(let o=0;o<r;o+=1)e[o](t)},_=(e,t,r,o,n)=>{let a=n;for(;a;)a-=1,e[r+a]=t[o+a]},v=Object.freeze({__proto__:null,loopArrayRange:t,loopArray:r,loopArrayRangeBackwards:o,loopArrayBackwards:n,arrayNestedLoopJoinWithRange:a,arrayNestedLoopJoin:s,arrayRoundRobinWithRange:i,arrayRoundRobin:l,unifyToArray:c,flatArrayNaive:u,flatArrayRecursive:d,populateArray:y,createPopulatedArray:p,createIntegerSequence:h,arrayFromRange:g,filterMapArray:f,loopRunArray:m,loopRunArrayWithArgument:x,blitArray:_}),b=Object.freeze({__proto__:null,FullName:v,loopRange:t,loop:r,loopRangeBackwards:o,loopBackwards:n,nestedLoopJoinWithRange:a,nestedLoopJoin:s,roundRobinWithRange:i,roundRobin:l,unifyToArray:c,flatNaive:u,flatRecursive:d,populate:y,createPopulated:p,createIntegerSequence:h,fromRange:g,filterMap:f,loopRun:m,loopRunWithArgument:x,blit:_}),O=e=>({array:new Array(e),size:0}),R=e=>{e.size=0},z=e=>{e.size=0;const{array:t}=e,r=t.length;t.length=0,t.length=r},S=e=>0===e.size,w=e=>e.size===e.array.length,A=O,C=(e,t)=>({array:new Array(e).fill(t),size:e}),E=(e,t)=>({array:y(new Array(e),t),size:e}),P=e=>({array:e,size:e.length}),I=(e,t)=>{e.array[e.size]=t,e.size+=1},L=I,T=e=>{const t=e.size-1,r=e.array[t];return e.size=t,r},F=(e,t)=>e.array[t],k=e=>e.array[e.size-1],j=k,V=(e,t)=>{const{array:r,size:o}=e,n=t.length;let a=n;for(;a;)a-=1,r[o+a]=t[a];e.size+=n},M=(e,t)=>{const{array:r,size:o}=e,{array:n,size:a}=t;let s=a;for(;s;)s-=1,r[o+s]=n[s];e.size+=a},N=e=>{const{array:t,size:r}=e,o=t.length;t.length=r,t.length=o},B=(e,r)=>t(e.array,r,0,e.size),D=(e,t)=>o(e.array,t,0,e.size),q=(e,t)=>{const{array:r,size:o}=e;for(let e=0;e<o;e+=1)if(t(r[e],e,r))return r[e]},Q=(e,t)=>{const{array:r,size:o}=e;for(let e=0;e<o;e+=1)if(r[e]===t)return e;return-1},H=(e,t)=>{const{array:r,size:o}=e,n=r[t];return r.copyWithin(t,t+1,o),e.size=o-1,n},U=(e,t)=>{const r=Q(e,t);return r>=0?H(e,r):null},W=(e,t)=>{const r=e.array,o=r[t],n=e.size-1;return r[t]=r[n],e.size=n,o},G=(e,t)=>{const r=Q(e,t);return r>=0?W(e,r):null},Z=(e,t)=>{const{array:r,size:o}=e;let n=0,a=!1;for(let e=0;e<o;e+=1){const o=r[e];t(o,e,r)?a=!0:(r[n]=o,n+=1)}return e.size=n,a},J=(e,t)=>{let r=!1;const o=e.array;for(let n=0;n<e.size;n+=1)t(o[n],n,o)&&(W(e,n),r=!0);return r},K=(e,t)=>(y(e.array,t),e.size=e.array.length,e),X=(e,t,r)=>a(e.array,t.array,r,0,e.size,0,t.size),Y=(e,t)=>i(e.array,t,0,e.size),$=Object.freeze({__proto__:null,createArrayList:A,createFilledArrayList:C,createPopulatedArrayList:E,arrayListFromArray:P,addToArrayList:I,pushToArrayList:L,popFromArrayList:T,getFromArrayList:F,peekFromArrayList:k,getLastFromArrayList:j,addArrayToArrayList:V,addListToArrayList:M,clearArrayList:R,cleanUnusedSlotsOfArrayList:N,clearReferenceOfArrayList:z,loopArrayList:B,loopArrayListBackwards:D,findInArrayList:q,findIndexInArrayList:Q,removeShiftFromArrayList:H,removeShiftElementFromArrayList:U,removeSwapFromArrayList:W,removeSwapElementFromArrayList:G,removeShiftAllFromArrayList:Z,removeSwapAllFromArrayList:J,populateArrayList:K,arrayListNestedLoopJoin:X,arrayListRoundRobin:Y}),ee=Object.freeze({__proto__:null,FullName:$,create:A,createFilled:C,createPopulated:E,fromArray:P,add:I,push:L,pop:T,get:F,peek:k,getLast:j,addArray:V,addList:M,cleanUnusedSlots:N,loop:B,loopBackwards:D,find:q,findIndex:Q,removeShift:H,removeShiftElement:U,removeSwap:W,removeSwapElement:G,removeShiftAll:Z,removeSwapAll:J,populate:K,nestedLoopJoin:X,roundRobin:Y,clear:R,clearReference:z,isEmpty:S,isFull:w}),te=e=>Object.assign(Object.assign({},O(e)),{headIndex:0,tailIndex:0}),re=(e,t)=>{const{array:r,tailIndex:o}=e;r[o]=t;const n=o+1;e.tailIndex=n<r.length?n:0,e.size+=1},oe=(e,t)=>{w(e)||re(e,t)},ne=e=>{const{array:t,headIndex:r}=e,o=r+1;return e.headIndex=o<t.length?o:0,e.size-=1,t[r]},ae=e=>S(e)?void 0:ne(e),se=e=>w(e)?ne(e):void 0,ie=e=>e.array[e.headIndex],le=e=>{const{headIndex:t}=e;return t!==e.tailIndex?e.array[t]:void 0},ce=(e,r)=>{if(0===e.size)return;const{array:o,headIndex:n,tailIndex:a}=e;n<a?t(o,r,n,a):(t(o,r,n,o.length),t(o,r,0,a))},ue=(e,t)=>{const{array:r,headIndex:o}=e,n=r[o];if(!t(n))return;const a=o+1;return e.headIndex=a<r.length?a:0,e.size-=1,n},de=(e,t)=>S(e)?void 0:ue(e,t),ye=e=>{R(e),e.headIndex=0,e.tailIndex=0},pe=Object.freeze({__proto__:null,createArrayQueue:te,arrayQueueIsEmpty:S,arrayQueueIsFull:w,enqueue:re,enqueueSafe:oe,dequeue:ne,dequeueSafe:ae,dequeueIfFull:se,loopArrayQueue:ce,peekArrayQueue:ie,peekArrayQueueSafe:le,dequeueIf:ue,dequeueSafeIf:de,clearArrayQueue:ye,clearArrayQueueReference:z}),he=Object.freeze({__proto__:null,FullName:pe,create:te,isEmpty:S,isFull:w,enqueue:re,enqueueSafe:oe,dequeue:ne,dequeueSafe:ae,dequeueIfFull:se,peek:ie,peekSafe:le,loop:ce,dequeueIf:ue,dequeueSafeIf:de,clear:ye,clearReference:z}),ge=e=>{e.next=null},fe=(e,t)=>{let r=e;for(;null!==r;){const e=r.next;t(r),r=e}},me=(e,t)=>fe(e.top,t),xe=e=>{e.top=null,e.last=null},_e=Object.freeze({__proto__:null,create:()=>({top:null,last:null}),enqueue:(e,t)=>{const{last:r}=e;null===r?e.top=e.last=t:(r.next=t,e.last=t)},dequeue:e=>{const{top:t}=e;if(null!==t){const r=t.next;e.top=r,r||(e.last=null),ge(t)}return t},loopFrom:fe,loop:me,clear:xe,clearReference:e=>{me(e,ge),xe(e)}}),ve=Object.freeze({__proto__:null,create:e=>({value:void 0,factory:e}),get:e=>e.value||(e.value=e.factory()),clear:e=>{e.value=void 0}}),be=Object.freeze({__proto__:null,from:(e,t)=>{const r={};for(const o of Object.keys(e))r[o]=new Array(t).fill(e[o]);return{data:r,length:t}}}),{abs:Oe,acos:Re,asin:ze,atan:Se,atan2:we,ceil:Ae,cos:Ce,exp:Ee,floor:Pe,log:Ie,max:Le,min:Te,pow:Fe,round:ke,sin:je,sqrt:Ve,tan:Me,clz32:Ne,imul:Be,sign:De,log10:qe,log2:Qe,log1p:He,expm1:Ue,cosh:We,sinh:Ge,tanh:Ze,acosh:Je,asinh:Ke,atanh:Xe,hypot:Ye,trunc:$e,fround:et,cbrt:tt}=Math,rt=Ve,ot=Ne,nt=Be,at=Ye,st=$e,it=et,lt=tt,ct=e=>e*e,ut=e=>e*e*e,dt=e=>ct(e*e),yt=(e,t)=>e<t?e:t,pt=(e,t)=>e>t?e:t,ht=(e,t)=>0!==e||0!==t?we(e,t):0,gt=(e,t)=>e*e+t*t,ft=(e,t)=>Ve(e*e+t*t),mt=(e,t,r)=>e+r*(t-e),xt=(e,t,r)=>e<t?t:e>r?r:e,_t=(e,t,r)=>t>r?(t+r)/2:e<t?t:e>r?r:e,vt=Object.freeze({__proto__:null,abs:Oe,acos:Re,asin:ze,atan:Se,atan2:we,ceil:Ae,cos:Ce,exp:Ee,floor:Pe,log:Ie,max:Le,min:Te,pow:Fe,round:ke,sin:je,sqrt:Ve,tan:Me,clz32:Ne,imul:Be,sign:De,log10:qe,log2:Qe,log1p:He,expm1:Ue,cosh:We,sinh:Ge,tanh:Ze,acosh:Je,asinh:Ke,atanh:Xe,hypot:Ye,trunc:$e,fround:et,cbrt:tt,squareRoot:rt,leadingZeros32:ot,multInt:nt,hypotenuse:at,integerPart:st,floatRound:it,cubeRoot:lt,square:ct,cube:ut,pow4:dt,pow5:e=>ct(e*e)*e,squareInt:e=>Be(e,e),cubeInt:e=>Be(Be(e,e),e),equal:(e,t)=>Oe(e-t)<2220446049250313e-31,min2:yt,max2:pt,atan2safe:ht,hypotenuseSquared2D:gt,hypotenuse2D:ft,lerp:mt,clamp:xt,constrain:_t,map:(e,t,r,o,n)=>o+(n-o)*(e-t)/(r-t),createMap:(e,t,r,o)=>{const n=t-e,a=o-r;return t=>r+a*(t-e)/n},inverseLerp:(e,t,r)=>(e-t)/(r-t)}),{E:bt,LN10:Ot,LN2:Rt,LOG2E:zt,LOG10E:St}=Math,wt=Math.SQRT2,At=Math.SQRT1_2,Ct=Math.sqrt(3),Et=At,Pt=wt,It=1/Ct,Lt=2/Ct,Tt=Ct/2,Ft=At,kt=Object.freeze({__proto__:null,E:bt,LN10:Ot,LN2:Rt,LOG2E:zt,LOG10E:St,ONE_HALF:.5,ONE_THIRD:1/3,TWO_THIRDS:2/3,ONE_QUARTER:1/4,TWO_QUARTERS:.5,THREE_QUARTERS:3/4,INVERSE30:1/30,INVERSE60:1/60,INVERSE255:1/255,SQUARE_ROOT_TWO:wt,SQUARE_ROOT_ONE_HALF:At,SQUARE_ROOT_THREE:Ct,ONE_OVER_SQUARE_ROOT_TWO:Et,TWO_OVER_SQUARE_ROOT_TWO:Pt,ONE_OVER_SQUARE_ROOT_THREE:It,TWO_OVER_SQUARE_ROOT_THREE:Lt,SQUARE_ROOT_THREE_OVER_TWO:Tt,SQUARE_ROOT_TWO_OVER_TWO:Ft}),jt=Math.PI,Vt=2*jt,Mt=jt/2,Nt=jt/3,Bt=jt/4,Dt=3*Bt,qt=Et,Qt=Tt,Ht=Qt,Ut=qt,Wt=Vt/360,Gt=360/Vt,Zt=(e,t)=>{const r=t.x-e.x,o=t.y-e.y;return 0!==r||0!==o?we(o,r):0},Jt=Object.freeze({__proto__:null,PI:jt,TWO_PI:Vt,HALF_PI:Mt,THIRD_PI:Nt,QUARTER_PI:Bt,THREE_QUARTERS_PI:Dt,SIN30:.5,SIN45:qt,SIN60:Qt,COS30:Ht,COS45:Ut,COS60:.5,DEGREES_TO_RADIANS:Wt,RADIANS_TO_DEGREES:Gt,createArray:e=>{const t=new Array(e),r=Vt/e;for(let o=0;o<e;o+=1)t[o]=o*r;return t},fromDegrees:e=>Wt*e,toDegrees:e=>Gt*e,fromOrigin:e=>{const{x:t,y:r}=e;return 0!==t||0!==r?we(e.y,e.x):0},betweenPoints:Zt,betweenCoordinates:(e,t,r,o)=>e!==r||t!==o?we(r-e,o-t):0}),Kt=(e,t)=>({x:e,y:t}),Xt={x:0,y:0},Yt=e=>0===e.x&&0===e.y,$t=(e,t)=>({x:e*Ce(t),y:e*je(t)}),er=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),tr=(e,t,r)=>({x:e.x+t,y:e.y+r}),rr=(e,t,r)=>({x:e.x+t*Ce(r),y:e.y+t*je(r)}),or=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),nr=(e,t,r)=>({x:e.x-t,y:e.y-r}),ar=(e,t,r)=>({x:e.x-t*Ce(r),y:e.y-t*je(r)}),sr=(e,t)=>({x:e.x*t,y:e.y*t}),ir=(e,t)=>({x:e.x/t,y:e.y/t}),lr=(e,t)=>gt(t.x-e.x,t.y-e.y),cr=(e,t)=>ft(t.x-e.x,t.y-e.y),ur=e=>`{x:${e.x},y:${e.y}}`,dr=e=>({x:e.x,y:e.y}),yr=e=>gt(e.x,e.y),pr=e=>ft(e.x,e.y),hr=e=>{const{x:t,y:r}=e;return 0!==t||0!==r?we(e.y,e.x):0},gr=(e,t)=>e.x*t.x+e.y*t.y,fr=()=>({x:0,y:0}),mr=(e,t)=>(e.x+=t.x,e.y+=t.y,e),xr=(e,t,r)=>(e.x+=t,e.y+=r,e),_r=(e,t,r)=>(e.x+=t*Ce(r),e.y+=t*je(r),e),vr=(e,t)=>(e.x-=t.x,e.y-=t.y,e),br=(e,t,r)=>(e.x-=t,e.y-=r,e),Or=(e,t,r)=>(e.x-=t*Ce(r),e.y-=t*je(r),e),Rr=(e,t)=>(e.x=t.x,e.y=t.y,e),zr=(e,t,r)=>(e.x=t,e.y=r,e),Sr=(e,t,r)=>(e.x=t*Ce(r),e.y=t*je(r),e),wr=(e,t)=>(e.x*=t,e.y*=t,e),Ar=(e,t)=>{const r=1/t;return e.x*=r,e.y*=r,e},Cr=(e,t,r,o,n)=>(e.x=xt(e.x,t,r),e.y=xt(e.y,o,n),e),Er=(e,t,r,o,n)=>(e.x=_t(e.x,t,r),e.y=_t(e.y,o,n),e),Pr=(e,t,r)=>{if(lr(e,t)>=r*r)return e;const o=Zt(t,e);return e.x=t.x+r*Ce(o),e.y=t.y+r*je(o),e},Ir=(e,t,r,o)=>{if(lr(e,t)>=r*r)return;const n=Zt(e,t),a=mt(e.x,t.x,o),s=mt(e.y,t.y,o),i=r/2,l=i*Ce(n),c=i*je(n);t.x=a+l,t.y=s+c,e.x=a-l,e.y=s-c},Lr=Object.freeze({__proto__:null,create:fr,add:mr,addCartesian:xr,addPolar:_r,subtract:vr,subtractCartesian:br,subtractPolar:Or,set:Rr,setCartesian:zr,setPolar:Sr,multiply:wr,divide:Ar,clamp:Cr,constrain:Er,separate:Pr,separateEachOther:Ir}),Tr=(e,t,r)=>(r.x=e.x+t.x,r.y=e.y+t.y,r),Fr=(e,t,r,o)=>(o.x=e.x+t,o.y=e.y+r,o),kr=(e,t,r,o)=>(o.x=e.x+t*Ce(r),o.y=e.y+t*je(r),o),jr=(e,t,r)=>(r.x=e.x-t.x,r.y=e.y-t.y,r),Vr=(e,t,r,o)=>(o.x=e.x-t,o.y=e.y-r,o),Mr=(e,t,r,o)=>(o.x=e.x-t*Ce(r),o.y=e.y-t*je(r),o),Nr=(e,t,r)=>(r.x=e,r.y=t,r),Br=(e,t,r)=>(r.x=e.x*t,r.y=e.y*t,r),Dr=(e,t,r)=>{const o=1/t;return r.x=e.x*o,r.y=e.y*o,r},qr=(e,t,r,o,n,a)=>(a.x=xt(e.x,t,r),a.y=xt(e.y,o,n),a),Qr=(e,t,r,o,n,a)=>(a.x=_t(e.x,t,r),a.y=_t(e.y,o,n),a),Hr=(e,t,r)=>{const o=t.x-e.x,n=t.y-e.y,a=ft(o,n);return r.x=o/a,r.y=n/a,r},Ur=Object.freeze({__proto__:null,add:Tr,addCartesian:Fr,addPolar:kr,subtract:jr,subtractCartesian:Vr,subtractPolar:Mr,setCartesian:Nr,setPolar:(e,t,r)=>(r.x=e*Ce(t),r.y=e*je(t),r),multiply:Br,divide:Dr,clamp:qr,constrain:Qr,normalize:(e,t)=>{const{x:r,y:o}=e,n=ft(r,o);return t.x=r/n,t.y=o/n,t},normalizeBetween:Hr}),Wr=Object.freeze({__proto__:null,createVector:Kt,zeroVector:Xt,vectorIsZero:Yt,vectorFromPolar:$t,addVector:er,addCartesian:tr,addPolar:rr,subtractVector:or,subtractCartesian:nr,subtractPolar:ar,multiplyVector:sr,divideVector:ir,distanceOfVectorsSquared:lr,distanceOfVectors:cr,vectorToStr:ur,copyVector:dr,vectorLengthSquared:yr,vectorLength:pr,vectorAngle:hr,createVectorMutable:fr,addVectorMutable:mr,addCartesianMutable:xr,addPolarMutable:_r,subtractVectorMutable:vr,subtractCartesianMutable:br,subtractPolarMutable:Or,setVector:Rr,setCartesian:zr,setPolar:Sr,multiplyVectorMutable:wr,divideVectorMutable:Ar,clampVector:Cr,constrainVector:Er,separateVector:Pr,separateVectors:Ir,addVectorAssign:Tr,addCartesianAssign:Fr,addPolarAssign:kr,subtractVectorAssign:jr,subtractCartesianAssign:Vr,subtractPolarAssign:Mr,multiplyVectorAssign:Br,divideVectorAssign:Dr,clampVectorAssign:qr,constrainVectorAssign:Qr}),Gr={x:0,y:0},Zr={x:0,y:0};const Jr=Object.freeze({__proto__:null,Mutable:Lr,Assign:Ur,FullName:Wr,create:Kt,zero:Xt,isZero:Yt,fromPolar:$t,add:er,addCartesian:tr,addPolar:rr,subtract:or,subtractCartesian:nr,subtractPolar:ar,multiply:sr,divide:ir,distanceSquared:lr,distance:cr,toStr:ur,copy:dr,lengthSquared:yr,length:pr,angle:hr,dot:gr,normalize:e=>{const{x:t,y:r}=e,o=ft(t,r);return{x:t/o,y:r/o}},normalizeBetween:(e,t)=>{const r=t.x-e.x,o=t.y-e.y,n=ft(r,o);return{x:r/n,y:o/n}},getClosestPosition:function(e,t,r,o){jr(e,t,Gr),jr(r,t,Zr);const n=yr(Zr),a=gr(Gr,Zr)/n;if(a<=0)return t;if(a>=1)return r;const s=wr(Zr,a);return Tr(t,s,o),o}}),Kr=e=>{const{topLeft:t,bottomRight:r}=e;return{width:r.x-t.x,height:r.y-t.y}},Xr=e=>{const{topLeft:t,bottomRight:r}=e;return{x:(t.x+r.x)/2,y:(t.y+r.y)/2}},Yr=Object.freeze({__proto__:null,create:(e,t)=>({topLeft:e,bottomRight:{x:e.x+t.width,y:e.y+t.height}}),createFromCenter:(e,t)=>{const{x:r,y:o}=e,n=t.width/2,a=t.height/2;return{topLeft:{x:r-n,y:o-a},bottomRight:{x:r+n,y:o+a}}},containsPoint:(e,t,r)=>{const{topLeft:o,bottomRight:n}=e,{x:a,y:s}=t;return a>=o.x+r&&s>=o.y+r&&a<n.x-r&&s<n.y-r},getWidth:e=>e.bottomRight.x-e.topLeft.x,getHeight:e=>e.bottomRight.y-e.topLeft.y,getSize:Kr,getCenterPoint:Xr,createScaled:(e,t,r)=>{const{topLeft:o,bottomRight:n}=e;switch(r){case 0:return{topLeft:o,bottomRight:{x:mt(o.x,n.x,t),y:mt(o.y,n.y,t)}};case 1:{const r=Xr(e),o=Kr(e),n=t*(o.width/2),a=t*(o.height/2);return{topLeft:{x:r.x-n,y:r.y-a},bottomRight:{x:r.x+n,y:r.y+a}}}}},copy:e=>({topLeft:dr(e.topLeft),bottomRight:dr(e.bottomRight)}),createInfinite:()=>({topLeft:{x:-1/0,y:-1/0},bottomRight:{x:1/0,y:1/0}}),addMargin:(e,t)=>{const{topLeft:r,bottomRight:o}=e;return{topLeft:{x:r.x-t,y:r.y-t},bottomRight:{x:o.x+t,y:o.y+t}}},addMargins:(e,t)=>{const{topLeft:r,bottomRight:o}=e;return{topLeft:{x:r.x-t.left,y:r.y-t.top},bottomRight:{x:o.x+t.right,y:o.y+t.bottom}}}}),$r=Object.freeze({__proto__:null,getAspectRatio:e=>e.width/e.height,getArea:e=>e.width*e.height,createInfinite:()=>({width:1/0,height:1/0})}),eo=Object.freeze({__proto__:null,createCurve:e=>{const t=[],r=e.length;let o=e[0],n=o.controlLine;for(let a=1;a<r;a+=1){const r=e[a],s=r.controlLine;t.push({controlPoint1:rr(o.point,.5*n.length,n.angle),controlPoint2:ar(r.point,.5*s.length,s.angle),targetPoint:r.point}),o=r,n=s}return{startPoint:e[0].point,paths:t}}}),to=Object.freeze({__proto__:null,distanceSquared:(e,t,r,o)=>gt(r-e,o-t),distance:(e,t,r,o)=>ft(r-e,o-t)}),ro=ct,oo=ut,no=dt,ao=e=>e?Fe(2,10*(e-1)):0,so=(e=1.70158)=>t=>t*t*((e+1)*t-e),io=Object.freeze({__proto__:null,quad:ro,cubic:oo,quart:no,expo:ao,createBack:so}),lo=e=>1-ct(e-1),co=e=>ut(e-1)+1,uo=e=>1-dt(e-1),yo=e=>e<1?1-Fe(2,-10*e):1,po=(e=1.70158)=>t=>{const r=t-1,o=r*r;return(e+1)*(r*o)+e*o+1},ho=Object.freeze({__proto__:null,quad:lo,cubic:co,quart:uo,expo:yo,createBack:po}),go=(e,t,r=.5)=>{const o=1/r;return n=>{if(n<r)return e(o*n);return t((n-r)/(1-r))}},fo=(e,t,r=.5)=>{const o=1/r;return n=>{if(n<r)return r*e(o*n);{const e=1-r;return r+e*t((n-r)/e)}}},mo=fo(ro,lo),xo=fo(oo,co),_o=fo(no,uo),vo=fo(ao,yo),bo=e=>fo(so(e),po(e)),Oo=Object.freeze({__proto__:null,quad:mo,cubic:xo,quart:_o,expo:vo,createBack:bo}),Ro=fo(lo,ro),zo=fo(co,oo),So=fo(uo,no),wo=fo(yo,ao),Ao=e=>fo(po(e),so(e)),Co=Object.freeze({__proto__:null,quad:Ro,cubic:zo,quart:So,expo:wo,createBack:Ao}),Eo=e=>e,Po=Object.freeze({__proto__:null,easeInQuad:ro,easeInCubic:oo,easeInQuart:no,easeInExpo:ao,createEaseInBack:so,easeOutQuad:lo,easeOutCubic:co,easeOutQuart:uo,easeOutExpo:yo,createEaseOutBack:po,easeInOutQuad:mo,easeInOutCubic:xo,easeInOutQuart:_o,easeInOutExpo:vo,createEaseInOutBack:bo,easeOutInQuad:Ro,easeOutInCubic:zo,easeOutInQuart:So,easeOutInExpo:wo,createEaseOutInBack:Ao,easeLinear:Eo,concatenateEasing:go,integrateEasing:fo}),Io=Object.freeze({__proto__:null,In:io,Out:ho,InOut:Oo,OutIn:Co,FullName:Po,linear:Eo,concatenate:go,integrate:fo});let Lo=Math.random,To=Lo;const Fo=e=>{Lo=e,To=e},ko=e=>Lo()*e,jo=()=>Lo()*Vt,Vo=(e,t)=>e+Lo()*(t-e),Mo=e=>Vo(e.start,e.end),No=e=>Lo()<e,Bo=e=>Lo()<e?1:-1,Do=e=>(Lo()<.5?1:-1)*Lo()*e,qo=()=>(Lo()<.5?1:-1)*Lo()*jt,Qo=e=>$t(e,jo()),Ho=e=>{const{topLeft:t,bottomRight:r}=e;return{x:Vo(t.x,r.x),y:Vo(t.y,r.y)}},Uo=e=>Pe(Lo()*e),Wo=(e,t)=>e+Pe(Lo()*(t-e)),Go=e=>(Lo()<.5?1:-1)*Pe(Lo()*e),Zo=Object.freeze({__proto__:null,value:Uo,between:Wo,signed:Go}),Jo=e=>Pe(Lo()/e)*e,Ko=(e,t)=>Pe(Lo()*(t/e))*e,Xo=(e,t,r)=>t+Pe(Lo()*((r-t)/e))*e,Yo=(e,t)=>(Lo()<.5?1:-1)*Pe(Lo()*(t/e))*e,$o=e=>Pe(Lo()*(Vt/e))*e,en=e=>(Lo()<.5?1:-1)*Pe(Lo()*(jt/e))*e,tn=Object.freeze({__proto__:null,ratio:Jo,value:Ko,between:Xo,signed:Yo,angle:$o,signedAngle:en}),rn=e=>e[Uo(e.length)],on=e=>e.splice(Uo(e.length),1)[0],nn=Object.freeze({__proto__:null,get:rn,removeGet:on}),an=e=>e(Lo()),sn=(e,t)=>e(Lo())*t,ln=(e,t,r)=>t+e(Lo())*(r-t),cn=(e,t)=>ln(e,t.start,t.end),un=Object.freeze({__proto__:null,ratio:an,value:sn,between:ln,inRange:cn,angle:e=>e(Lo())*Vt,signed:(e,t)=>(Lo()<.5?1:-1)*e(Lo())*t,signedAngle:e=>(Lo()<.5?1:-1)*e(Lo())*jt}),dn=Object.freeze({__proto__:null,setBaseRandomFunction:Fo,get randomRatio(){return To},randomValue:ko,randomAngle:jo,randomBetween:Vo,randomInRange:Mo,randomBool:No,randomSign:Bo,randomSigned:Do,randomSignedAngle:qo,randomInteger:Uo,randomIntegerBetween:Wo,randomIntegerSigned:Go,randomDiscreteRatio:Jo,randomDiscreteValue:Ko,randomDiscreteAngle:$o,randomDiscreteBetween:Xo,randomDiscreteSigned:Yo,randomDiscreteSignedAngle:en,randomFromArray:rn,randomRemoveFromArray:on,randomRatioCurved:an,randomValueCurved:sn,randomBetweenCurved:ln,randomInRangeCurved:cn,randomVector:Qo,randomPointInRectangleRegin:Ho}),yn=Object.freeze({__proto__:null,Integer:Zo,Discrete:tn,Arrays:nn,Curved:un,FullName:dn,get random(){return Lo},get ratio(){return To},setBaseFunction:Fo,value:ko,angle:jo,between:Vo,inRange:Mo,bool:No,sign:Bo,signed:Do,signedAngle:qo,vector:Qo,pointInRectangleRegion:Ho}),pn=Object.freeze({__proto__:null,calculateScaleFactor:(e,t,r)=>{switch(r){default:case"FIT_TO_BOX":return yt(t.width/e.width,t.height/e.height);case"FIT_WIDTH":return t.width/e.width;case"FIT_HEIGHT":return t.height/e.height}}}),hn=Object.freeze({__proto__:null,getElementOrBody:e=>document.getElementById(e)||document.body,getElementSize:e=>e===document.body?{width:window.innerWidth,height:window.innerHeight}:e.getBoundingClientRect()}),gn=()=>{},fn=Object.freeze({__proto__:null,returnVoid:gn,returnUndefined:()=>{},returnNull:()=>null,returnZero:()=>0,returnOne:()=>1,returnTrue:()=>!0,returnFalse:()=>!1,returnArgument:e=>e,runSelf:e=>e()});let mn=gn;let xn=0;const _n=e=>e.step(),vn=e=>e.reset();class bn{constructor(e,t){this.id=xn++,this.name="no name",this.onStart=e,this.onComplete=t,this.isStarted=!1,this.isCompleted=!1,mn("timer ",this.id,": created.")}tryStart(){if(this.isStarted)return!1;const{id:e,name:t}=this;return mn("timer ",e,t,": starting..."),x(this.onStart,e),mn("timer ",e,t,": started."),this.isStarted=!0}complete(){const{id:e,name:t}=this;return mn("timer ",e,t,": completing..."),x(this.onComplete,e),mn("timer ",e,t,": completed."),this.isCompleted=!0}setName(e){return this.name=e,this}}const On=Object.freeze({__proto__:null,step:_n,reset:vn,Base:bn}),Rn=e=>({duration:e,ratioChangeRate:1/pt(1,e),count:0,ratio:0});class zn extends bn{constructor(e,t,r,o){super(e,r),this.onProgress=t,this.progress=o}static create(e,t,r,o){return new zn(e,t,r,o)}step(){if(this.isCompleted)return!0;this.tryStart();const{progress:e}=this;return e.count>=e.duration?(e.ratio=1,x(this.onProgress,e),this.complete()):(x(this.onProgress,e),(e=>{e.count+=1,e.ratio+=e.ratioChangeRate})(e),!1)}reset(){var e;return(e=this.progress).count=0,e.ratio=0,this.isStarted=!1,this.isCompleted=!1,this}setName(e){return super.setName(e),this}}const Sn=e=>zn.create(c(e.onStart),c(e.onProgress),c(e.onComplete),Rn(e.duration)),wn=zn.create([],[],[],Rn(0));wn.isStarted=!0,wn.isCompleted=!0;const An=(e,t)=>{e.index=t,e.currentComponent=e.components[t]};class Cn extends bn{constructor(e){super([],[]),this.components=e.slice(),this.index=0,this.currentComponent=e[0]}static create(e){return new Cn(e)}step(){return this.tryStart(),!!this.currentComponent.step()&&(e=>{const t=e.index+1;return t<e.components.length?(An(e,t),!1):e.complete()})(this)}reset(){return r(this.components,vn),An(this,0),this.isStarted=!1,this.isCompleted=!1,this}pushComponent(e){this.components.push(e)}setName(e){return super.setName(e),this}}const En=e=>Cn.create(e),Pn=Object.freeze({__proto__:null,Unit:Cn,create:En});class In extends bn{constructor(e){super([],[]),this.components=e.slice(),this.runningComponentList=P(e.slice())}static create(e){return new In(e)}step(){this.tryStart();const{runningComponentList:e}=this;return Z(e,_n),!(e.size>0)&&this.complete()}reset(){const{runningComponentList:e}=this;return R(e),V(e,this.components),B(e,vn),this.isStarted=!1,this.isCompleted=!1,this}setName(e){return super.setName(e),this}addComponent(e){this.components.push(e),I(this.runningComponentList,e)}}const Ln=e=>In.create(e),Tn=Object.freeze({__proto__:null,Unit:In,create:Ln});class Fn extends bn{constructor(e,t){super([],[]),this.component=e,this.loopCount=t,this.remainingCount=t}static create(e,t){return new Fn(e,t)}step(){return this.tryStart(),!!this.component.step()&&(!!this.isCompleted||((this.remainingCount-=1)>0?(this.component.reset(),!1):this.complete()))}reset(){const{loopCount:e}=this;return this.remainingCount=e,this.component.reset(),this.isStarted=!1,this.isCompleted=!1,this}setName(e){return super.setName(e),this}}const kn=(e,t=1/0)=>Fn.create(e,t),jn=Object.freeze({__proto__:null,Unit:Fn,create:kn}),Vn=e=>({runningComponents:A(e),newComponentsBuffer:A(e)}),Mn=(e,t)=>I(e.newComponentsBuffer,t),Nn=e=>{const{runningComponents:t,newComponentsBuffer:r}=e;M(t,r),R(r),Z(t,_n)},Bn=e=>{R(e.runningComponents),R(e.newComponentsBuffer)},Dn=Object.freeze({__proto__:null,create:Vn,add:Mn,step:Nn,clear:Bn,construct:e=>{const t=Vn(e);return{add:Mn.bind(void 0,t),step:Nn.bind(void 0,t),clear:Bn.bind(void 0,t)}}}),qn=Object.freeze({__proto__:null,Component:On,Chain:Pn,Parallel:Tn,Loop:jn,Set:Dn,chain:En,parallel:Ln,loop:kn,outputVerbose:(e=!0)=>{mn=e?console.info:gn},Unit:zn,create:Sn,dummy:wn}),Qn=new Map([["A",".-"],["B","-..."],["C","-.-."],["D","-.."],["E","."],["F","..-."],["G","--."],["H","...."],["I",".."],["J",".---"],["K","-.-"],["L",".-.."],["M","--"],["N","-."],["O","---"],["P",".--."],["Q","--.-"],["R",".-."],["S","..."],["T","-"],["U","..-"],["V","...-"],["W",".--"],["X","-..-"],["Y","-.--"],["Z","--.."],["1",".----"],["2","..---"],["3","...--"],["4","....-"],["5","....."],["6","-...."],["7","--..."],["8","---.."],["9","----."],["0","-----"],[".",".-.-.-"],[",","--..--"],[":","---..."],["?","..--.."],["'",".----."],["!","-.-.--"],["-","-....-"],["/","-..-."],["@",".--.-."],["(","-.--."],[")","-.--.-"],['"',".-..-."],["=","-...-"],["+",".-.-."]]),Hn=(e,t,r)=>{let o="";const n=e?"1":"0";for(let e=0;e<t;e+=1)o+=n;return Object.freeze({isOn:e,length:t,codeString:r,binaryString:o})},Un=(e,t)=>Hn(!0,e,t),Wn=(e,t)=>Hn(!1,e,t),Gn=Un(1,"."),Zn=Un(3,"-"),Jn=Wn(1,""),Kn=Wn(3," "),Xn=Wn(7," / "),Yn=Wn(0,"");const $n=Object.freeze({__proto__:null,DIT:Gn,DAH:Zn,INTER_ELEMENT_GAP:Jn,SHORT_GAP:Kn,MEDIUM_GAP:Xn,NUL:Yn,encode:function(e){const t=e.toUpperCase(),r=[];let o=void 0;for(let e=0,n=t.length;e<n;e+=1){const n=t.charAt(e);if(" "===n){o=Xn;continue}if(0===n.charCodeAt(0)){o&&r.push(o),o=void 0,r.push(Yn);continue}const a=Qn.get(n);if(a){for(let e=0,t=a.length;e<t;e+=1){switch(o&&r.push(o),a.charAt(e)){case".":r.push(Gn);break;case"-":case"_":r.push(Zn);break;default:continue}o=Jn}o=Kn}}return r},toString:e=>e.reduce((e,t)=>e+t.codeString,""),toBinaryString:e=>e.reduce((e,t)=>e+t.binaryString,""),getTotalLength:e=>e.reduce((e,t)=>e+t.length,0)});function ea(e){return 1e3/(e/60*50)}const ta=e=>{e.timeout&&(e.off(Yn),clearTimeout(e.timeout),e.timeout=void 0),e.index=0},ra=(e,t,r)=>{t.timeout=setTimeout(()=>{t.timeout=void 0,e(t)},r)},oa=e=>{const t=(e=>{const{unitTime:t,signals:r,index:o,on:n,off:a}=e,s=r[o];return s.isOn?n(s):a(s),t*s.length})(e);e.index+=1,e.index<e.signals.length?ra(oa,e,t):(e.timeout=setTimeout(()=>{e.loop?(e.off(Yn),e.timeout=void 0):(e.off(Xn),ra(oa,e,Xn.length))},t),e.index=0)},na=Object.freeze({__proto__:null,wpmToDotDuration:ea,create:(e,t,r=25,o=[],n=!1)=>({on:e,off:t,wpm:r,unitTime:ea(r),loop:n,signals:o,index:0,timeout:void 0}),stop:ta,start:(e,t)=>{ta(e),t&&(e.signals=t),oa(e)}}),aa=Object.freeze({__proto__:null,Signal:$n,Channel:na}),sa=Object.freeze({__proto__:null,create:(e,t,r)=>{const{x:o,y:n}=e,{x:a,y:s}=r.target,i=r.easing||Eo;return Sn({duration:t,onProgress:t=>{const r=i(t.ratio);zr(e,mt(o,a,r),mt(n,s,r))}})},setCreate:(e,t,r)=>{let o,n,a,s,i;return Sn({duration:t,onStart:()=>{const{target:t,easing:l}=r();({x:o,y:n}=e),({x:a,y:s}=t),i=l||Eo},onProgress:t=>{const r=i(t.ratio);zr(e,mt(o,a,r),mt(n,s,r))}})}}),ia=Object.freeze({__proto__:null,Vector2D:sa,create:(e,t,r)=>{const{start:o,end:n}=r,a=r.easing||Eo;return Sn({duration:t,onProgress:t=>e(mt(o,n,a(t.ratio)))})},setCreate:(e,t,r)=>{let o,n,a;return Sn({duration:t,onStart:()=>{const{start:e,end:t,easing:s}=r();o=e,n=t,a=s||Eo},onProgress:t=>e(mt(o,n,a(t.ratio)))})}}),la=Object.freeze({__proto__:null,create:(e,t=1)=>({callback:e,frequency:t,accumulation:0}),run:e=>{for(e.accumulation+=e.frequency;e.accumulation>=1;)e.accumulation-=1,e.callback()},reset:e=>{e.accumulation=0}});let ca=gn,ua=gn,da=gn;const ya=Object.freeze({__proto__:null,get info(){return ca},get warn(){return ua},get error(){return da},outputInfo:(e=!0)=>{ca=e?console.info:gn},outputWarn:(e=!0)=>{ua=e?console.warn:gn},outputError:(e=!0)=>{da=e?console.error:gn}}),pa=(e,t,r)=>{e.x+=e.vx,e.y+=e.vy,e.vx+=t,e.vy+=r},ha=(e,t,r)=>{e.vx2=e.vx+.5*t,e.vy2=e.vy+.5*r,e.vx+=t,e.vy+=r,e.x+=e.vx2,e.y+=e.vy2},ga=(e,t,r)=>{e.vx=e.vx2+.5*t,e.vy=e.vy2+.5*r},fa=Object.freeze({__proto__:null,createQuantity:(e,t,r,o)=>({x:e,y:t,vx:r||0,vy:o||0}),updateEuler:e=>{e.x+=e.vx,e.y+=e.vy},updateEulerAccelerated:pa,updateVerlet:ha,postUpdateVerlet:ga,positionVector:(e,t)=>Nr(e.x,e.y,t),velocityVector:(e,t)=>Nr(e.vx,e.vy,t),getSpeed:e=>ft(e.vx,e.vy),getVelocityAngle:e=>ht(e.vy,e.vx),truncateVelocity:(e,t)=>{const{vx:r,vy:o}=e;if(gt(r,o)<=t*t)return e;const n=we(o,r);return e.vx=t*Ce(n),e.vy=t*je(n),e},setVelocity:(e,t)=>(e.vx=t.x,e.vy=t.y,e),setVelocityCartesian:(e,t,r)=>(e.vx=t,e.vy=r,e),setVelocityPolar:(e,t,r)=>(e.vx=t*Ce(r),e.vy=t*je(r),e),bounceInRectangleRegion:(e,t,r)=>{const{x:o,y:n,vx:a,vy:s}=r,{x:i,y:l}=e.topLeft,{x:c,y:u}=e.bottomRight;return o<i?(r.x=i,a<0&&(r.vx=-t*a),!0):o>=c?(r.x=c-1,a>0&&(r.vx=-t*a),!0):n<l?(r.y=l,s<0&&(r.vy=-t*s),!0):n>=u&&(r.y=u-1,s>0&&(r.vy=-t*s),!0)}}),ma=(e,t)=>(e.fx+=t.x,e.fy+=t.y,e),xa=Object.freeze({__proto__:null,createQuantity:(e,t,r,o)=>({x:e,y:t,vx:r||0,vy:o||0,fx:0,fy:0}),createVerletQuantity:(e,t,r,o)=>({x:e,y:t,vx:r||0,vy:o||0,vx2:0,vy2:0,fx:0,fy:0}),updateEuler:e=>{pa(e,e.fx,e.fy),e.fx=0,e.fy=0},updateVerlet:e=>{ha(e,e.fx,e.fy),e.fx=0,e.fy=0},postUpdateVerlet:e=>{ga(e,e.fx,e.fy)},forceVector:(e,t)=>Nr(e.fx,e.fy,t),truncateForce:(e,t)=>{const{fx:r,fy:o}=e;if(gt(r,o)<=t*t)return e;const n=we(o,r);return e.fx=t*Ce(n),e.fy=t*je(n),e},addForce:ma,addForceCartesian:(e,t,r)=>(e.fx+=t,e.fy+=r,e),addForcePolar:(e,t,r)=>(e.fx+=t*Ce(r),e.fy+=t*je(r),e)}),_a=Object.freeze({__proto__:null,createQuantity:(e,t,r,o,n)=>({x:e,y:t,vx:o||0,vy:n||0,fx:0,fy:0,mass:r}),createVerletQuantity:(e,t,r,o,n)=>({x:e,y:t,vx:o||0,vy:n||0,vx2:0,vy2:0,fx:0,fy:0,mass:r}),updateEuler:e=>{const{mass:t}=e;pa(e,e.fx/t,e.fy/t),e.fx=0,e.fy=0},updateVerlet:e=>{const{mass:t}=e;ha(e,e.fx/t,e.fy/t),e.fx=0,e.fy=0},postUpdateVerlet:e=>{const{mass:t}=e;ga(e,e.fx/t,e.fy/t)}});let va=1,ba=-va;const Oa=(e,t,r,o)=>Br(e,ba*t/(r*r*r),o),Ra=(e,t,r)=>Oa(jr(t,e,r),e.mass*t.mass,cr(e,t),r),za=(e,t,r)=>Br(e,ba/(t*t*t),r),Sa=(e,t,r)=>za(jr(t,e,r),cr(e,t),r),wa=(e,t,r)=>{const{x:o,y:n}=r;e.fx-=o,e.fy-=n,t.fx+=o,t.fy+=n},Aa={x:0,y:0},Ca={precalculated:(e,t,r,o)=>ma(e,Oa(t,r,o,Aa)),calculate:(e,t)=>ma(t,Ra(e,t,Aa)),precalculatedSimple:(e,t,r)=>ma(e,za(t,r,Aa)),calculateSimple:(e,t)=>ma(t,Sa(e,t,Aa))},Ea={precalculated:(e,t,r,o,n)=>wa(e,t,Oa(r,o,n,Aa)),calculate:(e,t)=>wa(e,t,Ra(e,t,Aa)),precalculatedSimple:(e,t,r,o)=>wa(e,t,za(r,o,Aa)),calculateSimple:(e,t)=>wa(e,t,Sa(e,t,Aa))},Pa=Object.freeze({__proto__:null,get constant(){return va},setConstant:e=>{va=e,ba=-va},calculateCore:Oa,calculate:Ra,calculateCoreSimple:za,calculateSimple:Sa,attract:Ca,attractEachOther:Ea}),Ia=Object.freeze({__proto__:null,update:e=>{e.rotationAngle+=e.rotationVelocity},createRandomQuantity:(e,t)=>({rotationAngle:jo(),rotationVelocity:Do(Vo(e,t))})}),La=(e,t,r,o,n)=>{const a=-(e*r.x+t*r.y);return Br(r,(1+o)*a,n),n},Ta={x:0,y:0},Fa={x:0,y:0},ka={calculate:(e,t,r)=>{const o=t.vx-e.vx,n=t.vy-e.vy;Hr(e,t,Fa),La(o,n,Fa,r,Ta),ma(t,Ta),wr(Ta,-1),ma(e,Ta)},preCalculated:(e,t,r,o,n,a)=>{La(r,o,n,a,Ta),ma(t,Ta),wr(Ta,-1),ma(e,Ta)}},ja=Object.freeze({__proto__:null,calculateForce:La,withinRectangle:(e,t,r)=>{const{x:o,y:n}=e,{topLeft:{x:a,y:s},bottomRight:{x:i,y:l}}=t;o<a?(e.x=a,e.vx=-r*e.vx):o>=i&&(e.x=i-1,e.vx=-r*e.vx),n<s?(e.y=s,e.vy=-r*e.vy):n>=l&&(e.y=l-1,e.vy=-r*e.vy)},addForce:(e,t,r)=>ma(e,La(e.vx,e.vy,t,r,Ta)),addForceEachOther:ka,addForceWithinRectangle:(e,t,r)=>{const{x:o,y:n}=e,{topLeft:{x:a,y:s},bottomRight:{x:i,y:l}}=t,c=1+r;o<a?(e.x=a,e.fx-=c*e.vx):o>=i&&(e.x=i-1,e.fx-=c*e.vx),n<s?(e.y=s,e.fy-=c*e.vy):n>=l&&(e.y=l-1,e.fy-=c*e.vy)}}),Va=Object.freeze({__proto__:null,withRandomHue:(e,t)=>[ko(360),e,t],toRGB:e=>{const[t,r,o]=e,n=o*r,a=t*(1/60),s=n*(1-Oe(a%2-1));let i;switch(Pe(a)){case 0:i=[n,s,0];break;case 1:i=[s,n,0];break;case 2:i=[0,n,s];break;case 3:i=[0,s,n];break;case 4:i=[s,0,n];break;case 5:i=[n,0,s];break;default:i=[0,0,0]}const l=o-n;return[i[0]+l,i[1]+l,i[2]+l]}}),Ma=Object.freeze({__proto__:null,Angle:Jt,ArrayList:ee,ArrayQueue:he,Arrays:b,Bezier:eo,Bounce:ja,ConstantFunction:fn,Coordinates2D:to,Dynamics:_a,Easing:Io,FitBox:pn,Gravitation:Pa,HSV:Va,HtmlUtility:hn,Kinematics:fa,Lazy:ve,LinkedQueue:_e,Log:ya,MathConstants:kt,MorseCode:aa,Numeric:vt,Random:yn,RectangleRegion:Yr,RectangleSize:$r,Repeater:la,Rotation:Ia,SimpleDynamics:xa,StructureOfArrays:be,Timer:qn,Tween:ia,Vector2D:Jr}),{RectangleRegion:Na,FitBox:Ba,Arrays:{FullName:{loopArray:Da,unifyToArray:qa}},ArrayList:Qa,Vector2D:Ha,Vector2D:{FullName:{vectorFromPolar:Ua,copyVector:Wa,zeroVector:Ga,constrainVector:Za,setCartesian:Ja}},Coordinates2D:{distance:Ka},Numeric:{sin:Xa,cos:Ya,round:$a,lerp:es,inverseLerp:ts,max2:rs,clamp:os},MathConstants:{ONE_OVER_SQUARE_ROOT_TWO:ns,INVERSE255:as},Random:{FullName:{randomValue:ss,randomSigned:is}},Angle:ls,Angle:{TWO_PI:cs},HSV:us,ConstantFunction:ds,ConstantFunction:{returnVoid:ys},Tween:ps,Timer:hs}=Ma;let gs,fs,ms;const xs=e=>{gs=e,ms=gs},_s=e=>{fs=e},vs=t=>t instanceof e.Color?Object.create(t):gs.color(t),bs=e=>{if(null===e)return()=>ms.noStroke();if(void 0===e)return ys;const t=vs(e);return()=>ms.stroke(t)},Os=e=>{if(null===e)return()=>ms.noFill();if(void 0===e)return ys;const t=vs(e);return()=>ms.fill(t)},Rs=(e,t)=>{const r=vs(e);return gs.color(gs.red(r),gs.green(r),gs.blue(r),t)},zs=(e,t)=>{const r=new Array(t),o=t-1,n=vs(e);if(1===t)r[0]=n;else{const e=gs.alpha(n);for(let a=1;a<t;a+=1){const t=e*(a/o);r[a]=Rs(n,t)}}return{colors:r,maxIndex:o}},Ss=(e,t)=>e.colors[$a(e.maxIndex*t*as)],ws=Object.freeze({__proto__:null,create:zs,get:Ss}),As=[],Cs=(e,t,r,o)=>{if(1===o)return e.stroke=bs(t),e.fill=Os(r),e;if(null===t)e.stroke=()=>ms.noStroke();else if(void 0===t)e.stroke=ys;else{const r=zs(t,o);e.stroke=e=>ms.stroke(Ss(r,e))}if(null===r)e.fill=()=>ms.noFill();else if(void 0===r)e.fill=ys;else{const t=zs(r,o);e.fill=e=>ms.fill(Ss(t,e))}return e},Es=Object.freeze({__proto__:null,create:(e,t,r)=>{const o={stroke:ys,fill:ys},n=Cs.bind(void 0,o,e,t,r);return gs?n():(As.push(n),o)},apply:(e,t)=>{if(t<1)return ms.noStroke(),void ms.noFill();e.stroke(t),e.fill(t)}}),Ps=(e=gs,t)=>{t&&(e.push(),t(e),e.pop()),e.loadPixels();const r=e.pixels;return()=>{e.pixels=r,e.updatePixels()}},Is=(e=gs)=>{const t=e.pixelDensity(),r=e.width*t,{pixels:o}=e;return(e,n,a,s,i,l)=>{const c=e*t,u=c+t,d=n*t,y=d+t;for(let e=d;e<y;e+=1){const t=e*r;for(let e=c;e<u;e+=1){const r=4*(t+e);o[r]=a,o[r+1]=s,o[r+2]=i,o[r+3]=l}}}},Ls=(e=gs)=>{const t=e.pixelDensity(),r=e.width*t,{pixels:o}=e;return(e,n,a,s,i)=>{const l=e*t,c=l+t;for(let e=l;e<c;e+=1){const t=e*r;for(let e=0;e<r;e+=1){const r=4*(t+e);o[r]=n,o[r+1]=a,o[r+2]=s,o[r+3]=i}}}},Ts=(e,t,r)=>{ms.translate(t,r),e(),ms.translate(-t,-r)},Fs=(e,t)=>{ms.rotate(t),e(),ms.rotate(-t)},ks=(e,t)=>{ms.scale(t),e(),ms.scale(1/t)},js=(e,t,r,o)=>{ms.translate(t,r),ks(e,o),ms.translate(-t,-r)};let Vs=0,Ms=0,Ns=0,Bs=1;const Ds=e=>ms.curveVertex(e.x,e.y),qs=e=>{const{controlPoint1:t,controlPoint2:r,targetPoint:o}=e;ms.bezierVertex(t.x,t.y,r.x,r.y,o.x,o.y)},Qs=e=>{const{point:t,controlLine:r}=e,{x:o,y:n}=t,a=Ua(.5*r.length,r.angle),s=a.x,i=a.y;ms.line(o-s,n-i,o+s,n+i)};let Hs=0,Us=0,Ws="DEFAULT";const Gs=(e,t=gs)=>{const{width:r,height:o}=t;t.loadPixels();const n=Is(t);for(let t=0;t<o;t+=1)for(let o=0;o<r;o+=1)e(n,o,t);t.updatePixels()},Zs=(e,t=gs)=>{const{height:r}=t;t.loadPixels();const o=Ls(t);for(let t=0;t<r;t+=1)e(o,t);t.updatePixels()},Js=(e,t,r,o,n,a)=>{const s=r-e,i=o-t;ms.line(e+n*s,t+n*i,e+a*s,t+a*i)},Ks=(e,t,r,o)=>{const n=r-e,a=o-t;return(r,o)=>ms.line(e+r*n,t+r*a,e+o*n,t+o*a)},Xs=Object.freeze({__proto__:null,draw:Js,create:Ks}),Ys=(e,t,r,o,n,a,s,i)=>{n!==a&&ms.arc(e,t,r,o,n*cs,a*cs,s,i)},$s=(e,t,r,o,n,a)=>(s,i)=>Ys(e,t,r,o,s,i,n,a),ei=Object.freeze({__proto__:null,draw:Ys,create:$s}),ti=(e,t,r,o,n,a,s)=>Ys(e,t,r,r,o,n,a,s),ri=(e,t,r,o,n)=>$s(e,t,r,r,o,n),oi=Object.freeze({__proto__:null,draw:ti,create:ri}),ni=(e,t)=>({from:e,to:t,length:Ka(e.x,e.y,t.x,t.y)}),ai=(e,t)=>{const{from:r,to:o}=e;ms.vertex(es(r.x,o.x,t),es(r.y,o.y,t))},si=e=>{const t=(e=>{const t=e.length,r=new Array(t),o=t-1;let n=0;for(let t=0;t<o;t+=1){const o=ni(e[t],e[t+1]);r[t]=o,n+=o.length}const a=ni(e[o],e[0]);r[o]=a,n+=a.length;const s=new Array(t);for(let e=0,o=0;e<t;e+=1){const t=r[e],a=o+t.length/n;s[e]={from:t.from,to:t.to,previousRatio:o,nextRatio:a},o=a}return s})(e);return(e,r)=>{const o=((e,t)=>{for(let r=t.length-1;r>=0;r-=1)if(t[r].previousRatio<=e)return r;return 0})(e,t),n=((e,t)=>{const{length:r}=t;for(let o=0;o<r;o+=1)if(e<=t[o].nextRatio)return o;return r-1})(r,t),a=ts(e,t[o].previousRatio,t[o].nextRatio),s=ts(r,t[n].previousRatio,t[n].nextRatio);if(ms.beginShape(),ai(t[o],a),o!==n)for(let e=o;e<n;e+=1){const r=t[e].to;ms.vertex(r.x,r.y)}ai(t[n],s),ms.endShape()}},ii=Object.freeze({__proto__:null,create:si}),li=(e,t,r,o)=>{const n=e+r,a=t+o;return si([{x:e,y:t},{x:n,y:t},{x:n,y:a},{x:e,y:a}])},ci=(e,t,r,o)=>{const n=.5*r,a=.5*o,s=e-n,i=t-a,l=e+n,c=t+a;return si([{x:s,y:i},{x:l,y:i},{x:l,y:c},{x:s,y:c}])},ui=Object.freeze({__proto__:null,createCorner:li,createCenter:ci}),di=(e,t,r)=>li(e,t,r,r),yi=(e,t,r)=>ci(e,t,r,r),pi=Object.freeze({__proto__:null,createCorner:di,createCenter:yi}),hi=Object.freeze({__proto__:null,drawTrimmedLine:Js,createTrimmedLine:Ks,drawTrimmedEllipse:Ys,createTrimmedEllipse:$s,drawTrimmedCircle:ti,createTrimmedCircle:ri,createTrimmedPolygon:si,createTrimmedRectangleCorner:li,createTrimmedRectangleCenter:ci,createTrimmedSquareCorner:di,createTrimmedSquareCenter:yi}),gi=Object.freeze({__proto__:null,Line:Xs,Ellipse:ei,Circle:oi,Polygon:ii,Rectangle:ui,Square:pi,FullName:hi}),fi=e=>{e.zoomTimer=hs.dummy,e.targetZoomFactor=void 0},mi=Object.freeze({__proto__:null,create:e=>{const{displaySize:t,initialDisplayPosition:r,initialFocusPoint:o,minZoomFactor:n,maxZoomFactor:a}=e,s=e.regionBoundary||Na.createInfinite(),i=Ba.calculateScaleFactor(Na.getSize(s),t),l=n?rs(i,n):i,c=a?rs(l,a):1/0;return{displaySize:t,displayPosition:Wa(r||Ga),regionBoundary:s,zoomFactorRange:{start:l,end:c},focusPoint:o?Wa(o):s?Na.getCenterPoint(s):Wa(Ga),zoomFactor:1,zoomTimer:hs.dummy,targetZoomFactor:void 0,targetFocusPoint:void 0,focusPointEasingFactor:.1}},update:e=>{const{displaySize:{width:t,height:r},regionBoundary:{topLeft:{x:o,y:n},bottomRight:{x:a,y:s}},zoomFactor:i,focusPoint:l,targetFocusPoint:c,focusPointEasingFactor:u}=e;c&&(l.x+=u*(c.x-l.x),l.y+=u*(c.y-l.y));const d=t/(2*i),y=r/(2*i);Za(l,o+d,a-d,n+y,s-y),hs.Component.step(e.zoomTimer)},draw:(e,t)=>{const{displaySize:r,displayPosition:o,focusPoint:n,zoomFactor:a}=e;js(t,o.x+r.width/2-a*n.x,o.y+r.height/2-a*n.y,a)},stopTweenZoom:fi,setZoom:(e,t)=>{const{zoomFactorRange:r}=e,o=os(t,r.start,r.end);e.zoomFactor=o,fi(e)},tweenZoom:(e,t,r,o=60)=>{const{zoomFactorRange:n}=e,a=os(t,n.start,n.end),s=ps.create(t=>e.zoomFactor=t,o,{start:e.zoomFactor,end:a,easing:r});return s.onComplete.push(fi.bind(void 0,e)),e.targetZoomFactor=a,e.zoomTimer=s},getWorldPosition:(e,t,r)=>{const{displaySize:o,displayPosition:n,focusPoint:a,zoomFactor:s}=e,i=1/s;return Ja(r,i*(t.x-(n.x+o.width/2))+a.x,i*(t.y-(n.y+o.height/2))+a.y)},getScreenPosition:(e,t,r)=>{const{displaySize:o,displayPosition:n,focusPoint:a,zoomFactor:s}=e;return Ja(r,n.x+o.width/2+s*(t.x-a.x),n.y+o.height/2+s*(t.y-a.y))}}),xi={x:0,y:0},_i={x:0,y:0},vi={x:0,y:0};let bi=!0;const Oi=ds.returnVoid,Ri=ds.returnFalse,zi=e=>{let t=!0;for(let r=0;r<e.length;r+=1)t=!1!==e[r](xi)&&t;return t},Si=e=>({onClicked:qa(e.onClicked),onPressed:qa(e.onPressed),onReleased:qa(e.onReleased),onMoved:qa(e.onMoved),onEnter:qa(e.onEnter),onLeave:qa(e.onLeave),isMouseOver:e.isMouseOver||ds.returnTrue,active:!0,mouseOver:!1}),wi=Si({}),Ai=Qa.create(32),Ci=Si({}),Ei=e=>{const t=Si(e);return Qa.add(Ai,t),t},Pi=e=>{const t=(e=>{const t=(e=>{switch(e){case 0:return e=>e.onClicked;case 1:return e=>e.onPressed;case 2:return e=>e.onReleased;case 3:return e=>e.onMoved}})(e);return e=>!e.active||!e.mouseOver||zi(t(e))})(e);return()=>{if(!bi)return;if(!1===t(wi))return;const e=Ai.array;let r=Ai.size-1;for(;r>=0;){if(!1===t(e[r]))return;r-=1}t(Ci)}},Ii=Pi(0),Li=Pi(1),Ti=Pi(2),Fi=e=>(e.mouseOver=!1,!0),ki=e=>{if(e.active){if(!e.isMouseOver(xi))return e.mouseOver?(e.mouseOver=!1,zi(e.onLeave)):void 0;if(!e.mouseOver){e.mouseOver=!0;const t=!1!==zi(e.onEnter);return!1!==zi(e.onMoved)&&t}return zi(e.onMoved)}},ji=Object.freeze({__proto__:null,get active(){return bi},setActive:e=>{bi=e},emptyHandler:Oi,stopHandler:Ri,createListener:Si,topListener:wi,listenerStack:Ai,bottomListener:Ci,addListener:e=>Qa.add(Ai,e),addNewListener:Ei,removeListener:e=>Qa.removeShiftElement(Ai,e),onClicked:Ii,onPressed:Li,onReleased:Ti,onMoved:()=>{if(!bi)return;let e=ki;!1===e(wi)&&(e=Fi);const t=Ai.array;let r=Ai.size-1;for(;r>=0;)!1===e(t[r])&&(e=Fi),r-=1;e(Ci)}});var Vi;!function(e){e[e.Default=0]="Default",e[e.MouseOver=1]="MouseOver",e[e.Pressed=2]="Pressed",e[e.Inactive=3]="Inactive",e[e.Hidden=4]="Hidden"}(Vi||(Vi={}));const Mi=e=>{e.state=Vi.Default,e.draw=e.drawDefault,e.listener.active=!0},Ni=e=>{e.state=Vi.MouseOver,e.draw=e.drawMouseOver,e.listener.active=!0},Bi=e=>{e.state=Vi.Pressed,e.draw=e.drawPressed,e.listener.active=!0},Di=Object.freeze({__proto__:null,get State(){return Vi},setStateDefault:Mi,setStateMouseOver:Ni,setStatePressed:Bi,setStateInactive:e=>{e.state=Vi.Inactive,e.draw=e.drawInactive,e.listener.active=!1},setStateHidden:e=>{e.state=Vi.Hidden,e.draw=ys,e.listener.active=!1},create:(e,t=!0)=>{const r=e.drawDefault,o=e.drawMouseOver||r,n=e.drawPressed||r,a=e.drawInactive||r,s=r,i=t?Ei(e):Si(e),l={listener:i,drawDefault:r,drawMouseOver:o,drawPressed:n,drawInactive:a,draw:s,state:Vi.Default},c=!!e.allowSubsequentEvents,u=()=>(Ni(l),c);return i.onEnter.push(u,()=>gs.cursor("pointer")),i.onPressed.push(()=>(Bi(l),c)),i.onClicked.push(u),i.onLeave.push(()=>(Mi(l),c),()=>gs.cursor("auto")),c||(i.onMoved.push(Ri),i.onReleased.push(Ri)),l},draw:e=>e.draw()}),qi=Object.freeze({__proto__:null,Event:ji,Button:Di,position:xi,previousPosition:_i,displacement:vi,updatePosition:()=>{if(!fs)return;const e=1/fs.scaleFactor;Ha.Mutable.set(_i,xi),Ha.Mutable.setCartesian(xi,e*gs.mouseX,e*gs.mouseY),Ha.Assign.subtract(xi,_i,vi)},setCenter:()=>Ha.Mutable.set(xi,fs.logicalCenterPosition),drawAtCursor:e=>Ts(e,xi.x,xi.y),isOnCanvas:()=>Na.containsPoint(fs.logicalRegion,xi,0)}),Qi=Object.freeze({__proto__:null,anyKeyIsDown:e=>{for(const t of e)if(gs.keyIsDown(t))return!0;return!1}});let Hi=0,Ui=0;const Wi={x:0,y:0};let Gi=!1,Zi=!1,Ji=!1,Ki=!1;const Xi=(e,t)=>Ha.Mutable.setCartesian(Wi,e,t),Yi=()=>{switch(Hi=(Zi?-1:0)+(Ki?1:0),Ui=(Gi?-1:0)+(Ji?1:0),Hi){case-1:switch(Ui){case-1:Xi(-ns,-ns);break;case 0:Xi(-1,0);break;case 1:Xi(-ns,ns)}break;case 0:switch(Ui){case-1:Xi(0,-1);break;case 0:Xi(0,0);break;case 1:Xi(0,1)}break;case 1:switch(Ui){case-1:Xi(ns,-ns);break;case 0:Xi(1,0);break;case 1:Xi(ns,ns)}}},$i=Object.freeze({__proto__:null,get horizontalMove(){return Hi},get verticalMove(){return Ui},unitVector:Wi,get up(){return Gi},get left(){return Zi},get down(){return Ji},get right(){return Ki},onPressed:()=>{switch(gs.key){case"w":Gi=!0;break;case"a":Zi=!0;break;case"s":Ji=!0;break;case"d":Ki=!0}switch(gs.keyCode){case 38:Gi=!0;break;case 37:Zi=!0;break;case 40:Ji=!0;break;case 39:Ki=!0}Yi()},onReleased:()=>{switch(gs.key){case"w":Gi=!1;break;case"a":Zi=!1;break;case"s":Ji=!1;break;case"d":Ki=!1}switch(gs.keyCode){case 38:Gi=!1;break;case 37:Zi=!1;break;case 40:Ji=!1;break;case 39:Ki=!1}Yi()}});let el=!1;const tl=()=>{gs.noLoop(),el=!0},rl=()=>{gs.loop(),el=!1},ol=()=>{el?rl():tl()},nl=(e=>{let t=0,r=1;for(let e=0;e<10;e+=1)t+=r/=2;return t/2})(),al=Object.freeze({__proto__:null,withOffset:(e=ss(4096))=>t=>gs.noise(e+t),withOffset2:(e=ss(4096),t=ss(256))=>(r,o)=>gs.noise(e+r,t+o),withOffset3:(e=ss(4096),t=ss(256),r=ss(16))=>(o,n,a)=>gs.noise(e+o,t+n,r+a),withChangeRate:(e,t=ss(4096))=>{let r=t;return()=>gs.noise(r+=e)},withChangeRate1:(e,t=ss(4096),r=ss(256))=>{let o=r;return r=>gs.noise(t+r,o+=e)},withChangeRate2:(e,t=ss(4096),r=ss(256),o=ss(16))=>{let n=o;return(o,a)=>gs.noise(t+o,r+a,n+=e)},AVERAGE:nl}),sl=()=>({width:gs.windowWidth,height:gs.windowHeight}),il=e=>{const{scaleFactor:t,logicalSize:r}=e;return{width:t*r.width,height:t*r.height}},ll=e=>{const{scaleFactor:t,logicalSize:r}=e,o=1!==t?e=>ks(e,t):e=>e();return{logicalSize:r,logicalRegion:Na.create(Ha.zero,r),logicalCenterPosition:{x:r.width/2,y:r.height/2},scaleFactor:t,drawScaled:o}},cl=(e,t=ys,r)=>{const o=e(),{width:n,height:a}=il(o),s=gs.createCanvas(n,a,r),i=Object.assign({p5Canvas:s},ll(o));let l=o;return Object.assign(i,{resizeIfNeeded:r=>{const o=e();if(((e,t)=>{if(e.scaleFactor!==t.scaleFactor)return!1;const r=e.logicalSize,o=t.logicalSize;return r.width===o.width&&o.height==o.height})(l,o))return!1;const{width:n,height:a}=il(o);gs.resizeCanvas(n,a,r);const s=ll(o);return Object.assign(i,s),l=o,t(gs),!0}})},ul=e=>{const{logicalSize:t,getPhysicalContainerSize:r,fittingOption:o,onCanvasResized:n,renderer:a}=Object.assign({getPhysicalContainerSize:sl},e),s=null!==o?()=>Ba.calculateScaleFactor(t,r(),o):fn.returnOne;return cl(()=>({scaleFactor:s(),logicalSize:t}),n,a)},dl=e=>{const{logicalHeight:t,getPhysicalContainerSize:r,onCanvasResized:o,renderer:n}=Object.assign({getPhysicalContainerSize:sl},e),a=e.disableScaling?fn.returnOne:()=>r().height/t;return cl(()=>{const e=a();return{scaleFactor:e,logicalSize:{width:r().width/e,height:t}}},o,n)},yl=e=>{switch(e.key){case"p":ol();break;case"g":e.save("image.png")}},pl=t=>{const r="string"==typeof t.htmlElement?hn.getElementOrBody(t.htmlElement):t.htmlElement,{logicalCanvasWidth:o,logicalCanvasHeight:n,initialize:a,p5Methods:s,fittingOption:i,windowResized:l,onCanvasResized:c,renderer:u}=t;new e(e=>{xs(e),e.setup=()=>{const t=r?hn.getElementSize.bind(void 0,r):void 0,s=o?ul({logicalSize:{width:o,height:n},getPhysicalContainerSize:t,fittingOption:i,onCanvasResized:c,renderer:u}):dl({logicalHeight:n,getPhysicalContainerSize:t,onCanvasResized:c,renderer:u});_s(s),b.loopRunWithArgument(As,e),As.length=0,a()},Object.assign(e,{keyTyped:yl},{windowResized:l},s)},r)},hl=Object.freeze({__proto__:null,AlphaColor:ws,Camera:mi,KeyBoard:Qi,Mouse:qi,MoveKeys:$i,Noise:al,ShapeColor:Es,TrimmedShape2D:gi,applyShake:()=>{if(0===Hs)return;const{width:e,height:t}=fs.logicalSize,r="VERTICAL"===Ws?0:is(Hs*e),o="HORIZONTAL"===Ws?0:is(Hs*t);gs.translate(r,o),Hs*=Us,Hs<.001&&(Hs=0)},arcAtOrigin:(e,t,r,o,n,a)=>ms.arc(0,0,e,t,r*cs,o*cs,n,a),get canvas(){return fs},circleAtOrigin:e=>ms.circle(0,0,e),circularArcAtOrigin:(e,t,r,o,n)=>ms.arc(0,0,e,e,t*cs,r*cs,o,n),colorToARGB:e=>({a:gs.alpha(e),r:gs.red(e),g:gs.green(e),b:gs.blue(e)}),colorToRGB:e=>({r:gs.red(e),g:gs.green(e),b:gs.blue(e)}),colorWithAlpha:Rs,createFullScaledCanvas:dl,createScaledCanvas:ul,createSetPixel:Is,createSetPixelRow:Ls,createTexture:(e,t,r)=>{const o=gs.createGraphics(e,t);return Gs(r,o),o},createTextureRowByRow:(e,t,r)=>{const o=gs.createGraphics(e,t);return Zs(r,o),o},curveVertexFromVector:Ds,drawBezierControlLines:e=>{Da(e,Qs)},drawBezierCurve:e=>{const{startPoint:t,paths:r}=e;ms.vertex(t.x,t.y),Da(r,qs)},drawCurve:e=>{const{length:t}=e;ms.beginShape(),Ds(e[0]);for(let r=0;r<t;r+=1)Ds(e[r]);Ds(e[t-1]),ms.endShape()},drawCurveClosed:e=>{const{length:t}=e;ms.beginShape();for(let r=0;r<t;r+=1)Ds(e[r]);for(let t=0;t<3;t+=1)Ds(e[t]);ms.endShape()},drawRotated:Fs,drawScaled:ks,drawTexture:Gs,drawTextureRowByRow:Zs,drawTransformed:(e,t,r,o,n)=>{ms.translate(t,r),ms.rotate(o),ms.scale(n),e(),ms.scale(1/n),ms.rotate(-o),ms.translate(-t,-r)},drawTranslated:Ts,drawTranslatedAndRotated:(e,t,r,o)=>{ms.translate(t,r),Fs(e,o),ms.translate(-t,-r)},drawTranslatedAndScaled:js,getWindowSize:sl,graphicsToImage:e=>{const t=e,{width:r,height:o}=t,n=gs.createImage(r,o);return n.copy(e,0,0,r,o,0,0,r,o),n},hsvColor:(e,t,r,o=255)=>{const[n,a,s]=us.toRGB([e,t,r]);return gs.color(255*n,255*a,255*s,o)},line:(e,t)=>ms.line(e.x,e.y,t.x,t.y),lineAtOrigin:e=>ms.line(0,0,e.x,e.y),lineWithMargin:(e,t,r)=>{const o=ls.betweenPoints(e,t),n=r*Ya(o),a=r*Xa(o);return ms.line(e.x+n,e.y+a,t.x-n,t.y-a)},onSetup:As,get p(){return gs},parseColor:vs,parseFill:Os,parseStroke:bs,pause:tl,pauseOrResume:ol,get renderer(){return ms},resume:rl,reverseColor:e=>gs.color(255-gs.red(e),255-gs.green(e),255-gs.blue(e),gs.alpha(e)),rotate:e=>{Ns=e,ms.rotate(e)},rotateScale:(e,t)=>{Ns=e,Bs=t,ms.rotate(e),ms.scale(t)},scale:e=>{Bs=e,ms.scale(e)},setCanvas:_s,setP5Instance:xs,setRenderer:e=>{ms=e},setShake:(e,t,r="DEFAULT",o=!1)=>{t>=1||(o||0===Hs)&&(Hs=e,Us=t,Ws=r)},startSketch:pl,storePixels:Ps,transform:(e,t,r,o)=>{Vs=e,Ms=t,Ns=r,Bs=o,ms.translate(e,t),ms.rotate(r),ms.scale(o)},translate:(e,t)=>{Vs=e,Ms=t,ms.translate(e,t)},translateRotate:(e,t,r)=>{Vs=e,Ms=t,Ns=r,ms.translate(e,t),ms.rotate(r)},translateScale:(e,t,r)=>{Vs=e,Ms=t,Bs=r,ms.translate(e,t),ms.scale(r)},undoRotate:()=>{ms.rotate(-Ns)},undoRotateScale:()=>{ms.scale(1/Bs),ms.rotate(-Ns)},undoScale:()=>{ms.scale(1/Bs)},undoTransform:()=>{ms.scale(1/Bs),ms.rotate(-Ns),ms.translate(-Vs,-Ms)},undoTranslate:()=>{ms.translate(-Vs,-Ms)},undoTranslateRotate:()=>{ms.rotate(-Ns),ms.translate(-Vs,-Ms)},undoTranslateScale:()=>{ms.scale(1/Bs),ms.translate(-Vs,-Ms)}}),{onSetup:gl,translate:fl,undoTranslate:ml}=hl;let xl,_l;gl.push(e=>{xl=e}),gl.push(()=>{_l=fs});const vl=[[()=>xl.line(2,2,30,2),()=>xl.line(16,2,16,30),()=>xl.line(16,16,30,16),()=>xl.line(8,16,8,30),()=>xl.line(2,30,30,30)],[()=>xl.line(6,2,6,30),()=>xl.line(13,2,13,30),()=>xl.line(19,2,19,30),()=>xl.line(26,2,26,30),()=>xl.line(2,2,30,30)],[()=>xl.line(2,2,2,30),()=>xl.line(2,2,30,2),()=>xl.line(30,2,30,30),()=>xl.line(2,30,30,30),()=>xl.line(2,2,30,30)]],bl=e=>({y:e,time:1024*Math.random(),letter:xl.random(vl)}),Ol=e=>{e.time+=.02};let Rl=1;const zl=e=>{const t=Math.floor(xl.noise(e.time)*Rl*5),r=Math.floor(t/5),o=e.letter,n=t%o.length;for(let t=0;t<r;t+=1)fl(36*t,e.y),o.forEach(e=>e()),ml();fl(36*r,e.y);for(let e=0;e<n;e+=1)o[e]();ml()};let Sl,wl;const Al=()=>{xl.background(252),_l.drawScaled(()=>{const{width:e,height:t}=_l.logicalSize;xl.background(248),xl.stroke(128,4),xl.strokeCap(xl.SQUARE),xl.strokeWeight(2);for(let r=0;r<5e3;r+=1){const r=xl.random(0,e),o=xl.random(-50,t-50);xl.line(r,o,r,o+xl.random(50,100))}}),Sl=Ps(),xl.strokeCap(xl.ROUND)},Cl=()=>{Rl=_l.logicalSize.width/36,wl.forEach(Ol)},El=()=>{wl.forEach(zl)};pl({htmlElement:"UnaryNumeralSystem",logicalCanvasHeight:800,initialize:()=>{Al(),xl.stroke(0),xl.strokeWeight(2),wl=[];for(let e=0;e<_l.logicalSize.height-36;e+=36)wl.push(bl(e))},windowResized:()=>_l.resizeIfNeeded(),p5Methods:{draw:()=>{Cl(),Sl(),_l.drawScaled(El)},keyTyped:()=>{switch(xl.key){case"p":ol();break;case"g":xl.save("image.png");break;case"r":Al()}return!1}}})}(p5);