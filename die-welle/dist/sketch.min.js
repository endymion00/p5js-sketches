/**
 * Die Welle.
 * Source code in TypeScript: https://github.com/fal-works/p5js-sketches/tree/master/die-welle
 *
 * Bundled libraries:
 *   @fal-works/creative-coding-core (MIT license)
 *   @fal-works/p5-extension (MIT license)
 *
 * @copyright 2019 FAL
 * @version 0.1.0
 */
!function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;
/**
   * creative-coding-core
   *
   * Utility library that might be useful for creative coding.
   * GitHub repository: {@link https://github.com/fal-works/creative-coding-core}
   *
   * @module creative-coding-core
   * @copyright 2019 FAL
   * @author FAL <contact@fal-works.com>
   * @license MIT
   * @version 0.1.12
   */
const t=(e,t,r,n)=>{for(let o=r;o<n;o+=1)t(e[o],o,e)},r=(e,r)=>t(e,r,0,e.length),n=(e,t,r,n)=>{let o=n;for(;o>r;)t(e[--o],o,e)},o=(e,t,r,n,o,a,s)=>{for(let i=n;i<o;i+=1)for(let n=a;n<s;n+=1)r(e[i],t[n])},a=(e,t,r,n)=>{const o=n-1;for(let a=r;a<o;a+=1)for(let r=a+1;r<n;r+=1)t(e[a],e[r])},s=(e,t=1)=>t>0?e.reduce((e,r)=>e.concat(Array.isArray(r)?s(r,t-1):r),[]):e,i=(e,t,r)=>{const n=r||e.length;for(let r=0;r<n;r+=1)e[r]=t(r);return e},l=(e,t)=>{const r=e.length;for(let n=0;n<r;n+=1)e[n](t,n)},c=Object.freeze({__proto__:null,loopRange:t,loop:r,loopRangeBackwards:n,loopBackwards:(e,t)=>n(e,t,0,e.length),nestedLoopJoinWithRange:o,nestedLoopJoin:(e,t,r)=>o(e,t,r,0,e.length,0,t.length),roundRobinWithRange:a,roundRobin:(e,t)=>a(e,t,0,e.length),flatNaive:e=>[].concat(...e),flatRecursive:s,populate:i,createPopulated:(e,t)=>i(new Array(t),e),createIntegerSequence:e=>{const t=new Array(e);for(let r=0;r<e;r+=1)t[r]=r;return t},fromRange:e=>{const{start:t,end:r}=e,n=r-t,o=new Array(n);for(let e=0;e<n;e+=1)o[e]=t+e;return o},filterMap:(e,t)=>{const r=[],n=e.length;for(let o=0;o<n;o+=1){const n=t(e[o],o,e);void 0!==n&&r.push(n)}return r},loopRun:l,blit:(e,t,r,n,o)=>{let a=o;for(;a;)e[r+(a-=1)]=t[n+a]}}),u=e=>({array:new Array(e),size:0}),d=e=>({array:e,size:e.length}),y=(e,t)=>{e.array[e.size]=t,e.size+=1},p=y,h=e=>e.array[e.size-1],f=h,x=(e,t)=>{const{array:r,size:n}=e,o=t.length;let a=o;for(;a;)r[n+(a-=1)]=t[a];e.size+=o},_=(e,t)=>{const{array:r,size:n}=e,{array:o,size:a}=t;let s=a;for(;s;)r[n+(s-=1)]=o[s];e.size+=a},g=e=>{e.size=0},m=e=>{const{array:t,size:r}=e,n=t.length;t.length=r,t.length=n},v=(e,r)=>t(e.array,r,0,e.size),O=(e,t)=>{const{array:r,size:n}=e;for(let e=0;e<n;e+=1)if(r[e]===t)return e;return-1},b=(e,t)=>{const{array:r,size:n}=e,o=r[t];return r.copyWithin(t,t+1,n),e.size=n-1,o},R=(e,t)=>{const r=e.array,n=r[t],o=e.size-1;return r[t]=r[o],e.size=o,n},C=(e,t)=>{const{array:r,size:n}=e;let o=0,a=!1;for(let e=0;e<n;e+=1){const n=r[e];t(n,e,r)?a=!0:(r[o]=n,o+=1)}return e.size=o,a},w=Object.freeze({__proto__:null,create:u,createFilled:(e,t)=>({array:new Array(e).fill(t),size:e}),createPopulated:(e,t)=>({array:i(new Array(e),t),size:e}),fromArray:d,add:y,push:p,pop:e=>{const t=e.size-1,r=e.array[t];return e.size=t,r},get:(e,t)=>e.array[t],peek:h,getLast:f,addArray:x,addList:_,clear:g,cleanUnusedSlots:m,clearReference:e=>{e.size=0,m(e)},loop:v,loopBackwards:(e,t)=>n(e.array,t,0,e.size),find:(e,t)=>{const{array:r,size:n}=e;for(let e=0;e<n;e+=1)if(t(r[e],e,r))return r[e]},findIndex:O,removeShift:b,removeShiftElement:(e,t)=>{const r=O(e,t);return r>=0?b(e,r):null},removeSwap:R,removeSwapElement:(e,t)=>{const r=O(e,t);return r>=0?R(e,r):null},removeShiftAll:C,removeSwapAll:(e,t)=>{let r=!1;const n=e.array;for(let o=0;o<e.size;o+=1)t(n[o],o,n)&&(R(e,o),r=!0);return r},populate:(e,t)=>(i(e.array,t),e.size=e.array.length,e),nestedLoopJoin:(e,t,r)=>o(e.array,t.array,r,0,e.size,0,t.size),roundRobin:(e,t)=>a(e.array,t,0,e.size)}),E=Object.freeze({__proto__:null,create:e=>({value:void 0,factory:e}),get:e=>e.value||(e.value=e.factory()),clear:e=>{e.value=void 0}}),S=Object.freeze({__proto__:null,from:(e,t)=>{const r={};for(const n of Object.keys(e))r[n]=new Array(t).fill(e[n]);return{data:r,length:t}}}),{abs:z,acos:A,asin:T,atan:P,atan2:k,ceil:I,cos:L,exp:V,floor:j,log:B,max:U,min:M,pow:Q,round:H,sin:N,sqrt:F,tan:D,clz32:W,imul:G,sign:q,log10:K,log2:X,log1p:Z,expm1:J,cosh:Y,sinh:$,tanh:ee,acosh:te,asinh:re,atanh:ne,hypot:oe,trunc:ae,fround:se,cbrt:ie}=Math,le=F,ce=W,ue=G,de=oe,ye=ae,pe=se,he=ie,fe=e=>e*e,xe=e=>e*e*e,_e=e=>fe(e*e),ge=(e,t)=>e<t?e:t,me=(e,t)=>0!==e||0!==t?k(e,t):0,ve=(e,t)=>e*e+t*t,Oe=(e,t)=>F(e*e+t*t),be=(e,t,r)=>e+r*(t-e),Re=Object.freeze({__proto__:null,abs:z,acos:A,asin:T,atan:P,atan2:k,ceil:I,cos:L,exp:V,floor:j,log:B,max:U,min:M,pow:Q,round:H,sin:N,sqrt:F,tan:D,clz32:W,imul:G,sign:q,log10:K,log2:X,log1p:Z,expm1:J,cosh:Y,sinh:$,tanh:ee,acosh:te,asinh:re,atanh:ne,hypot:oe,trunc:ae,fround:se,cbrt:ie,squareRoot:le,leadingZeros32:ce,multInt:ue,hypotenuse:de,integerPart:ye,floatRound:pe,cubeRoot:he,square:fe,cube:xe,pow4:_e,pow5:e=>fe(e*e)*e,squareInt:e=>G(e,e),cubeInt:e=>G(G(e,e),e),equal:(e,t)=>z(e-t)<2220446049250313e-31,min2:ge,max2:(e,t)=>e>t?e:t,atan2safe:me,hypotenuseSquared2D:ve,hypotenuse2D:Oe,lerp:be,clamp:(e,t,r)=>e<t?t:e>r?r:e,map:(e,t,r,n,o)=>n+(o-n)*(e-t)/(r-t),createMap:(e,t,r,n)=>{const o=t-e,a=n-r;return t=>r+a*(t-e)/o},inverseLerp:(e,t,r)=>(e-t)/(r-t)}),{E:Ce,LN10:we,LN2:Ee,LOG2E:Se,LOG10E:ze}=Math,Ae=Math.SQRT2,Te=Math.SQRT1_2,Pe=Math.sqrt(3),ke=Te,Ie=Ae,Le=1/Pe,Ve=2/Pe,je=Pe/2,Be=Te,Ue=Object.freeze({__proto__:null,E:Ce,LN10:we,LN2:Ee,LOG2E:Se,LOG10E:ze,ONE_HALF:.5,ONE_THIRD:1/3,TWO_THIRDS:2/3,ONE_QUARTER:.25,TWO_QUARTERS:.5,THREE_QUARTERS:.75,INVERSE30:1/30,INVERSE60:1/60,INVERSE255:1/255,SQUARE_ROOT_TWO:Ae,SQUARE_ROOT_ONE_HALF:Te,SQUARE_ROOT_THREE:Pe,ONE_OVER_SQUARE_ROOT_TWO:ke,TWO_OVER_SQUARE_ROOT_TWO:Ie,ONE_OVER_SQUARE_ROOT_THREE:Le,TWO_OVER_SQUARE_ROOT_THREE:Ve,SQUARE_ROOT_THREE_OVER_TWO:je,SQUARE_ROOT_TWO_OVER_TWO:Be}),Me=Math.PI,Qe=2*Me,He=Me/2,Ne=Me/3,Fe=Me/4,De=3*Fe,We=ke,Ge=je,qe=Ge,Ke=We,Xe=Qe/360,Ze=360/Qe,Je=Object.freeze({__proto__:null,PI:Me,TWO_PI:Qe,HALF_PI:He,THIRD_PI:Ne,QUARTER_PI:Fe,THREE_QUARTERS_PI:De,SIN30:.5,SIN45:We,SIN60:Ge,COS30:qe,COS45:Ke,COS60:.5,DEGREES_TO_RADIANS:Xe,RADIANS_TO_DEGREES:Ze,createArray:e=>{const t=new Array(e),r=Qe/e;for(let n=0;n<e;n+=1)t[n]=n*r;return t},fromDegrees:e=>Xe*e,toDegrees:e=>Ze*e,fromOrigin:e=>{const{x:t,y:r}=e;return 0!==t||0!==r?k(e.y,e.x):0},betweenPoints:(e,t)=>{const r=t.x-e.x,n=t.y-e.y;return 0!==r||0!==n?k(n,r):0},betweenCoordinates:(e,t,r,n)=>e!==r||t!==n?k(r-e,n-t):0}),Ye=e=>{const{topLeft:t,rightBottom:r}=e;return{width:r.x-t.x,height:r.y-t.y}},$e=e=>{const{topLeft:t,rightBottom:r}=e;return{x:(t.x+r.x)/2,y:(t.y+r.y)/2}},et=Object.freeze({__proto__:null,create:(e,t)=>({topLeft:e,rightBottom:{x:e.x+t.width,y:e.y+t.height}}),containsPoint:(e,t,r)=>{const{topLeft:n,rightBottom:o}=e,{x:a,y:s}=t;return a>=n.x+r&&s>=n.y+r&&a<o.x-r&&s<o.y-r},getWidth:e=>e.rightBottom.x-e.topLeft.x,getHeight:e=>e.rightBottom.y-e.topLeft.y,getSize:Ye,getCenterPoint:$e,createScaled:(e,t,r)=>{const{topLeft:n,rightBottom:o}=e;switch(r){case 0:return{topLeft:n,rightBottom:{x:be(n.x,o.x,t),y:be(n.y,o.y,t)}};case 1:{const t=$e(e),r=Ye(e),n=r.width/2,o=r.height/2;return{topLeft:{x:t.x-n,y:t.y-o},rightBottom:{x:t.x+n,y:t.y+o}}}}}}),tt=Object.freeze({__proto__:null,getAspectRatio:e=>e.width/e.height,getArea:e=>e.width*e.height}),rt=(e,t)=>({x:e*L(t),y:e*N(t)}),nt=(e,t,r)=>({x:e.x+t*L(r),y:e.y+t*N(r)}),ot=(e,t,r)=>({x:e.x-t*L(r),y:e.y-t*N(r)}),at=(e,t)=>Oe(t.x-e.x,t.y-e.y),st=(e,t,r)=>(e.x=t,e.y=r,e),it=Object.freeze({__proto__:null,add:(e,t)=>(e.x+=t.x,e.y+=t.y,e),addCartesian:(e,t,r)=>(e.x+=t,e.y+=r,e),addPolar:(e,t,r)=>(e.x+=t*L(r),e.y+=t*N(r),e),subtract:(e,t)=>(e.x-=t.x,e.y-=t.y,e),subtractCartesian:(e,t,r)=>(e.x-=t,e.y-=r,e),subtractPolar:(e,t,r)=>(e.x-=t*L(r),e.y-=t*N(r),e),set:(e,t)=>(e.x=t.x,e.y=t.y,e),setCartesian:st,setPolar:(e,t,r)=>(e.x=t*L(r),e.y=t*N(r),e),multiply:(e,t)=>(e.x*=t,e.y*=t,e),divide:(e,t)=>(e.x/=t,e.y/=t,e)}),lt=(e,t,r)=>(r.x=e.x-t.x,r.y=e.y-t.y,r),ct=(e,t,r)=>(r.x=e,r.y=t,r),ut=(e,t,r)=>(r.x=e.x*t,r.y=e.y*t,r),dt=Object.freeze({__proto__:null,add:(e,t,r)=>(r.x=e.x+t.x,r.y=e.y+t.y,r),addCartesian:(e,t,r,n)=>(n.x=e.x+t,n.y=e.y+r,n),addPolar:(e,t,r,n)=>(n.x=e.x+t*L(r),n.y=e.y+t*N(r),n),subtract:lt,subtractCartesian:(e,t,r,n)=>(n.x=e.x-t,n.y=e.y-r,n),subtractPolar:(e,t,r,n)=>(n.x=e.x-t*L(r),n.y=e.y-t*N(r),n),setCartesian:ct,setPolar:(e,t,r)=>(r.x=e*L(t),r.y=e*N(t),r),multiply:ut,divide:(e,t,r)=>(r.x=e.x/t,r.y=e.y/t,r)}),yt=Object.freeze({__proto__:null,Mutable:it,Assign:dt,zero:{x:0,y:0},isZero:e=>0===e.x&&0===e.y,fromPolar:rt,add:(e,t)=>({x:e.x+t.x,y:e.y+t.y}),addCartesian:(e,t,r)=>({x:e.x+t,y:e.y+r}),addPolar:nt,subtract:(e,t)=>({x:e.x-t.x,y:e.y-t.y}),subtractCartesian:(e,t,r)=>({x:e.x-t,y:e.y-r}),subtractPolar:ot,multiply:(e,t)=>({x:e.x*t,y:e.y*t}),divide:(e,t)=>({x:e.x/t,y:e.y/t}),distanceSquared:(e,t)=>ve(t.x-e.x,t.y-e.y),distance:at,toStr:e=>`{x:${e.x},y:${e.y}}`,copy:e=>({x:e.x,y:e.y}),lengthSquared:e=>ve(e.x,e.y),length:e=>Oe(e.x,e.y),angle:e=>{const{x:t,y:r}=e;return 0!==t||0!==r?k(e.y,e.x):0}}),pt=Object.freeze({__proto__:null,createCurve:e=>{const t=[],r=e.length;let n=e[0],o=n.controlLine;for(let a=1;a<r;a+=1){const r=e[a],s=r.controlLine;t.push({controlPoint1:nt(n.point,.5*o.length,o.angle),controlPoint2:ot(r.point,.5*s.length,s.angle),targetPoint:r.point}),n=r,o=s}return{startPoint:e[0].point,paths:t}}}),ht=(e,t,r=.5)=>n=>{if(n<r)return r*e(n/r);{const e=1-r;return r+e*t((n-r)/e)}},ft=e=>e,xt=fe,_t=e=>1-fe(e-1),gt=xe,mt=e=>xe(e-1)+1,vt=_e,Ot=e=>1-_e(e-1),bt=ht(xt,_t),Rt=ht(_t,xt),Ct=ht(gt,mt),wt=ht(mt,gt),Et=ht(vt,Ot),St=ht(Ot,vt),zt=Object.freeze({__proto__:null,bind:e=>(t,r,n)=>t+e(n)*(r-t),concatenate:(e,t,r=.5)=>n=>{if(n<r)return e(n/r);return t((n-r)/(1-r))},integrate:ht,easeLinear:ft,easeInQuad:xt,easeOutQuad:_t,easeInCubic:gt,easeOutCubic:mt,easeInQuart:vt,easeOutQuart:Ot,createEaseOutBack:(e=1.70158)=>t=>{const r=t-1;return(e+1)*xe(r)+e*fe(r)+1},easeInOutQuad:bt,easeOutInQuad:Rt,easeInOutCubic:Ct,easeOutInCubic:wt,easeInOutQuart:Et,easeOutInQuart:St}),{random:At}=Math,Tt=At,Pt=e=>At()*e,kt=()=>At()*Qe,It=(e,t)=>e+At()*(t-e),Lt=e=>j(At()*e),Vt=e=>At()<.5?e:-e,jt=(e,t,r)=>t+e(At())*(r-t),Bt=Object.freeze({__proto__:null,ratio:Tt,value:Pt,angle:kt,between:It,inRange:e=>It(e.start,e.end),integer:Lt,integerBetween:(e,t)=>e+j(At()*(t-e)),signed:Vt,fromArray:e=>e[Lt(e.length)],removeFromArray:e=>e.splice(Lt(e.length),1)[0],bool:e=>At()<e,fromAbsolute:e=>-e+2*At()*e,vector:e=>rt(e,kt()),pointInRectangleRegion:e=>{const{topLeft:t,rightBottom:r}=e;return{x:It(t.x,r.x),y:It(t.y,r.y)}},ratioCurved:e=>e(At()),valueCurved:(e,t)=>e(At())*t,betweenCurved:jt,inRangeCurved:(e,t)=>jt(e,t.start,t.end)}),Ut=Object.freeze({__proto__:null,calculateScaleFactor:(e,t,r)=>{switch(r){default:case"FIT_TO_BOX":return ge(t.width/e.width,t.height/e.height);case"FIT_WIDTH":return t.width/e.width;case"FIT_HEIGHT":return t.height/e.height}}}),Mt=Object.freeze({__proto__:null,getElementOrBody:e=>document.getElementById(e)||document.body,getElementSize:e=>e===document.body?{width:window.innerWidth,height:window.innerHeight}:e.getBoundingClientRect()}),Qt=e=>({duration:e,ratioChangeRate:1/e,count:0,ratio:0}),Ht=e=>{e.count+=1,e.ratio+=e.ratioChangeRate},Nt=e=>{e.count=0,e.ratio=0},Ft=e=>e?Array.isArray(e)?e.slice():[e]:[];class Dt{constructor(e,t,r,n){this.onProgress=e,this.onComplete=t,this.progress=r,this.isCompleted=n}static create(e,t,r,n=!1){return new Dt(e,t,r,n)}step(){if(this.isCompleted)return!0;const{progress:e}=this;return e.count>=e.duration?this.complete(e):this.update(e)}reset(){return Nt(this.progress),this.isCompleted=!1,this}update(e){return l(this.onProgress,e),Ht(e),!1}complete(e){return e.ratio=1,l(this.onProgress,e),l(this.onComplete,e),this.isCompleted=!0}}const Wt=e=>Dt.create(Ft(e.onProgress),Ft(e.onComplete),Qt(e.duration)),Gt=Dt.create([],[],Qt(0),!0),qt=e=>e.step(),Kt=e=>e.reset(),Xt=Object.freeze({__proto__:null,step:qt,reset:Kt}),Zt=(e,t)=>{e.index=t,e.currentComponent=e.components[t]},Jt=e=>{const t=e.index+1;return t<e.components.length?(Zt(e,t),!1):(e.isCompleted=!0,!0)};class Yt{constructor(e){this.components=e.slice(),this.index=0,this.currentComponent=e[0],this.isCompleted=!1}static create(e){return new Yt(e)}step(){return!!this.currentComponent.step()&&Jt(this)}reset(){return r(this.components,Kt),Zt(this,0),this.isCompleted=!1,this}}const $t=e=>Yt.create(e),er=Object.freeze({__proto__:null,Unit:Yt,create:$t});class tr{constructor(e){this.components=e.slice(),this.runningComponentList=d(e.slice()),this.isCompleted=!1}static create(e){return new tr(e)}step(){return C(this.runningComponentList,qt),!(this.runningComponentList.size>0)&&(this.isCompleted=!0)}reset(){const{runningComponentList:e}=this;return g(e),x(e,this.components),v(e,Kt),this.isCompleted=!1,this}}const rr=e=>tr.create(e),nr=Object.freeze({__proto__:null,Unit:tr,create:rr});class or{constructor(e,t){this.component=e,this.loopCount=t,this.remainingCount=t,this.isCompleted=t<=0}static create(e,t){return new or(e,t)}step(){return!!this.component.step()&&(!!this.isCompleted||((this.remainingCount-=1)>0?(this.component.reset(),!1):this.isCompleted=!0))}reset(){const{loopCount:e}=this;return this.remainingCount=e,e>0?(this.component.reset(),this.isCompleted=!1):this.isCompleted=!0,this}}const ar=(e,t=1/0)=>or.create(e,t),sr=Object.freeze({__proto__:null,Unit:or,create:ar}),ir=e=>({runningComponents:u(e),newComponentsBuffer:u(e)}),lr=(e,t)=>y(e.newComponentsBuffer,t),cr=e=>{const{runningComponents:t,newComponentsBuffer:r}=e;_(t,r),g(r),C(t,qt)},ur=e=>{g(e.runningComponents),g(e.newComponentsBuffer)},dr=Object.freeze({__proto__:null,create:ir,add:lr,step:cr,clear:ur,construct:e=>{const t=ir(e);return{add:lr.bind(void 0,t),step:cr.bind(void 0,t),clear:ur.bind(void 0,t)}}}),yr=Object.freeze({__proto__:null,Component:Xt,Chain:er,Parallel:nr,Loop:sr,Set:dr,chain:$t,parallel:rr,loop:ar,Unit:Dt,create:Wt,dummy:Gt}),pr=new Map([["A",".-"],["B","-..."],["C","-.-."],["D","-.."],["E","."],["F","..-."],["G","--."],["H","...."],["I",".."],["J",".---"],["K","-.-"],["L",".-.."],["M","--"],["N","-."],["O","---"],["P",".--."],["Q","--.-"],["R",".-."],["S","..."],["T","-"],["U","..-"],["V","...-"],["W",".--"],["X","-..-"],["Y","-.--"],["Z","--.."],["1",".----"],["2","..---"],["3","...--"],["4","....-"],["5","....."],["6","-...."],["7","--..."],["8","---.."],["9","----."],["0","-----"],[".",".-.-.-"],[",","--..--"],[":","---..."],["?","..--.."],["'",".----."],["!","-.-.--"],["-","-....-"],["/","-..-."],["@",".--.-."],["(","-.--."],[")","-.--.-"],['"',".-..-."],["=","-...-"],["+",".-.-."]]);class hr{constructor(e,t,r){this.isOn=e,this.length=t,this.codeString=r;let n="";const o=e?"1":"0";for(let e=0;e<t;e+=1)n+=o;this.binaryString=n}}class fr extends hr{constructor(e,t){super(!0,e,t)}}class xr extends hr{constructor(e,t){super(!1,e,t)}}const _r=new fr(1,"."),gr=new fr(3,"-"),mr=new xr(1,""),vr=new xr(3," "),Or=new xr(7," / "),br=new xr(0,"");const Rr=Object.freeze({__proto__:null,Unit:hr,DIT:_r,DAH:gr,INTER_ELEMENT_GAP:mr,SHORT_GAP:vr,MEDIUM_GAP:Or,NUL:br,encode:function(e){const t=e.toUpperCase(),r=[];let n=void 0;for(let e=0,o=t.length;e<o;e+=1){const o=t.charAt(e);if(" "===o){n=Or;continue}if(0===o.charCodeAt(0)){n&&r.push(n),n=void 0,r.push(br);continue}const a=pr.get(o);if(a){for(let e=0,t=a.length;e<t;e+=1){switch(n&&r.push(n),a.charAt(e)){case".":r.push(_r);break;case"-":case"_":r.push(gr);break;default:continue}n=mr}n=vr}}return r},toString:e=>e.reduce((e,t)=>e+t.codeString,""),toBinaryString:e=>e.reduce((e,t)=>e+t.binaryString,""),getTotalLength:e=>e.reduce((e,t)=>e+t.length,0)});function Cr(e){return 1e3/(e/60*50)}const wr=e=>{e.timeout&&(e.off(br),clearTimeout(e.timeout),e.timeout=void 0),e.index=0},Er=(e,t,r)=>{t.timeout=setTimeout(()=>{t.timeout=void 0,e(t)},r)},Sr=e=>{const t=(e=>{const{unitTime:t,signals:r,index:n,on:o,off:a}=e,s=r[n];return s.isOn?o(s):a(s),t*s.length})(e);e.index+=1,e.index<e.signals.length?Er(Sr,e,t):(e.timeout=setTimeout(()=>{e.loop?(e.off(br),e.timeout=void 0):(e.off(Or),Er(Sr,e,Or.length))},t),e.index=0)},zr=Object.freeze({__proto__:null,wpmToDotDuration:Cr,create:(e,t,r=25,n=[],o=!1)=>({on:e,off:t,wpm:r,unitTime:Cr(r),loop:o,signals:n,index:0,timeout:void 0}),stop:wr,start:(e,t)=>{wr(e),t&&(e.signals=t),Sr(e)}}),Ar=Object.freeze({__proto__:null,Signal:Rr,Channel:zr}),Tr=Object.freeze({__proto__:null,returnVoid:()=>{},returnUndefined:()=>void 0,returnNull:()=>null,returnZero:()=>0,returnOne:()=>1}),Pr=Object.freeze({__proto__:null,create:(e,t)=>{const{duration:r}=t,{x:n,y:o}=e,{x:a,y:s}=t.target,i=t.easing||ft;return Wt({duration:r,onProgress:t=>{const r=i(t.ratio);st(e,be(n,a,r),be(o,s,r))}})}}),kr=Object.freeze({__proto__:null,Vector2D:Pr,create:(e,t)=>{const{start:r,end:n,duration:o}=t,a=t.easing||ft;return Wt({duration:o,onProgress:t=>e(be(r,n,a(t.ratio)))})}}),Ir=(e,t,r)=>{e.x+=e.vx,e.y+=e.vy,e.vx+=t,e.vy+=r},Lr=(e,t,r)=>{e.vx2=e.vx+.5*t,e.vy2=e.vy+.5*r,e.vx+=t,e.vy+=r,e.x+=e.vx2,e.y+=e.vy2},Vr=(e,t,r)=>{e.vx=e.vx2+.5*t,e.vy=e.vy2+.5*r},jr=Object.freeze({__proto__:null,createQuantity:(e,t,r,n)=>({x:e,y:t,vx:r||0,vy:n||0}),updateEuler:e=>{e.x+=e.vx,e.y+=e.vy},updateEulerAccelerated:Ir,updateVerlet:Lr,postUpdateVerlet:Vr,positionVector:(e,t)=>ct(e.x,e.y,t),velocityVector:(e,t)=>ct(e.vx,e.vy,t),getSpeed:e=>Oe(e.vx,e.vy),getVelocityAngle:e=>me(e.vy,e.vx),truncateVelocity:(e,t)=>{const{vx:r,vy:n}=e;if(ve(r,n)<=t*t)return e;const o=k(n,r);return e.vx=t*L(o),e.vy=t*N(o),e},setVelocity:(e,t)=>(e.vx=t.x,e.vy=t.y,e),setVelocityCartesian:(e,t,r)=>(e.vx=t,e.vy=r,e),setVelocityPolar:(e,t,r)=>(e.vx=t*L(r),e.vy=t*N(r),e),bounceInRectangleRegion:(e,t,r)=>{const{x:n,y:o,vx:a,vy:s}=r,{x:i,y:l}=e.topLeft,{x:c,y:u}=e.rightBottom;return n<i?(r.x=i,a<0&&(r.vx=-t*a),!0):n>=c?(r.x=c-1,a>0&&(r.vx=-t*a),!0):o<l?(r.y=l,s<0&&(r.vy=-t*s),!0):o>=u&&(r.y=u-1,s>0&&(r.vy=-t*s),!0)}}),Br=(e,t)=>(e.fx+=t.x,e.fy+=t.y,e),Ur=Object.freeze({__proto__:null,createQuantity:(e,t,r,n)=>({x:e,y:t,vx:r||0,vy:n||0,fx:0,fy:0}),createVerletQuantity:(e,t,r,n)=>({x:e,y:t,vx:r||0,vy:n||0,vx2:0,vy2:0,fx:0,fy:0}),updateEuler:e=>{Ir(e,e.fx,e.fy),e.fx=0,e.fy=0},updateVerlet:e=>{Lr(e,e.fx,e.fy),e.fx=0,e.fy=0},postUpdateVerlet:e=>{Vr(e,e.fx,e.fy),e.fx=0,e.fy=0},forceVector:(e,t)=>ct(e.fx,e.fy,t),truncateForce:(e,t)=>{const{fx:r,fy:n}=e;if(ve(r,n)<=t*t)return e;const o=k(n,r);return e.fx=t*L(o),e.fy=t*N(o),e},addForce:Br,addForceCartesian:(e,t,r)=>(e.fx+=t,e.fy+=r,e),addForcePolar:(e,t,r)=>(e.fx+=t*L(r),e.fy+=t*N(r),e)}),Mr=Object.freeze({__proto__:null,createQuantity:(e,t,r,n,o)=>({x:e,y:t,vx:n||0,vy:o||0,fx:0,fy:0,mass:r}),createVerletQuantity:(e,t,r,n,o)=>({x:e,y:t,vx:n||0,vy:o||0,vx2:0,vy2:0,fx:0,fy:0,mass:r}),updateEuler:e=>{const{mass:t}=e;Ir(e,e.fx/t,e.fy/t),e.fx=0,e.fy=0},updateVerlet:e=>{const{mass:t}=e;Lr(e,e.fx/t,e.fy/t),e.fx=0,e.fy=0},postUpdateVerlet:e=>{const{mass:t}=e;Vr(e,e.fx/t,e.fy/t),e.fx=0,e.fy=0}});let Qr=1,Hr=-Qr;const Nr=(e,t,r,n)=>ut(e,Hr*t/(r*r*r),n),Fr=(e,t,r)=>Nr(lt(t,e,r),e.mass*t.mass,at(e,t),r),Dr=(e,t,r)=>ut(e,Hr/(t*t*t),r),Wr=(e,t,r)=>Dr(lt(t,e,r),at(e,t),r),Gr=(e,t,r)=>{const{x:n,y:o}=r;e.fx-=n,e.fy-=o,t.fx+=n,t.fy+=o},qr={x:0,y:0},Kr={precalculated:(e,t,r,n)=>Br(e,Nr(t,r,n,qr)),calculate:(e,t)=>Br(t,Fr(e,t,qr)),precalculatedSimple:(e,t,r)=>Br(e,Dr(t,r,qr)),calculateSimple:(e,t)=>Br(t,Wr(e,t,qr))},Xr={precalculated:(e,t,r,n,o)=>Gr(e,t,Nr(r,n,o,qr)),calculate:(e,t)=>Gr(e,t,Fr(e,t,qr)),precalculatedSimple:(e,t,r,n)=>Gr(e,t,Dr(r,n,qr)),calculateSimple:(e,t)=>Gr(e,t,Wr(e,t,qr))},Zr=Object.freeze({__proto__:null,get constant(){return Qr},setConstant:e=>{Hr=-(Qr=e)},calculateCore:Nr,calculate:Fr,calculateCoreSimple:Dr,calculateSimple:Wr,attract:Kr,attractEachOther:Xr}),Jr=Object.freeze({__proto__:null,update:e=>{e.rotationAngle+=e.rotationVelocity},createRandomQuantity:(e,t)=>({rotationAngle:kt(),rotationVelocity:Vt(It(e,t))})}),Yr=Object.freeze({__proto__:null,withRandomHue:(e,t)=>[Pt(360),e,t],toRGB:e=>{const[t,r,n]=e,o=n*r,a=t*(1/60),s=o*(1-z(a%2-1));let i;switch(j(a)){case 0:i=[o,s,0];break;case 1:i=[s,o,0];break;case 2:i=[0,o,s];break;case 3:i=[0,s,o];break;case 4:i=[s,0,o];break;case 5:i=[o,0,s];break;default:i=[0,0,0]}const l=n-o;return[i[0]+l,i[1]+l,i[2]+l]}}),$r=Object.freeze({Angle:Je,ArrayList:w,ArrayUtility:c,Bezier:pt,ConstantFunction:Tr,Dynamics:Mr,Easing:zt,FitBox:Ut,Gravitation:Zr,HSV:Yr,HtmlUtility:Mt,Kinematics:jr,Lazy:E,MathConstants:Ue,MorseCode:Ar,Numeric:Re,Random:Bt,RectangleRegion:et,RectangleSize:tt,Rotation:Jr,SimpleDynamics:Ur,StructureOfArrays:S,Timer:yr,Tween:kr,Vector2D:yt}),{HtmlUtility:en,RectangleRegion:tn,FitBox:rn,ArrayUtility:nn,ArrayList:on,Vector2D:an,Numeric:sn,MathConstants:ln,Random:cn,Angle:un,HSV:dn,ConstantFunction:yn}=$r,{sin:pn,cos:hn}=sn,{round:fn}=sn,{ONE_OVER_SQUARE_ROOT_TWO:xn,INVERSE255:_n}=ln,{TWO_PI:gn}=un,{returnVoid:mn}=yn;let vn,On;const bn=e=>{vn=e},Rn=e=>{On=e},Cn=e=>"string"==typeof e?vn.color(e):Object.create(e),wn=e=>{if(null===e)return vn.noStroke.bind(vn);if(void 0===e)return mn;const t=Cn(e);return vn.stroke.bind(vn,t)},En=e=>{if(null===e)return vn.noFill.bind(vn);if(void 0===e)return mn;const t=Cn(e);return vn.fill.bind(vn,t)},Sn=(e,t)=>{const r="string"==typeof e?vn.color(e):e;return vn.color(vn.red(r),vn.green(r),vn.blue(r),t)},zn=(e,t)=>{const r=new Array(t),n=t-1;if(1===t)r[0]="string"==typeof e?vn.color(e):Object.assign({},e);else{const o=vn.alpha(e);for(let a=1;a<t;a+=1){const t=o*(a/n);r[a]=Sn(e,t)}}return{colors:r,maxIndex:n}},An=(e,t)=>e.colors[fn(e.maxIndex*t*_n)],Tn=Object.freeze({__proto__:null,create:zn,get:An}),Pn=Object.freeze({__proto__:null,create:(e,t,r)=>{if(1===r)return{stroke:wn(e),fill:En(t)};let n,o;if(null===e)n=()=>vn.noStroke();else if(void 0===e)n=mn;else{const t=zn(e,r);n=e=>vn.stroke(An(t,e))}if(null===t)o=()=>vn.noFill();else if(void 0===t)o=mn;else{const e=zn(t,r);o=t=>vn.fill(An(e,t))}return{stroke:n,fill:o}},apply:(e,t)=>{if(t<1)return vn.noStroke(),void vn.noFill();e.stroke(t),e.fill(t)}}),kn=(e,t,r)=>{vn.translate(t,r),e(),vn.translate(-t,-r)},In=(e,t)=>{vn.rotate(t),e(),vn.rotate(-t)},Ln=(e,t)=>{vn.scale(t),e(),vn.scale(1/t)};let Vn=0,jn=0,Bn=0,Un=1;const Mn=e=>{const{controlPoint1:t,controlPoint2:r,targetPoint:n}=e;vn.bezierVertex(t.x,t.y,r.x,r.y,n.x,n.y)},Qn=e=>{const{point:t,controlLine:r}=e,{x:n,y:o}=t,a=an.fromPolar(.5*r.length,r.angle),s=a.x,i=a.y;vn.line(n-s,o-i,n+s,o+i)};let Hn=0,Nn=0,Fn="DEFAULT";const Dn={x:0,y:0},Wn=()=>!0,Gn=e=>({onClicked:e.onClicked||Wn,onPressed:e.onPressed||Wn,onReleased:e.onReleased||Wn,onMoved:e.onMoved||Wn}),qn=Gn({}),Kn=on.create(32),Xn=Gn({}),Zn=e=>e(Dn),Jn=e=>{const t=(e=>{switch(e){case 0:return e=>e.onClicked;case 1:return e=>e.onPressed;case 2:return e=>e.onReleased;case 3:return e=>e.onMoved}})(e);return()=>{if(!Zn(t(qn)))return;const e=Kn.array;let r=Kn.size-1;for(;r>=0;){if(!Zn(t(e[r])))break;r-=1}Zn(t(Xn))}},Yn=Jn(0),$n=Jn(1),eo=Jn(2),to=Jn(3),ro=Object.freeze({__proto__:null,logicalPosition:Dn,updatePosition:()=>{if(!On)return;const e=1/On.scaleFactor;Dn.x=e*vn.mouseX,Dn.y=e*vn.mouseY},setCenter:()=>an.Mutable.set(Dn,On.logicalCenterPosition),emptyCallback:Wn,stopCallback:()=>!1,createEventHandler:Gn,topEventHandler:qn,eventHandlerStack:Kn,bottomEventHandler:Xn,addEventHandler:e=>{const t=Gn(e);return on.add(Kn,t),t},removeEventHandler:e=>{on.removeShiftElement(Kn,e)},onClicked:Yn,onPressed:$n,onReleased:eo,onMoved:to,drawAtCursor:e=>kn(e,Dn.x,Dn.y),isOnCanvas:()=>tn.containsPoint(On.logicalRegion,Dn,0)}),no=Object.freeze({__proto__:null,anyKeyIsDown:e=>{for(const t of e)if(vn.keyIsDown(t))return!0;return!1}});let oo=0,ao=0;const so={x:0,y:0};let io=!1,lo=!1,co=!1,uo=!1;const yo=(e,t)=>an.Mutable.setCartesian(so,e,t),po=()=>{switch(ao=(io?-1:0)+(co?1:0),oo=(lo?-1:0)+(uo?1:0)){case-1:switch(ao){case-1:yo(-xn,-xn);break;case 0:yo(-1,0);break;case 1:yo(-xn,xn)}break;case 0:switch(ao){case-1:yo(0,-1);break;case 0:yo(0,0);break;case 1:yo(0,1)}break;case 1:switch(ao){case-1:yo(xn,-xn);break;case 0:yo(1,0);break;case 1:yo(xn,xn)}}},ho=Object.freeze({__proto__:null,get horizontalMove(){return oo},get verticalMove(){return ao},unitVector:so,get up(){return io},get left(){return lo},get down(){return co},get right(){return uo},onPressed:()=>{switch(vn.key){case"w":io=!0;break;case"a":lo=!0;break;case"s":co=!0;break;case"d":uo=!0}switch(vn.keyCode){case 38:io=!0;break;case 37:lo=!0;break;case 40:co=!0;break;case 39:uo=!0}po()},onReleased:()=>{switch(vn.key){case"w":io=!1;break;case"a":lo=!1;break;case"s":co=!1;break;case"d":uo=!1}switch(vn.keyCode){case 38:io=!1;break;case 37:lo=!1;break;case 40:co=!1;break;case 39:uo=!1}po()}});let fo=!1;const xo=(e=>{let t=0,r=1;for(let e=0;e<10;e+=1)t+=r/=2;return t/2})(),_o=Object.freeze({__proto__:null,withOffset:(e=cn.value(4096))=>t=>vn.noise(e+t),withOffset2:(e=cn.value(4096),t=cn.value(256))=>(r,n)=>vn.noise(e+r,t+n),withOffset3:(e=cn.value(4096),t=cn.value(256),r=cn.value(16))=>(n,o,a)=>vn.noise(e+n,t+o,r+a),withChangeRate:(e,t=cn.value(4096))=>{let r=t;return()=>vn.noise(r+=e)},withChangeRate1:(e,t=cn.value(4096),r=cn.value(256))=>{let n=r;return r=>vn.noise(t+r,n+=e)},withChangeRate2:(e,t=cn.value(4096),r=cn.value(256),n=cn.value(16))=>{let o=n;return(n,a)=>vn.noise(t+n,r+a,o+=e)},AVERAGE:xo}),go=[],mo=(e,t,r,n)=>{const o=en.getElementSize("string"==typeof e?en.getElementOrBody(e):e),a=null!==r?rn.calculateScaleFactor(t,o,r):1,s=vn.createCanvas(a*t.width,a*t.height,n),i=1!==a?e=>Ln(e,a):e=>e();return{p5Canvas:s,scaleFactor:a,logicalSize:t,logicalRegion:tn.create(an.zero,t),drawScaled:i,logicalCenterPosition:{x:t.width/2,y:t.height/2}}},vo=Object.freeze({AlphaColor:Tn,KeyBoard:no,Mouse:ro,MoveKeys:ho,Noise:_o,ShapeColor:Pn,applyShake:()=>{if(0===Hn)return;const{width:e,height:t}=On.logicalSize,r="VERTICAL"===Fn?0:cn.signed(Hn*e),n="HORIZONTAL"===Fn?0:cn.signed(Hn*t);vn.translate(r,n),(Hn*=Nn)<.001&&(Hn=0)},arcAtOrigin:(e,t,r,n,o,a)=>vn.arc(0,0,e,t,r*gn,n*gn,o,a),get canvas(){return On},circleAtOrigin:e=>vn.circle(0,0,e),circularArcAtOrigin:(e,t,r,n,o)=>vn.arc(0,0,e,e,t*gn,r*gn,n,o),colorWithAlpha:Sn,createPixels:e=>(vn.push(),e(),vn.pop(),vn.loadPixels(),vn.pixels),createScaledCanvas:mo,drawBezierControlLines:e=>{nn.loop(e,Qn)},drawBezierCurve:e=>{const{startPoint:t,paths:r}=e;vn.vertex(t.x,t.y),nn.loop(r,Mn)},drawRotated:In,drawScaled:Ln,drawTransformed:(e,t,r,n,o)=>{vn.translate(t,r),vn.rotate(n),vn.scale(o),e(),vn.scale(1/o),vn.rotate(-n),vn.translate(-t,-r)},drawTranslated:kn,drawTranslatedAndRotated:(e,t,r,n)=>{vn.translate(t,r),In(e,n),vn.translate(-t,-r)},graphicsToImage:e=>{const t=e,{width:r,height:n}=t,o=vn.createImage(r,n);return o.copy(e,0,0,r,n,0,0,r,n),o},hsvColor:(e,t,r,n=255)=>{const[o,a,s]=dn.toRGB([e,t,r]);return vn.color(255*o,255*a,255*s,n)},line:(e,t)=>vn.line(e.x,e.y,t.x,t.y),lineAtOrigin:e=>vn.line(0,0,e.x,e.y),lineWithMargin:(e,t,r)=>{const n=un.betweenPoints(e,t),o=r*hn(n),a=r*pn(n);return vn.line(e.x+o,e.y+a,t.x-o,t.y-a)},onSetup:go,get p(){return vn},parseColor:Cn,parseFill:En,parseStroke:wn,pauseOrResume:()=>{fo?(vn.loop(),fo=!1):(vn.noLoop(),fo=!0)},replaceCanvasPixels:e=>{vn.pixels=e,vn.updatePixels()},reverseColor:e=>vn.color(255-vn.red(e),255-vn.green(e),255-vn.blue(e),vn.alpha(e)),rotate:e=>{Bn=e,vn.rotate(e)},rotateScale:(e,t)=>{Bn=e,Un=t,vn.rotate(e),vn.scale(t)},scale:e=>{Un=e,vn.scale(e)},setCanvas:Rn,setP5Instance:bn,setShake:(e,t,r="DEFAULT",n=!1)=>{t>=1||(n||0===Hn)&&(Hn=e,Nn=t,Fn=r)},startSketch:t=>{const r="string"==typeof t.htmlElement?en.getElementOrBody(t.htmlElement):t.htmlElement;new e(e=>{bn(e),e.setup=()=>{Rn(mo(r,t.logicalCanvasSize,t.fittingOption,t.renderer)),nn.loop(go,t=>t(e)),go.length=0,t.initialize()},t.setP5Methods(e)},r)},transform:(e,t,r,n)=>{Vn=e,jn=t,Bn=r,Un=n,vn.translate(e,t),vn.rotate(r),vn.scale(n)},translate:(e,t)=>{Vn=e,jn=t,vn.translate(e,t)},translateRotate:(e,t,r)=>{Vn=e,jn=t,Bn=r,vn.translate(e,t),vn.rotate(r)},translateScale:(e,t,r)=>{Vn=e,jn=t,Un=r,vn.translate(e,t),vn.scale(r)},undoRotate:()=>{vn.rotate(-Bn)},undoRotateScale:()=>{vn.scale(1/Un),vn.rotate(-Bn)},undoScale:()=>{vn.scale(1/Un)},undoTransform:()=>{vn.scale(1/Un),vn.rotate(-Bn),vn.translate(-Vn,-jn)},undoTranslate:()=>{vn.translate(-Vn,-jn)},undoTranslateRotate:()=>{vn.rotate(-Bn),vn.translate(-Vn,-jn)},undoTranslateScale:()=>{vn.scale(1/Un),vn.translate(-Vn,-jn)}}),Oo=Mt.getElementOrBody("DieWelle"),bo={width:640,height:360},{ArrayList:Ro,ArrayUtility:Co,Random:wo,Timer:Eo}=$r,{square:So,sin:zo,createMap:Ao,floor:To}=Re,{easeOutQuad:Po}=zt,{onSetup:ko,hsvColor:Io,reverseColor:Lo,Noise:Vo,translate:jo,undoTranslate:Bo}=vo,{width:Uo,height:Mo}=bo,Qo=Mo/2,Ho=Uo+100;let No,Fo;ko.push(e=>{No=e}),ko.push(()=>{Fo=On});const Do=(e,t,r,n)=>({x:e,y:t,noiseX:Vo.withChangeRate(.008,r),noiseY:Vo.withChangeRate(.008,n)}),Wo=e=>(e.x-=4,e.x<=-100),Go=Ao(0,Uo,0,Math.PI),qo=Vo.AVERAGE,Ko=e=>{const t=e.x+140*(e.noiseX()-qo),r=e.y+140*(e.noiseY()-qo);No.curveVertex(t,(e=>e>0&&e<Uo?So(zo(Go(e))):0)(t)*r)},Xo=()=>Ro.create(32);let Zo;ko.push(()=>{Zo=Co.createIntegerSequence(360).map(e=>Lo(Io(e,1,.8,96)))});const Jo=e=>{(e=>Ro.removeShiftAll(e,Wo))(e.vertices),e.hue+=1},Yo=e=>{No.stroke((e=>Zo[To(e)%360])(e.hue)),(e=>{No.beginShape(),No.curveVertex(-120,0),No.curveVertex(-110,0),No.curveVertex(-100,0),Ro.loop(e,Ko),No.curveVertex(Ho,0),No.curveVertex(Ho+10,0),No.curveVertex(Ho+20,0),No.endShape()})(e.vertices)},$o=e=>(e=>{Ro.clear(e),[.25,.5,.75,1].forEach(t=>Ro.add(e,Do(t*Uo,0)))})(e.vertices);let ea=!1;const ta=e=>{const t=(ea?1:-1)*wo.valueCurved(Po,.7)*Qo,r=wo.value(4096),n=wo.value(4096);Ro.loop(e,(e,o)=>{const a=.05*o;((e,t,r,n)=>Ro.add(e,Do(Ho,t,r,n)))(e.vertices,t,r+a,n+a)}),ea=!ea},{startSketch:ra,createPixels:na,replaceCanvasPixels:oa,pauseOrResume:aa}=vo;let sa;const ia=(()=>{const e=Ro.createPopulated(40,e=>(e=>({vertices:Xo(),hue:e}))(3*e)),t=Eo.loop(Eo.create({duration:30,onProgress:()=>Ro.loop(e,Jo),onComplete:()=>ta(e)}));return{list:e,timer:t}})(),la=(e=>{Ro.loop(e.list,$o),e.timer.reset()}).bind(void 0,ia),ca=(e=>e.timer.step()).bind(void 0,ia),ua=()=>{jo(0,Qo),(e=>{No.push(),No.blendMode(No.DIFFERENCE),No.noFill(),Ro.loop(e.list,Yo),No.pop()})(ia),Bo()},da=()=>{ca(),sa(),Fo.drawScaled(ua)},ya=()=>{switch(No.key){case"p":aa();break;case"g":No.save("image.png")}};ra({htmlElement:Oo,logicalCanvasSize:bo,initialize:()=>{const e=na(()=>{Fo.drawScaled(()=>{!function(e,t,r=1,n=1){const{width:o,height:a}=bo;No.strokeWeight(2*n);for(let s=0;s<a;s+=n){const n=Math.pow(s/(a-1),r);No.stroke(No.lerpColor(e,t,n)),No.line(0,s,o-1,s)}}(No.color(255),No.color(240,244,255),4,4)})});sa=oa.bind(void 0,e),la()},setP5Methods:e=>{e.draw=da,e.keyTyped=ya},fittingOption:null})}(p5);