/**
 * String.
 * Website => https://www.fal-works.com/
 * @copyright 2019 FAL
 * @author FAL <falworks.contact@gmail.com>
 * @version 0.1.0
 * @license CC-BY-SA-3.0
 */
!function(e){"use strict";new e.p5exClass(t=>{const o=16;let n,a=[],r=0,d=0;function s(){const n=t.createVector();Math.random()<.5?(n.x=t.random(t.width),n.y=Math.random()<.5?-10:t.height+10):(n.x=Math.random()<.5?-10:t.width+10,n.y=t.random(t.height));const a=new e.RectangleRegion(0,0,t.width,t.height),r=t.createVector(.5*t.width,.5*t.height),d=p5.Vector.fromAngle(e.getDirectionAngle(n,r)),s=[];for(let e=0;e<o;e++)s.push([]);let c=0,l=0;const i=.01*t.TWO_PI,h=.005*t.TWO_PI,p=5e-4*t.TWO_PI;let m=0;for(;a.contains(n,50);){if(m%20==0)for(let e=0;e<o;e++)s[e].push(n.copy().add(p5.Vector.random2D().mult(10*Math.pow(Math.random(),1.5))));n.add(d),(c+=l=t.constrain(l+t.random(-1,1)*p,-h,h))<-i?(c=-i,l*=-.7):c>i&&(c=i,l*=-.7),d.rotate(c),m++}return s}function c(){d=0,t.noFill(),t.stroke(e.cielchColor(t.random(10,80),t.random(30,100),t.random(t.TWO_PI),32));let o=15;for(;o>0;)a=s(),(r=a[0].length)<100||o--}t.preload=(()=>{}),t.setup=(()=>{t.createScalableCanvas(e.ScalableCanvasTypes.FULL),t.frameRate(30),t.background(252),t.loadPixels(),n=t.pixels,c()}),t.draw=(()=>{t.pixels=n,t.updatePixels(),d<r&&d++;for(let e=0;e<o;e++){t.beginShape();const o=a[e],n=e;for(let e=0;e<n;e++){const n=o[e];t.curveVertex(n.x+3*t.random(-1,1),n.y+3*t.random(-1,1))}t.endShape()}}),t.mousePressed=(()=>{c()}),t.keyTyped=(()=>{"p"===t.key&&t.noLoop(),"s"===t.key&&t.save("string.png")})},"String")}(p5ex);