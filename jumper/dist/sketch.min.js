/**
 * Jumber.
 * Source code in TypeScript: https://github.com/fal-works/p5js-sketches/tree/master/jumber
 *
 * Bundled libraries:
 *   @fal-works/creative-coding-core (MIT license)
 *   @fal-works/p5-extension (MIT license)
 *
 * @copyright 2020 FAL
 * @version 0.1.0
 */
!function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;
/**
   * creative-coding-core
   *
   * Utility library that might be useful for creative coding.
   * GitHub repository: {@link https://github.com/fal-works/creative-coding-core}
   *
   * @module creative-coding-core
   * @copyright 2019-2020 FAL
   * @author FAL <contact@fal-works.com>
   * @license MIT
   * @version 0.7.1
   */
const t=(e,t,r,o)=>{for(let n=r;n<o;n+=1)t(e[n],n,e)},r=(e,r)=>t(e,r,0,e.length),o=(e,t,r,o)=>{let n=o;for(;n>r;)--n,t(e[n],n,e)},n=(e,t)=>o(e,t,0,e.length),a=(e,t,r,o,n,a,s)=>{for(let i=o;i<n;i+=1)for(let o=a;o<s;o+=1)r(e[i],t[o])},s=(e,t,r)=>a(e,t,r,0,e.length,0,t.length),i=(e,t,r,o)=>{const n=o-1;for(let a=r;a<n;a+=1)for(let r=a+1;r<o;r+=1)t(e[a],e[r])},c=(e,t)=>i(e,t,0,e.length),l=e=>e?Array.isArray(e)?e.slice():[e]:[],u=e=>[].concat(...e),d=(e,t=1)=>t>0?e.reduce((e,r)=>e.concat(Array.isArray(r)?d(r,t-1):r),[]):e,y=(e,t,r)=>{const o=r||e.length;for(let r=0;r<o;r+=1)e[r]=t(r);return e},p=(e,t)=>y(new Array(t),e),h=e=>{const t=new Array(e);for(let r=0;r<e;r+=1)t[r]=r;return t},g=e=>{const{start:t,end:r}=e,o=r-t,n=new Array(o);for(let e=0;e<o;e+=1)n[e]=t+e;return n},f=(e,t)=>{const r=[],o=e.length;for(let n=0;n<o;n+=1){const o=t(e[n],n,e);void 0!==o&&r.push(o)}return r},x=e=>{const t=e.length;for(let r=0;r<t;r+=1)e[r]()},m=(e,t)=>{const r=e.length;for(let o=0;o<r;o+=1)e[o](t)},_=(e,t,r,o,n)=>{let a=n;for(;a;)a-=1,e[r+a]=t[o+a]},b=Object.freeze({__proto__:null,loopArrayRange:t,loopArray:r,loopArrayRangeBackwards:o,loopArrayBackwards:n,arrayNestedLoopJoinWithRange:a,arrayNestedLoopJoin:s,arrayRoundRobinWithRange:i,arrayRoundRobin:c,unifyToArray:l,flatArrayNaive:u,flatArrayRecursive:d,populateArray:y,createPopulatedArray:p,createIntegerSequence:h,arrayFromRange:g,filterMapArray:f,loopRunArray:x,loopRunArrayWithArgument:m,blitArray:_}),v=Object.freeze({__proto__:null,FullName:b,loopRange:t,loop:r,loopRangeBackwards:o,loopBackwards:n,nestedLoopJoinWithRange:a,nestedLoopJoin:s,roundRobinWithRange:i,roundRobin:c,unifyToArray:l,flatNaive:u,flatRecursive:d,populate:y,createPopulated:p,createIntegerSequence:h,fromRange:g,filterMap:f,loopRun:x,loopRunWithArgument:m,blit:_}),O=e=>({array:new Array(e),size:0}),R=(e,t)=>({array:new Array(e).fill(t),size:e}),S=(e,t)=>({array:y(new Array(e),t),size:e}),A=e=>({array:e,size:e.length}),z=(e,t)=>{e.array[e.size]=t,e.size+=1},w=z,C=e=>{const t=e.size-1,r=e.array[t];return e.size=t,r},E=(e,t)=>e.array[t],I=e=>e.array[e.size-1],L=I,T=(e,t)=>{const{array:r,size:o}=e,n=t.length;let a=n;for(;a;)a-=1,r[o+a]=t[a];e.size+=n},P=(e,t)=>{const{array:r,size:o}=e,{array:n,size:a}=t;let s=a;for(;s;)s-=1,r[o+s]=n[s];e.size+=a},F=e=>{e.size=0},V=e=>{const{array:t,size:r}=e,o=t.length;t.length=r,t.length=o},j=e=>{e.size=0,V(e)},k=(e,r)=>t(e.array,r,0,e.size),N=(e,t)=>o(e.array,t,0,e.size),B=(e,t)=>{const{array:r,size:o}=e;for(let e=0;e<o;e+=1)if(t(r[e],e,r))return r[e]},M=(e,t)=>{const{array:r,size:o}=e;for(let e=0;e<o;e+=1)if(r[e]===t)return e;return-1},q=(e,t)=>{const{array:r,size:o}=e,n=r[t];return r.copyWithin(t,t+1,o),e.size=o-1,n},Q=(e,t)=>{const r=M(e,t);return r>=0?q(e,r):null},D=(e,t)=>{const r=e.array,o=r[t],n=e.size-1;return r[t]=r[n],e.size=n,o},U=(e,t)=>{const r=M(e,t);return r>=0?D(e,r):null},W=(e,t)=>{const{array:r,size:o}=e;let n=0,a=!1;for(let e=0;e<o;e+=1){const o=r[e];t(o,e,r)?a=!0:(r[n]=o,n+=1)}return e.size=n,a},H=(e,t)=>{let r=!1;const o=e.array;for(let n=0;n<e.size;n+=1)t(o[n],n,o)&&(D(e,n),r=!0);return r},G=(e,t)=>(y(e.array,t),e.size=e.array.length,e),Z=(e,t,r)=>a(e.array,t.array,r,0,e.size,0,t.size),J=(e,t)=>i(e.array,t,0,e.size),K=Object.freeze({__proto__:null,createArrayList:O,createFilledArrayList:R,createPopulatedArrayList:S,arrayListFromArray:A,addToArrayList:z,pushToArrayList:w,popFromArrayList:C,getFromArrayList:E,peekFromArrayList:I,getLastFromArrayList:L,addArrayToArrayList:T,addListToArrayList:P,clearArrayList:F,cleanUnusedSlotsOfArrayList:V,clearReferenceOfArrayList:j,loopArrayList:k,loopArrayListBackwards:N,findInArrayList:B,findIndexInArrayList:M,removeShiftFromArrayList:q,removeShiftElementFromArrayList:Q,removeSwapFromArrayList:D,removeSwapElementFromArrayList:U,removeShiftAllFromArrayList:W,removeSwapAllFromArrayList:H,populateArrayList:G,arrayListNestedLoopJoin:Z,arrayListRoundRobin:J}),X=Object.freeze({__proto__:null,FullName:K,create:O,createFilled:R,createPopulated:S,fromArray:A,add:z,push:w,pop:C,get:E,peek:I,getLast:L,addArray:T,addList:P,clear:F,cleanUnusedSlots:V,clearReference:j,loop:k,loopBackwards:N,find:B,findIndex:M,removeShift:q,removeShiftElement:Q,removeSwap:D,removeSwapElement:U,removeShiftAll:W,removeSwapAll:H,populate:G,nestedLoopJoin:Z,roundRobin:J}),$=e=>({array:new Array(e),headIndex:0,tailIndex:0,size:0}),Y=e=>0===e.size,ee=e=>e.size===e.array.length,te=(e,t)=>{const{array:r,tailIndex:o}=e;r[o]=t;const n=o+1;e.tailIndex=n<r.length?n:0,e.size+=1},re=(e,t)=>{ee(e)||te(e,t)},oe=e=>{const{array:t,headIndex:r}=e,o=r+1;return e.headIndex=o<t.length?o:0,e.size-=1,t[r]},ne=e=>Y(e)?void 0:oe(e),ae=e=>ee(e)?oe(e):void 0,se=e=>e.array[e.headIndex],ie=e=>{const{headIndex:t}=e;return t!==e.tailIndex?e.array[t]:void 0},ce=(e,r)=>{if(0===e.size)return;const{array:o,headIndex:n,tailIndex:a}=e;n<a?t(o,r,n,a):(t(o,r,n,o.length),t(o,r,0,a))},le=(e,t)=>{const{array:r,headIndex:o}=e,n=r[o];if(!t(n))return;const a=o+1;return e.headIndex=a<r.length?a:0,e.size-=1,n},ue=(e,t)=>e.headIndex!==e.tailIndex?le(e,t):void 0,de=e=>{e.headIndex=0,e.tailIndex=0,e.size=0},ye=e=>{de(e);const{array:t}=e,r=t.length;t.length=0,t.length=r},pe=Object.freeze({__proto__:null,createArrayQueue:$,arrayQueueIsEmpty:Y,arrayQueueIsFull:ee,enqueue:te,enqueueSafe:re,dequeue:oe,dequeueSafe:ne,dequeueIfFull:ae,loopArrayQueue:ce,peekArrayQueue:se,peekArrayQueueSafe:ie,dequeueIf:le,dequeueSafeIf:ue,clearArrayQueue:de,clearArrayQueueReference:ye}),he=Object.freeze({__proto__:null,FullName:pe,create:$,isEmpty:Y,isFull:ee,enqueue:te,enqueueSafe:re,dequeue:oe,dequeueSafe:ne,dequeueIfFull:ae,peek:se,peekSafe:ie,loop:ce,dequeueIf:le,dequeueSafeIf:ue,clear:de,clearReference:ye}),ge=Object.freeze({__proto__:null,create:e=>({value:void 0,factory:e}),get:e=>e.value||(e.value=e.factory()),clear:e=>{e.value=void 0}}),fe=Object.freeze({__proto__:null,from:(e,t)=>{const r={};for(const o of Object.keys(e))r[o]=new Array(t).fill(e[o]);return{data:r,length:t}}}),{abs:xe,acos:me,asin:_e,atan:be,atan2:ve,ceil:Oe,cos:Re,exp:Se,floor:Ae,log:ze,max:we,min:Ce,pow:Ee,round:Ie,sin:Le,sqrt:Te,tan:Pe,clz32:Fe,imul:Ve,sign:je,log10:ke,log2:Ne,log1p:Be,expm1:Me,cosh:qe,sinh:Qe,tanh:De,acosh:Ue,asinh:We,atanh:He,hypot:Ge,trunc:Ze,fround:Je,cbrt:Ke}=Math,Xe=Te,$e=Fe,Ye=Ve,et=Ge,tt=Ze,rt=Je,ot=Ke,nt=e=>e*e,at=e=>e*e*e,st=e=>nt(e*e),it=(e,t)=>e<t?e:t,ct=(e,t)=>e>t?e:t,lt=(e,t)=>0!==e||0!==t?ve(e,t):0,ut=(e,t)=>e*e+t*t,dt=(e,t)=>Te(e*e+t*t),yt=(e,t,r)=>e+r*(t-e),pt=(e,t,r)=>e<t?t:e>r?r:e,ht=(e,t,r)=>t>r?(t+r)/2:e<t?t:e>r?r:e,gt=Object.freeze({__proto__:null,abs:xe,acos:me,asin:_e,atan:be,atan2:ve,ceil:Oe,cos:Re,exp:Se,floor:Ae,log:ze,max:we,min:Ce,pow:Ee,round:Ie,sin:Le,sqrt:Te,tan:Pe,clz32:Fe,imul:Ve,sign:je,log10:ke,log2:Ne,log1p:Be,expm1:Me,cosh:qe,sinh:Qe,tanh:De,acosh:Ue,asinh:We,atanh:He,hypot:Ge,trunc:Ze,fround:Je,cbrt:Ke,squareRoot:Xe,leadingZeros32:$e,multInt:Ye,hypotenuse:et,integerPart:tt,floatRound:rt,cubeRoot:ot,square:nt,cube:at,pow4:st,pow5:e=>nt(e*e)*e,squareInt:e=>Ve(e,e),cubeInt:e=>Ve(Ve(e,e),e),equal:(e,t)=>xe(e-t)<2220446049250313e-31,min2:it,max2:ct,atan2safe:lt,hypotenuseSquared2D:ut,hypotenuse2D:dt,lerp:yt,clamp:pt,constrain:ht,map:(e,t,r,o,n)=>o+(n-o)*(e-t)/(r-t),createMap:(e,t,r,o)=>{const n=t-e,a=o-r;return t=>r+a*(t-e)/n},inverseLerp:(e,t,r)=>(e-t)/(r-t)}),{E:ft,LN10:xt,LN2:mt,LOG2E:_t,LOG10E:bt}=Math,vt=Math.SQRT2,Ot=Math.SQRT1_2,Rt=Math.sqrt(3),St=Ot,At=vt,zt=1/Rt,wt=2/Rt,Ct=Rt/2,Et=Ot,It=Object.freeze({__proto__:null,E:ft,LN10:xt,LN2:mt,LOG2E:_t,LOG10E:bt,ONE_HALF:.5,ONE_THIRD:1/3,TWO_THIRDS:2/3,ONE_QUARTER:.25,TWO_QUARTERS:.5,THREE_QUARTERS:.75,INVERSE30:1/30,INVERSE60:1/60,INVERSE255:1/255,SQUARE_ROOT_TWO:vt,SQUARE_ROOT_ONE_HALF:Ot,SQUARE_ROOT_THREE:Rt,ONE_OVER_SQUARE_ROOT_TWO:St,TWO_OVER_SQUARE_ROOT_TWO:At,ONE_OVER_SQUARE_ROOT_THREE:zt,TWO_OVER_SQUARE_ROOT_THREE:wt,SQUARE_ROOT_THREE_OVER_TWO:Ct,SQUARE_ROOT_TWO_OVER_TWO:Et}),Lt=Math.PI,Tt=2*Lt,Pt=Lt/2,Ft=Lt/3,Vt=Lt/4,jt=3*Vt,kt=St,Nt=Ct,Bt=Nt,Mt=kt,qt=Tt/360,Qt=360/Tt,Dt=(e,t)=>{const r=t.x-e.x,o=t.y-e.y;return 0!==r||0!==o?ve(o,r):0},Ut=Object.freeze({__proto__:null,PI:Lt,TWO_PI:Tt,HALF_PI:Pt,THIRD_PI:Ft,QUARTER_PI:Vt,THREE_QUARTERS_PI:jt,SIN30:.5,SIN45:kt,SIN60:Nt,COS30:Bt,COS45:Mt,COS60:.5,DEGREES_TO_RADIANS:qt,RADIANS_TO_DEGREES:Qt,createArray:e=>{const t=new Array(e),r=Tt/e;for(let o=0;o<e;o+=1)t[o]=o*r;return t},fromDegrees:e=>qt*e,toDegrees:e=>Qt*e,fromOrigin:e=>{const{x:t,y:r}=e;return 0!==t||0!==r?ve(e.y,e.x):0},betweenPoints:Dt,betweenCoordinates:(e,t,r,o)=>e!==r||t!==o?ve(r-e,o-t):0}),Wt=(e,t)=>({x:e,y:t}),Ht={x:0,y:0},Gt=e=>0===e.x&&0===e.y,Zt=(e,t)=>({x:e*Re(t),y:e*Le(t)}),Jt=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Kt=(e,t,r)=>({x:e.x+t,y:e.y+r}),Xt=(e,t,r)=>({x:e.x+t*Re(r),y:e.y+t*Le(r)}),$t=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Yt=(e,t,r)=>({x:e.x-t,y:e.y-r}),er=(e,t,r)=>({x:e.x-t*Re(r),y:e.y-t*Le(r)}),tr=(e,t)=>({x:e.x*t,y:e.y*t}),rr=(e,t)=>({x:e.x/t,y:e.y/t}),or=(e,t)=>ut(t.x-e.x,t.y-e.y),nr=(e,t)=>dt(t.x-e.x,t.y-e.y),ar=e=>`{x:${e.x},y:${e.y}}`,sr=e=>({x:e.x,y:e.y}),ir=e=>ut(e.x,e.y),cr=e=>dt(e.x,e.y),lr=e=>{const{x:t,y:r}=e;return 0!==t||0!==r?ve(e.y,e.x):0},ur=()=>({x:0,y:0}),dr=(e,t)=>(e.x+=t.x,e.y+=t.y,e),yr=(e,t,r)=>(e.x+=t,e.y+=r,e),pr=(e,t,r)=>(e.x+=t*Re(r),e.y+=t*Le(r),e),hr=(e,t)=>(e.x-=t.x,e.y-=t.y,e),gr=(e,t,r)=>(e.x-=t,e.y-=r,e),fr=(e,t,r)=>(e.x-=t*Re(r),e.y-=t*Le(r),e),xr=(e,t)=>(e.x=t.x,e.y=t.y,e),mr=(e,t,r)=>(e.x=t,e.y=r,e),_r=(e,t,r)=>(e.x=t*Re(r),e.y=t*Le(r),e),br=(e,t)=>(e.x*=t,e.y*=t,e),vr=(e,t)=>{const r=1/t;return e.x*=r,e.y*=r,e},Or=(e,t,r,o,n)=>(e.x=pt(e.x,t,r),e.y=pt(e.y,o,n),e),Rr=(e,t,r,o,n)=>(e.x=ht(e.x,t,r),e.y=ht(e.y,o,n),e),Sr=(e,t,r)=>{if(or(e,t)>=r*r)return e;const o=Dt(t,e);return e.x=t.x+r*Re(o),e.y=t.y+r*Le(o),e},Ar=(e,t,r,o)=>{if(or(e,t)>=r*r)return;const n=Dt(e,t),a=yt(e.x,t.x,o),s=yt(e.y,t.y,o),i=r/2,c=i*Re(n),l=i*Le(n);t.x=a+c,t.y=s+l,e.x=a-c,e.y=s-l},zr=Object.freeze({__proto__:null,create:ur,add:dr,addCartesian:yr,addPolar:pr,subtract:hr,subtractCartesian:gr,subtractPolar:fr,set:xr,setCartesian:mr,setPolar:_r,multiply:br,divide:vr,clamp:Or,constrain:Rr,separate:Sr,separateEachOther:Ar}),wr=(e,t,r)=>(r.x=e.x+t.x,r.y=e.y+t.y,r),Cr=(e,t,r,o)=>(o.x=e.x+t,o.y=e.y+r,o),Er=(e,t,r,o)=>(o.x=e.x+t*Re(r),o.y=e.y+t*Le(r),o),Ir=(e,t,r)=>(r.x=e.x-t.x,r.y=e.y-t.y,r),Lr=(e,t,r,o)=>(o.x=e.x-t,o.y=e.y-r,o),Tr=(e,t,r,o)=>(o.x=e.x-t*Re(r),o.y=e.y-t*Le(r),o),Pr=(e,t,r)=>(r.x=e,r.y=t,r),Fr=(e,t,r)=>(r.x=e.x*t,r.y=e.y*t,r),Vr=(e,t,r)=>{const o=1/t;return r.x=e.x*o,r.y=e.y*o,r},jr=(e,t,r,o,n,a)=>(a.x=pt(e.x,t,r),a.y=pt(e.y,o,n),a),kr=(e,t,r,o,n,a)=>(a.x=ht(e.x,t,r),a.y=ht(e.y,o,n),a),Nr=(e,t,r)=>{const o=t.x-e.x,n=t.y-e.y,a=dt(o,n);return r.x=o/a,r.y=n/a,r},Br=Object.freeze({__proto__:null,add:wr,addCartesian:Cr,addPolar:Er,subtract:Ir,subtractCartesian:Lr,subtractPolar:Tr,setCartesian:Pr,setPolar:(e,t,r)=>(r.x=e*Re(t),r.y=e*Le(t),r),multiply:Fr,divide:Vr,clamp:jr,constrain:kr,normalize:(e,t)=>{const{x:r,y:o}=e,n=dt(r,o);return t.x=r/n,t.y=o/n,t},normalizeBetween:Nr}),Mr=Object.freeze({__proto__:null,createVector:Wt,zeroVector:Ht,vectorIsZero:Gt,vectorFromPolar:Zt,addVector:Jt,addCartesian:Kt,addPolar:Xt,subtractVector:$t,subtractCartesian:Yt,subtractPolar:er,multiplyVector:tr,divideVector:rr,distanceOfVectorsSquared:or,distanceOfVectors:nr,vectorToStr:ar,copyVector:sr,vectorLengthSquared:ir,vectorLength:cr,vectorAngle:lr,createVectorMutable:ur,addVectorMutable:dr,addCartesianMutable:yr,addPolarMutable:pr,subtractVectorMutable:hr,subtractCartesianMutable:gr,subtractPolarMutable:fr,setVector:xr,setCartesian:mr,setPolar:_r,multiplyVectorMutable:br,divideVectorMutable:vr,clampVector:Or,constrainVector:Rr,separateVector:Sr,separateVectors:Ar,addVectorAssign:wr,addCartesianAssign:Cr,addPolarAssign:Er,subtractVectorAssign:Ir,subtractCartesianAssign:Lr,subtractPolarAssign:Tr,multiplyVectorAssign:Fr,divideVectorAssign:Vr,clampVectorAssign:jr,constrainVectorAssign:kr}),qr=Object.freeze({__proto__:null,Mutable:zr,Assign:Br,FullName:Mr,create:Wt,zero:Ht,isZero:Gt,fromPolar:Zt,add:Jt,addCartesian:Kt,addPolar:Xt,subtract:$t,subtractCartesian:Yt,subtractPolar:er,multiply:tr,divide:rr,distanceSquared:or,distance:nr,toStr:ar,copy:sr,lengthSquared:ir,length:cr,angle:lr,dot:(e,t)=>e.x*t.x+e.y*t.y,normalize:e=>{const{x:t,y:r}=e,o=dt(t,r);return{x:t/o,y:r/o}},normalizeBetween:(e,t)=>{const r=t.x-e.x,o=t.y-e.y,n=dt(r,o);return{x:r/n,y:o/n}}}),Qr=e=>{const{topLeft:t,bottomRight:r}=e;return{width:r.x-t.x,height:r.y-t.y}},Dr=e=>{const{topLeft:t,bottomRight:r}=e;return{x:(t.x+r.x)/2,y:(t.y+r.y)/2}},Ur=Object.freeze({__proto__:null,create:(e,t)=>({topLeft:e,bottomRight:{x:e.x+t.width,y:e.y+t.height}}),createFromCenter:(e,t)=>{const{x:r,y:o}=e,n=t.width/2,a=t.height/2;return{topLeft:{x:r-n,y:o-a},bottomRight:{x:r+n,y:o+a}}},containsPoint:(e,t,r)=>{const{topLeft:o,bottomRight:n}=e,{x:a,y:s}=t;return a>=o.x+r&&s>=o.y+r&&a<n.x-r&&s<n.y-r},getWidth:e=>e.bottomRight.x-e.topLeft.x,getHeight:e=>e.bottomRight.y-e.topLeft.y,getSize:Qr,getCenterPoint:Dr,createScaled:(e,t,r)=>{const{topLeft:o,bottomRight:n}=e;switch(r){case 0:return{topLeft:o,bottomRight:{x:yt(o.x,n.x,t),y:yt(o.y,n.y,t)}};case 1:{const t=Dr(e),r=Qr(e),o=r.width/2,n=r.height/2;return{topLeft:{x:t.x-o,y:t.y-n},bottomRight:{x:t.x+o,y:t.y+n}}}}},copy:e=>({topLeft:sr(e.topLeft),bottomRight:sr(e.bottomRight)}),createInfinite:()=>({topLeft:{x:-1/0,y:-1/0},bottomRight:{x:1/0,y:1/0}}),addMargin:(e,t)=>{const{topLeft:r,bottomRight:o}=e;return{topLeft:{x:r.x-t,y:r.y-t},bottomRight:{x:o.x+t,y:o.y+t}}},addMargins:(e,t)=>{const{topLeft:r,bottomRight:o}=e;return{topLeft:{x:r.x-t.left,y:r.y-t.top},bottomRight:{x:o.x+t.right,y:o.y+t.bottom}}}}),Wr=Object.freeze({__proto__:null,getAspectRatio:e=>e.width/e.height,getArea:e=>e.width*e.height,createInfinite:()=>({width:1/0,height:1/0})}),Hr=Object.freeze({__proto__:null,createCurve:e=>{const t=[],r=e.length;let o=e[0],n=o.controlLine;for(let a=1;a<r;a+=1){const r=e[a],s=r.controlLine;t.push({controlPoint1:Xt(o.point,.5*n.length,n.angle),controlPoint2:er(r.point,.5*s.length,s.angle),targetPoint:r.point}),o=r,n=s}return{startPoint:e[0].point,paths:t}}}),Gr=Object.freeze({__proto__:null,distanceSquared:(e,t,r,o)=>ut(r-e,o-t),distance:(e,t,r,o)=>dt(r-e,o-t)}),Zr=nt,Jr=at,Kr=st,Xr=e=>e?Ee(2,10*(e-1)):0,$r=(e=1.70158)=>t=>t*t*((e+1)*t-e),Yr=Object.freeze({__proto__:null,quad:Zr,cubic:Jr,quart:Kr,expo:Xr,createBack:$r}),eo=e=>1-nt(e-1),to=e=>at(e-1)+1,ro=e=>1-st(e-1),oo=e=>e<1?1-Ee(2,-10*e):1,no=(e=1.70158)=>t=>{const r=t-1,o=r*r;return(e+1)*(r*o)+e*o+1},ao=Object.freeze({__proto__:null,quad:eo,cubic:to,quart:ro,expo:oo,createBack:no}),so=(e,t,r=.5)=>{const o=1/r;return n=>{if(n<r)return e(o*n);return t((n-r)/(1-r))}},io=(e,t,r=.5)=>{const o=1/r;return n=>{if(n<r)return r*e(o*n);{const e=1-r;return r+e*t((n-r)/e)}}},co=io(Zr,eo),lo=io(Jr,to),uo=io(Kr,ro),yo=io(Xr,oo),po=e=>io($r(e),no(e)),ho=Object.freeze({__proto__:null,quad:co,cubic:lo,quart:uo,expo:yo,createBack:po}),go=io(eo,Zr),fo=io(to,Jr),xo=io(ro,Kr),mo=io(oo,Xr),_o=e=>io(no(e),$r(e)),bo=Object.freeze({__proto__:null,quad:go,cubic:fo,quart:xo,expo:mo,createBack:_o}),vo=e=>e,Oo=Object.freeze({__proto__:null,easeInQuad:Zr,easeInCubic:Jr,easeInQuart:Kr,easeInExpo:Xr,createEaseInBack:$r,easeOutQuad:eo,easeOutCubic:to,easeOutQuart:ro,easeOutExpo:oo,createEaseOutBack:no,easeInOutQuad:co,easeInOutCubic:lo,easeInOutQuart:uo,easeInOutExpo:yo,createEaseInOutBack:po,easeOutInQuad:go,easeOutInCubic:fo,easeOutInQuart:xo,easeOutInExpo:mo,createEaseOutInBack:_o,easeLinear:vo,concatenateEasing:so,integrateEasing:io}),Ro=Object.freeze({__proto__:null,In:Yr,Out:ao,InOut:ho,OutIn:bo,FullName:Oo,linear:vo,concatenate:so,integrate:io});let So=Math.random,Ao=So;const zo=e=>{So=e,Ao=e},wo=e=>So()*e,Co=()=>So()*Tt,Eo=(e,t)=>e+So()*(t-e),Io=e=>Eo(e.start,e.end),Lo=e=>So()<e,To=e=>So()<e?1:-1,Po=e=>(So()<.5?1:-1)*So()*e,Fo=()=>(So()<.5?1:-1)*So()*Lt,Vo=e=>Zt(e,Co()),jo=e=>{const{topLeft:t,bottomRight:r}=e;return{x:Eo(t.x,r.x),y:Eo(t.y,r.y)}},ko=e=>Ae(So()*e),No=(e,t)=>e+Ae(So()*(t-e)),Bo=e=>(So()<.5?1:-1)*Ae(So()*e),Mo=Object.freeze({__proto__:null,value:ko,between:No,signed:Bo}),qo=e=>Ae(So()/e)*e,Qo=(e,t)=>Ae(So()*(t/e))*e,Do=(e,t,r)=>t+Ae(So()*((r-t)/e))*e,Uo=(e,t)=>(So()<.5?1:-1)*Ae(So()*(t/e))*e,Wo=e=>Ae(So()*(Tt/e))*e,Ho=e=>(So()<.5?1:-1)*Ae(So()*(Lt/e))*e,Go=Object.freeze({__proto__:null,ratio:qo,value:Qo,between:Do,signed:Uo,angle:Wo,signedAngle:Ho}),Zo=e=>e[ko(e.length)],Jo=e=>e.splice(ko(e.length),1)[0],Ko=Object.freeze({__proto__:null,get:Zo,removeGet:Jo}),Xo=e=>e(So()),$o=(e,t)=>e(So())*t,Yo=(e,t,r)=>t+e(So())*(r-t),en=(e,t)=>Yo(e,t.start,t.end),tn=Object.freeze({__proto__:null,ratio:Xo,value:$o,between:Yo,inRange:en,angle:e=>e(So())*Tt,signed:(e,t)=>(So()<.5?1:-1)*e(So())*t,signedAngle:e=>(So()<.5?1:-1)*e(So())*Lt}),rn=Object.freeze({__proto__:null,setBaseRandomFunction:zo,get randomRatio(){return Ao},randomValue:wo,randomAngle:Co,randomBetween:Eo,randomInRange:Io,randomBool:Lo,randomSign:To,randomSigned:Po,randomSignedAngle:Fo,randomInteger:ko,randomIntegerBetween:No,randomIntegerSigned:Bo,randomDiscreteRatio:qo,randomDiscreteValue:Qo,randomDiscreteAngle:Wo,randomDiscreteBetween:Do,randomDiscreteSigned:Uo,randomDiscreteSignedAngle:Ho,randomFromArray:Zo,randomRemoveFromArray:Jo,randomRatioCurved:Xo,randomValueCurved:$o,randomBetweenCurved:Yo,randomInRangeCurved:en,randomVector:Vo,randomPointInRectangleRegin:jo}),on=Object.freeze({__proto__:null,Integer:Mo,Discrete:Go,Arrays:Ko,Curved:tn,FullName:rn,get random(){return So},get ratio(){return Ao},setBaseFunction:zo,value:wo,angle:Co,between:Eo,inRange:Io,bool:Lo,sign:To,signed:Po,signedAngle:Fo,vector:Vo,pointInRectangleRegion:jo}),nn=Object.freeze({__proto__:null,calculateScaleFactor:(e,t,r)=>{switch(r){default:case"FIT_TO_BOX":return it(t.width/e.width,t.height/e.height);case"FIT_WIDTH":return t.width/e.width;case"FIT_HEIGHT":return t.height/e.height}}}),an=Object.freeze({__proto__:null,getElementOrBody:e=>document.getElementById(e)||document.body,getElementSize:e=>e===document.body?{width:window.innerWidth,height:window.innerHeight}:e.getBoundingClientRect()}),sn=()=>{},cn=Object.freeze({__proto__:null,returnVoid:sn,returnUndefined:()=>{},returnNull:()=>null,returnZero:()=>0,returnOne:()=>1,returnTrue:()=>!0,returnFalse:()=>!1,returnArgument:e=>e,runSelf:e=>e()});let ln=sn;let un=0;const dn=e=>e.step(),yn=e=>e.reset();class pn{constructor(e,t){this.id=un++,this.name="no name",this.onStart=e,this.onComplete=t,this.isStarted=!1,this.isCompleted=!1,ln("timer ",this.id,": created.")}tryStart(){if(this.isStarted)return!1;const{id:e,name:t}=this;return ln("timer ",e,t,": starting..."),m(this.onStart,e),ln("timer ",e,t,": started."),this.isStarted=!0}complete(){const{id:e,name:t}=this;return ln("timer ",e,t,": completing..."),m(this.onComplete,e),ln("timer ",e,t,": completed."),this.isCompleted=!0}setName(e){return this.name=e,this}}const hn=Object.freeze({__proto__:null,step:dn,reset:yn,Base:pn}),gn=e=>({duration:e,ratioChangeRate:1/ct(1,e),count:0,ratio:0});class fn extends pn{constructor(e,t,r,o){super(e,r),this.onProgress=t,this.progress=o}static create(e,t,r,o){return new fn(e,t,r,o)}step(){if(this.isCompleted)return!0;this.tryStart();const{progress:e}=this;return e.count>=e.duration?(e.ratio=1,m(this.onProgress,e),this.complete()):(m(this.onProgress,e),(e=>{e.count+=1,e.ratio+=e.ratioChangeRate})(e),!1)}reset(){var e;return(e=this.progress).count=0,e.ratio=0,this.isStarted=!1,this.isCompleted=!1,this}setName(e){return super.setName(e),this}}const xn=e=>fn.create(l(e.onStart),l(e.onProgress),l(e.onComplete),gn(e.duration)),mn=fn.create([],[],[],gn(0));mn.isStarted=!0,mn.isCompleted=!0;const _n=(e,t)=>{e.index=t,e.currentComponent=e.components[t]};class bn extends pn{constructor(e){super([],[]),this.components=e.slice(),this.index=0,this.currentComponent=e[0]}static create(e){return new bn(e)}step(){return this.tryStart(),!!this.currentComponent.step()&&(e=>{const t=e.index+1;return t<e.components.length?(_n(e,t),!1):e.complete()})(this)}reset(){return r(this.components,yn),_n(this,0),this.isStarted=!1,this.isCompleted=!1,this}pushComponent(e){this.components.push(e)}setName(e){return super.setName(e),this}}const vn=e=>bn.create(e),On=Object.freeze({__proto__:null,Unit:bn,create:vn});class Rn extends pn{constructor(e){super([],[]),this.components=e.slice(),this.runningComponentList=A(e.slice())}static create(e){return new Rn(e)}step(){this.tryStart();const{runningComponentList:e}=this;return W(e,dn),!(e.size>0)&&this.complete()}reset(){const{runningComponentList:e}=this;return F(e),T(e,this.components),k(e,yn),this.isStarted=!1,this.isCompleted=!1,this}setName(e){return super.setName(e),this}addComponent(e){this.components.push(e),z(this.runningComponentList,e)}}const Sn=e=>Rn.create(e),An=Object.freeze({__proto__:null,Unit:Rn,create:Sn});class zn extends pn{constructor(e,t){super([],[]),this.component=e,this.loopCount=t,this.remainingCount=t}static create(e,t){return new zn(e,t)}step(){return this.tryStart(),!!this.component.step()&&(!!this.isCompleted||((this.remainingCount-=1)>0?(this.component.reset(),!1):this.complete()))}reset(){const{loopCount:e}=this;return this.remainingCount=e,this.component.reset(),this.isStarted=!1,this.isCompleted=!1,this}setName(e){return super.setName(e),this}}const wn=(e,t=1/0)=>zn.create(e,t),Cn=Object.freeze({__proto__:null,Unit:zn,create:wn}),En=e=>({runningComponents:O(e),newComponentsBuffer:O(e)}),In=(e,t)=>z(e.newComponentsBuffer,t),Ln=e=>{const{runningComponents:t,newComponentsBuffer:r}=e;P(t,r),F(r),W(t,dn)},Tn=e=>{F(e.runningComponents),F(e.newComponentsBuffer)},Pn=Object.freeze({__proto__:null,create:En,add:In,step:Ln,clear:Tn,construct:e=>{const t=En(e);return{add:In.bind(void 0,t),step:Ln.bind(void 0,t),clear:Tn.bind(void 0,t)}}}),Fn=Object.freeze({__proto__:null,Component:hn,Chain:On,Parallel:An,Loop:Cn,Set:Pn,chain:vn,parallel:Sn,loop:wn,outputVerbose:(e=!0)=>{ln=e?console.info:sn},Unit:fn,create:xn,dummy:mn}),Vn=new Map([["A",".-"],["B","-..."],["C","-.-."],["D","-.."],["E","."],["F","..-."],["G","--."],["H","...."],["I",".."],["J",".---"],["K","-.-"],["L",".-.."],["M","--"],["N","-."],["O","---"],["P",".--."],["Q","--.-"],["R",".-."],["S","..."],["T","-"],["U","..-"],["V","...-"],["W",".--"],["X","-..-"],["Y","-.--"],["Z","--.."],["1",".----"],["2","..---"],["3","...--"],["4","....-"],["5","....."],["6","-...."],["7","--..."],["8","---.."],["9","----."],["0","-----"],[".",".-.-.-"],[",","--..--"],[":","---..."],["?","..--.."],["'",".----."],["!","-.-.--"],["-","-....-"],["/","-..-."],["@",".--.-."],["(","-.--."],[")","-.--.-"],['"',".-..-."],["=","-...-"],["+",".-.-."]]),jn=(e,t,r)=>{let o="";const n=e?"1":"0";for(let e=0;e<t;e+=1)o+=n;return Object.freeze({isOn:e,length:t,codeString:r,binaryString:o})},kn=(e,t)=>jn(!0,e,t),Nn=(e,t)=>jn(!1,e,t),Bn=kn(1,"."),Mn=kn(3,"-"),qn=Nn(1,""),Qn=Nn(3," "),Dn=Nn(7," / "),Un=Nn(0,"");const Wn=Object.freeze({__proto__:null,DIT:Bn,DAH:Mn,INTER_ELEMENT_GAP:qn,SHORT_GAP:Qn,MEDIUM_GAP:Dn,NUL:Un,encode:function(e){const t=e.toUpperCase(),r=[];let o=void 0;for(let e=0,n=t.length;e<n;e+=1){const n=t.charAt(e);if(" "===n){o=Dn;continue}if(0===n.charCodeAt(0)){o&&r.push(o),o=void 0,r.push(Un);continue}const a=Vn.get(n);if(a){for(let e=0,t=a.length;e<t;e+=1){switch(o&&r.push(o),a.charAt(e)){case".":r.push(Bn);break;case"-":case"_":r.push(Mn);break;default:continue}o=qn}o=Qn}}return r},toString:e=>e.reduce((e,t)=>e+t.codeString,""),toBinaryString:e=>e.reduce((e,t)=>e+t.binaryString,""),getTotalLength:e=>e.reduce((e,t)=>e+t.length,0)});function Hn(e){return 1e3/(e/60*50)}const Gn=e=>{e.timeout&&(e.off(Un),clearTimeout(e.timeout),e.timeout=void 0),e.index=0},Zn=(e,t,r)=>{t.timeout=setTimeout(()=>{t.timeout=void 0,e(t)},r)},Jn=e=>{const t=(e=>{const{unitTime:t,signals:r,index:o,on:n,off:a}=e,s=r[o];return s.isOn?n(s):a(s),t*s.length})(e);e.index+=1,e.index<e.signals.length?Zn(Jn,e,t):(e.timeout=setTimeout(()=>{e.loop?(e.off(Un),e.timeout=void 0):(e.off(Dn),Zn(Jn,e,Dn.length))},t),e.index=0)},Kn=Object.freeze({__proto__:null,wpmToDotDuration:Hn,create:(e,t,r=25,o=[],n=!1)=>({on:e,off:t,wpm:r,unitTime:Hn(r),loop:n,signals:o,index:0,timeout:void 0}),stop:Gn,start:(e,t)=>{Gn(e),t&&(e.signals=t),Jn(e)}}),Xn=Object.freeze({__proto__:null,Signal:Wn,Channel:Kn}),$n=Object.freeze({__proto__:null,create:(e,t,r)=>{const{x:o,y:n}=e,{x:a,y:s}=r.target,i=r.easing||vo;return xn({duration:t,onProgress:t=>{const r=i(t.ratio);mr(e,yt(o,a,r),yt(n,s,r))}})},setCreate:(e,t,r)=>{let o,n,a,s,i;return xn({duration:t,onStart:()=>{const{target:t,easing:c}=r();({x:o,y:n}=e),({x:a,y:s}=t),i=c||vo},onProgress:t=>{const r=i(t.ratio);mr(e,yt(o,a,r),yt(n,s,r))}})}}),Yn=Object.freeze({__proto__:null,Vector2D:$n,create:(e,t,r)=>{const{start:o,end:n}=r,a=r.easing||vo;return xn({duration:t,onProgress:t=>e(yt(o,n,a(t.ratio)))})},setCreate:(e,t,r)=>{let o,n,a;return xn({duration:t,onStart:()=>{const{start:e,end:t,easing:s}=r();o=e,n=t,a=s||vo},onProgress:t=>e(yt(o,n,a(t.ratio)))})}}),ea=Object.freeze({__proto__:null,create:(e,t=1)=>({callback:e,frequency:t,accumulation:0}),run:e=>{for(e.accumulation+=e.frequency;e.accumulation>=1;)e.accumulation-=1,e.callback()},reset:e=>{e.accumulation=0}});let ta=sn,ra=sn,oa=sn;const na=Object.freeze({__proto__:null,get info(){return ta},get warn(){return ra},get error(){return oa},outputInfo:(e=!0)=>{ta=e?console.info:sn},outputWarn:(e=!0)=>{ra=e?console.warn:sn},outputError:(e=!0)=>{oa=e?console.error:sn}}),aa=(e,t,r)=>{e.x+=e.vx,e.y+=e.vy,e.vx+=t,e.vy+=r},sa=(e,t,r)=>{e.vx2=e.vx+.5*t,e.vy2=e.vy+.5*r,e.vx+=t,e.vy+=r,e.x+=e.vx2,e.y+=e.vy2},ia=(e,t,r)=>{e.vx=e.vx2+.5*t,e.vy=e.vy2+.5*r},ca=Object.freeze({__proto__:null,createQuantity:(e,t,r,o)=>({x:e,y:t,vx:r||0,vy:o||0}),updateEuler:e=>{e.x+=e.vx,e.y+=e.vy},updateEulerAccelerated:aa,updateVerlet:sa,postUpdateVerlet:ia,positionVector:(e,t)=>Pr(e.x,e.y,t),velocityVector:(e,t)=>Pr(e.vx,e.vy,t),getSpeed:e=>dt(e.vx,e.vy),getVelocityAngle:e=>lt(e.vy,e.vx),truncateVelocity:(e,t)=>{const{vx:r,vy:o}=e;if(ut(r,o)<=t*t)return e;const n=ve(o,r);return e.vx=t*Re(n),e.vy=t*Le(n),e},setVelocity:(e,t)=>(e.vx=t.x,e.vy=t.y,e),setVelocityCartesian:(e,t,r)=>(e.vx=t,e.vy=r,e),setVelocityPolar:(e,t,r)=>(e.vx=t*Re(r),e.vy=t*Le(r),e),bounceInRectangleRegion:(e,t,r)=>{const{x:o,y:n,vx:a,vy:s}=r,{x:i,y:c}=e.topLeft,{x:l,y:u}=e.bottomRight;return o<i?(r.x=i,a<0&&(r.vx=-t*a),!0):o>=l?(r.x=l-1,a>0&&(r.vx=-t*a),!0):n<c?(r.y=c,s<0&&(r.vy=-t*s),!0):n>=u&&(r.y=u-1,s>0&&(r.vy=-t*s),!0)}}),la=(e,t)=>(e.fx+=t.x,e.fy+=t.y,e),ua=Object.freeze({__proto__:null,createQuantity:(e,t,r,o)=>({x:e,y:t,vx:r||0,vy:o||0,fx:0,fy:0}),createVerletQuantity:(e,t,r,o)=>({x:e,y:t,vx:r||0,vy:o||0,vx2:0,vy2:0,fx:0,fy:0}),updateEuler:e=>{aa(e,e.fx,e.fy),e.fx=0,e.fy=0},updateVerlet:e=>{sa(e,e.fx,e.fy),e.fx=0,e.fy=0},postUpdateVerlet:e=>{ia(e,e.fx,e.fy)},forceVector:(e,t)=>Pr(e.fx,e.fy,t),truncateForce:(e,t)=>{const{fx:r,fy:o}=e;if(ut(r,o)<=t*t)return e;const n=ve(o,r);return e.fx=t*Re(n),e.fy=t*Le(n),e},addForce:la,addForceCartesian:(e,t,r)=>(e.fx+=t,e.fy+=r,e),addForcePolar:(e,t,r)=>(e.fx+=t*Re(r),e.fy+=t*Le(r),e)}),da=Object.freeze({__proto__:null,createQuantity:(e,t,r,o,n)=>({x:e,y:t,vx:o||0,vy:n||0,fx:0,fy:0,mass:r}),createVerletQuantity:(e,t,r,o,n)=>({x:e,y:t,vx:o||0,vy:n||0,vx2:0,vy2:0,fx:0,fy:0,mass:r}),updateEuler:e=>{const{mass:t}=e;aa(e,e.fx/t,e.fy/t),e.fx=0,e.fy=0},updateVerlet:e=>{const{mass:t}=e;sa(e,e.fx/t,e.fy/t),e.fx=0,e.fy=0},postUpdateVerlet:e=>{const{mass:t}=e;ia(e,e.fx/t,e.fy/t)}});let ya=1,pa=-ya;const ha=(e,t,r,o)=>Fr(e,pa*t/(r*r*r),o),ga=(e,t,r)=>ha(Ir(t,e,r),e.mass*t.mass,nr(e,t),r),fa=(e,t,r)=>Fr(e,pa/(t*t*t),r),xa=(e,t,r)=>fa(Ir(t,e,r),nr(e,t),r),ma=(e,t,r)=>{const{x:o,y:n}=r;e.fx-=o,e.fy-=n,t.fx+=o,t.fy+=n},_a={x:0,y:0},ba={precalculated:(e,t,r,o)=>la(e,ha(t,r,o,_a)),calculate:(e,t)=>la(t,ga(e,t,_a)),precalculatedSimple:(e,t,r)=>la(e,fa(t,r,_a)),calculateSimple:(e,t)=>la(t,xa(e,t,_a))},va={precalculated:(e,t,r,o,n)=>ma(e,t,ha(r,o,n,_a)),calculate:(e,t)=>ma(e,t,ga(e,t,_a)),precalculatedSimple:(e,t,r,o)=>ma(e,t,fa(r,o,_a)),calculateSimple:(e,t)=>ma(e,t,xa(e,t,_a))},Oa=Object.freeze({__proto__:null,get constant(){return ya},setConstant:e=>{ya=e,pa=-ya},calculateCore:ha,calculate:ga,calculateCoreSimple:fa,calculateSimple:xa,attract:ba,attractEachOther:va}),Ra=Object.freeze({__proto__:null,update:e=>{e.rotationAngle+=e.rotationVelocity},createRandomQuantity:(e,t)=>({rotationAngle:Co(),rotationVelocity:Po(Eo(e,t))})}),Sa=(e,t,r,o,n)=>{const a=-(e*r.x+t*r.y);return Fr(r,(1+o)*a,n),n},Aa={x:0,y:0},za={x:0,y:0},wa={calculate:(e,t,r)=>{const o=t.vx-e.vx,n=t.vy-e.vy;Nr(e,t,za),Sa(o,n,za,r,Aa),la(t,Aa),br(Aa,-1),la(e,Aa)},preCalculated:(e,t,r,o,n,a)=>{Sa(r,o,n,a,Aa),la(t,Aa),br(Aa,-1),la(e,Aa)}},Ca=Object.freeze({__proto__:null,calculateForce:Sa,withinRectangle:(e,t,r)=>{const{x:o,y:n}=e,{topLeft:{x:a,y:s},bottomRight:{x:i,y:c}}=t;o<a?(e.x=a,e.vx=-r*e.vx):o>=i&&(e.x=i-1,e.vx=-r*e.vx),n<s?(e.y=s,e.vy=-r*e.vy):n>=c&&(e.y=c-1,e.vy=-r*e.vy)},addForce:(e,t,r)=>la(e,Sa(e.vx,e.vy,t,r,Aa)),addForceEachOther:wa,addForceWithinRectangle:(e,t,r)=>{const{x:o,y:n}=e,{topLeft:{x:a,y:s},bottomRight:{x:i,y:c}}=t,l=1+r;o<a?(e.x=a,e.fx-=l*e.vx):o>=i&&(e.x=i-1,e.fx-=l*e.vx),n<s?(e.y=s,e.fy-=l*e.vy):n>=c&&(e.y=c-1,e.fy-=l*e.vy)}}),Ea=Object.freeze({__proto__:null,withRandomHue:(e,t)=>[wo(360),e,t],toRGB:e=>{const[t,r,o]=e,n=o*r,a=t*(1/60),s=n*(1-xe(a%2-1));let i;switch(Ae(a)){case 0:i=[n,s,0];break;case 1:i=[s,n,0];break;case 2:i=[0,n,s];break;case 3:i=[0,s,n];break;case 4:i=[s,0,n];break;case 5:i=[n,0,s];break;default:i=[0,0,0]}const c=o-n;return[i[0]+c,i[1]+c,i[2]+c]}}),Ia=Object.freeze({__proto__:null,Angle:Ut,ArrayList:X,ArrayQueue:he,Arrays:v,Bezier:Hr,Bounce:Ca,ConstantFunction:cn,Coordinates2D:Gr,Dynamics:da,Easing:Ro,FitBox:nn,Gravitation:Oa,HSV:Ea,HtmlUtility:an,Kinematics:ca,Lazy:ge,Log:na,MathConstants:It,MorseCode:Xn,Numeric:gt,Random:on,RectangleRegion:Ur,RectangleSize:Wr,Repeater:ea,Rotation:Ra,SimpleDynamics:ua,StructureOfArrays:fe,Timer:Fn,Tween:Yn,Vector2D:qr}),{RectangleRegion:La,FitBox:Ta,Arrays:{FullName:{loopArray:Pa,unifyToArray:Fa}},ArrayList:Va,Vector2D:ja,Vector2D:{FullName:{vectorFromPolar:ka,copyVector:Na,zeroVector:Ba,constrainVector:Ma,setCartesian:qa}},Coordinates2D:{distance:Qa},Numeric:{sin:Da,cos:Ua,round:Wa,lerp:Ha,inverseLerp:Ga,max2:Za,clamp:Ja},MathConstants:{ONE_OVER_SQUARE_ROOT_TWO:Ka,INVERSE255:Xa},Random:{FullName:{randomValue:$a,randomSigned:Ya}},Angle:es,Angle:{TWO_PI:ts},HSV:rs,ConstantFunction:os,ConstantFunction:{returnVoid:ns},Tween:as,Timer:ss}=Ia;let is,cs,ls;const us=e=>{is=e,ls=is},ds=e=>{cs=e},ys=t=>t instanceof e.Color?Object.create(t):is.color(t),ps=e=>{if(null===e)return()=>ls.noStroke();if(void 0===e)return ns;const t=ys(e);return()=>ls.stroke(t)},hs=e=>{if(null===e)return()=>ls.noFill();if(void 0===e)return ns;const t=ys(e);return()=>ls.fill(t)},gs=(e,t)=>{const r=ys(e);return is.color(is.red(r),is.green(r),is.blue(r),t)},fs=(e,t)=>{const r=new Array(t),o=t-1,n=ys(e);if(1===t)r[0]=n;else{const e=is.alpha(n);for(let a=1;a<t;a+=1){const t=e*(a/o);r[a]=gs(n,t)}}return{colors:r,maxIndex:o}},xs=(e,t)=>e.colors[Wa(e.maxIndex*t*Xa)],ms=Object.freeze({__proto__:null,create:fs,get:xs}),_s=[],bs=(e,t,r,o)=>{if(1===o)return e.stroke=ps(t),e.fill=hs(r),e;if(null===t)e.stroke=()=>ls.noStroke();else if(void 0===t)e.stroke=ns;else{const r=fs(t,o);e.stroke=e=>ls.stroke(xs(r,e))}if(null===r)e.fill=()=>ls.noFill();else if(void 0===r)e.fill=ns;else{const t=fs(r,o);e.fill=e=>ls.fill(xs(t,e))}return e},vs=Object.freeze({__proto__:null,create:(e,t,r)=>{const o={stroke:ns,fill:ns},n=bs.bind(void 0,o,e,t,r);return is?n():(_s.push(n),o)},apply:(e,t)=>{if(t<1)return ls.noStroke(),void ls.noFill();e.stroke(t),e.fill(t)}}),Os=(e=is,t)=>{t&&(e.push(),t(e),e.pop()),e.loadPixels();const r=e.pixels;return()=>{e.pixels=r,e.updatePixels()}},Rs=(e=is)=>{const t=e.pixelDensity(),r=e.width*t,{pixels:o}=e;return(e,n,a,s,i,c)=>{const l=e*t,u=l+t,d=n*t,y=d+t;for(let e=d;e<y;e+=1){const t=e*r;for(let e=l;e<u;e+=1){const r=4*(t+e);o[r]=a,o[r+1]=s,o[r+2]=i,o[r+3]=c}}}},Ss=(e=is)=>{const t=e.pixelDensity(),r=e.width*t,{pixels:o}=e;return(e,n,a,s,i)=>{const c=e*t,l=c+t;for(let e=c;e<l;e+=1){const t=e*r;for(let e=0;e<r;e+=1){const r=4*(t+e);o[r]=n,o[r+1]=a,o[r+2]=s,o[r+3]=i}}}},As=(e,t,r)=>{ls.translate(t,r),e(),ls.translate(-t,-r)},zs=(e,t)=>{ls.rotate(t),e(),ls.rotate(-t)},ws=(e,t)=>{ls.scale(t),e(),ls.scale(1/t)},Cs=(e,t,r,o)=>{ls.translate(t,r),ws(e,o),ls.translate(-t,-r)};let Es=0,Is=0,Ls=0,Ts=1;const Ps=e=>ls.curveVertex(e.x,e.y),Fs=e=>{const{controlPoint1:t,controlPoint2:r,targetPoint:o}=e;ls.bezierVertex(t.x,t.y,r.x,r.y,o.x,o.y)},Vs=e=>{const{point:t,controlLine:r}=e,{x:o,y:n}=t,a=ka(.5*r.length,r.angle),s=a.x,i=a.y;ls.line(o-s,n-i,o+s,n+i)};let js=0,ks=0,Ns="DEFAULT";const Bs=(e,t=is)=>{const{width:r,height:o}=t;t.loadPixels();const n=Rs(t);for(let t=0;t<o;t+=1)for(let o=0;o<r;o+=1)e(n,o,t);t.updatePixels()},Ms=(e,t=is)=>{const{height:r}=t;t.loadPixels();const o=Ss(t);for(let t=0;t<r;t+=1)e(o,t);t.updatePixels()},qs=(e,t,r,o,n,a)=>{const s=r-e,i=o-t;ls.line(e+n*s,t+n*i,e+a*s,t+a*i)},Qs=(e,t,r,o)=>{const n=r-e,a=o-t;return(r,o)=>ls.line(e+r*n,t+r*a,e+o*n,t+o*a)},Ds=Object.freeze({__proto__:null,draw:qs,create:Qs}),Us=(e,t,r,o,n,a,s,i)=>{n!==a&&ls.arc(e,t,r,o,n*ts,a*ts,s,i)},Ws=(e,t,r,o,n,a)=>(s,i)=>Us(e,t,r,o,s,i,n,a),Hs=Object.freeze({__proto__:null,draw:Us,create:Ws}),Gs=(e,t,r,o,n,a,s)=>Us(e,t,r,r,o,n,a,s),Zs=(e,t,r,o,n)=>Ws(e,t,r,r,o,n),Js=Object.freeze({__proto__:null,draw:Gs,create:Zs}),Ks=(e,t)=>({from:e,to:t,length:Qa(e.x,e.y,t.x,t.y)}),Xs=(e,t)=>{const{from:r,to:o}=e;ls.vertex(Ha(r.x,o.x,t),Ha(r.y,o.y,t))},$s=e=>{const t=(e=>{const t=e.length,r=new Array(t),o=t-1;let n=0;for(let t=0;t<o;t+=1){const o=Ks(e[t],e[t+1]);r[t]=o,n+=o.length}const a=Ks(e[o],e[0]);r[o]=a,n+=a.length;const s=new Array(t);for(let e=0,o=0;e<t;e+=1){const t=r[e],a=o+t.length/n;s[e]={from:t.from,to:t.to,previousRatio:o,nextRatio:a},o=a}return s})(e);return(e,r)=>{const o=((e,t)=>{for(let r=t.length-1;r>=0;r-=1)if(t[r].previousRatio<=e)return r;return 0})(e,t),n=((e,t)=>{const{length:r}=t;for(let o=0;o<r;o+=1)if(e<=t[o].nextRatio)return o;return r-1})(r,t),a=Ga(e,t[o].previousRatio,t[o].nextRatio),s=Ga(r,t[n].previousRatio,t[n].nextRatio);if(ls.beginShape(),Xs(t[o],a),o!==n)for(let e=o;e<n;e+=1){const r=t[e].to;ls.vertex(r.x,r.y)}Xs(t[n],s),ls.endShape()}},Ys=Object.freeze({__proto__:null,create:$s}),ei=(e,t,r,o)=>{const n=e+r,a=t+o;return $s([{x:e,y:t},{x:n,y:t},{x:n,y:a},{x:e,y:a}])},ti=(e,t,r,o)=>{const n=.5*r,a=.5*o,s=e-n,i=t-a,c=e+n,l=t+a;return $s([{x:s,y:i},{x:c,y:i},{x:c,y:l},{x:s,y:l}])},ri=Object.freeze({__proto__:null,createCorner:ei,createCenter:ti}),oi=(e,t,r)=>ei(e,t,r,r),ni=(e,t,r)=>ti(e,t,r,r),ai=Object.freeze({__proto__:null,createCorner:oi,createCenter:ni}),si=Object.freeze({__proto__:null,drawTrimmedLine:qs,createTrimmedLine:Qs,drawTrimmedEllipse:Us,createTrimmedEllipse:Ws,drawTrimmedCircle:Gs,createTrimmedCircle:Zs,createTrimmedPolygon:$s,createTrimmedRectangleCorner:ei,createTrimmedRectangleCenter:ti,createTrimmedSquareCorner:oi,createTrimmedSquareCenter:ni}),ii=Object.freeze({__proto__:null,Line:Ds,Ellipse:Hs,Circle:Js,Polygon:Ys,Rectangle:ri,Square:ai,FullName:si}),ci=e=>{e.zoomTimer=ss.dummy,e.targetZoomFactor=void 0},li=Object.freeze({__proto__:null,create:e=>{const{displaySize:t,initialDisplayPosition:r,initialFocusPoint:o,minZoomFactor:n,maxZoomFactor:a}=e,s=e.regionBoundary||La.createInfinite(),i=Ta.calculateScaleFactor(La.getSize(s),t),c=n?Za(i,n):i,l=a?Za(c,a):1/0;return{displaySize:t,displayPosition:Na(r||Ba),regionBoundary:s,zoomFactorRange:{start:c,end:l},focusPoint:o?Na(o):s?La.getCenterPoint(s):Na(Ba),zoomFactor:1,zoomTimer:ss.dummy,targetZoomFactor:void 0,targetFocusPoint:void 0,focusPointEasingFactor:.1}},update:e=>{const{displaySize:{width:t,height:r},regionBoundary:{topLeft:{x:o,y:n},bottomRight:{x:a,y:s}},zoomFactor:i,focusPoint:c,targetFocusPoint:l,focusPointEasingFactor:u}=e;l&&(c.x+=u*(l.x-c.x),c.y+=u*(l.y-c.y));const d=t/(2*i),y=r/(2*i);Ma(c,o+d,a-d,n+y,s-y),ss.Component.step(e.zoomTimer)},draw:(e,t)=>{const{displaySize:r,displayPosition:o,focusPoint:n,zoomFactor:a}=e;Cs(t,o.x+r.width/2-a*n.x,o.y+r.height/2-a*n.y,a)},stopTweenZoom:ci,setZoom:(e,t)=>{const{zoomFactorRange:r}=e,o=Ja(t,r.start,r.end);e.zoomFactor=o,ci(e)},tweenZoom:(e,t,r,o=60)=>{const{zoomFactorRange:n}=e,a=Ja(t,n.start,n.end),s=as.create(t=>e.zoomFactor=t,o,{start:e.zoomFactor,end:a,easing:r});return s.onComplete.push(ci.bind(void 0,e)),e.targetZoomFactor=a,e.zoomTimer=s},getWorldPosition:(e,t,r)=>{const{displaySize:o,displayPosition:n,focusPoint:a,zoomFactor:s}=e,i=1/s;return qa(r,i*(t.x-(n.x+o.width/2))+a.x,i*(t.y-(n.y+o.height/2))+a.y)},getScreenPosition:(e,t,r)=>{const{displaySize:o,displayPosition:n,focusPoint:a,zoomFactor:s}=e;return qa(r,n.x+o.width/2+s*(t.x-a.x),n.y+o.height/2+s*(t.y-a.y))}}),ui={x:0,y:0},di={x:0,y:0},yi={x:0,y:0};let pi=!0;const hi=os.returnVoid,gi=os.returnFalse,fi=e=>{let t=!0;for(let r=0;r<e.length;r+=1)t=!1!==e[r](ui)&&t;return t},xi=e=>({onClicked:Fa(e.onClicked),onPressed:Fa(e.onPressed),onReleased:Fa(e.onReleased),onMoved:Fa(e.onMoved),onEnter:Fa(e.onEnter),onLeave:Fa(e.onLeave),isMouseOver:e.isMouseOver||os.returnTrue,active:!0,mouseOver:!1}),mi=xi({}),_i=Va.create(32),bi=xi({}),vi=e=>{const t=xi(e);return Va.add(_i,t),t},Oi=e=>{const t=(e=>{const t=(e=>{switch(e){case 0:return e=>e.onClicked;case 1:return e=>e.onPressed;case 2:return e=>e.onReleased;case 3:return e=>e.onMoved}})(e);return e=>!e.active||!e.mouseOver||fi(t(e))})(e);return()=>{if(!pi)return;if(!1===t(mi))return;const e=_i.array;let r=_i.size-1;for(;r>=0;){if(!1===t(e[r]))return;r-=1}t(bi)}},Ri=Oi(0),Si=Oi(1),Ai=Oi(2),zi=e=>(e.mouseOver=!1,!0),wi=e=>{if(e.active){if(!e.isMouseOver(ui))return e.mouseOver?(e.mouseOver=!1,fi(e.onLeave)):void 0;if(!e.mouseOver){e.mouseOver=!0;const t=!1!==fi(e.onEnter);return!1!==fi(e.onMoved)&&t}return fi(e.onMoved)}},Ci=Object.freeze({__proto__:null,get active(){return pi},setActive:e=>{pi=e},emptyHandler:hi,stopHandler:gi,createListener:xi,topListener:mi,listenerStack:_i,bottomListener:bi,addListener:e=>Va.add(_i,e),addNewListener:vi,removeListener:e=>Va.removeShiftElement(_i,e),onClicked:Ri,onPressed:Si,onReleased:Ai,onMoved:()=>{if(!pi)return;let e=wi;!1===e(mi)&&(e=zi);const t=_i.array;let r=_i.size-1;for(;r>=0;)!1===e(t[r])&&(e=zi),r-=1;e(bi)}});var Ei;!function(e){e[e.Default=0]="Default",e[e.MouseOver=1]="MouseOver",e[e.Pressed=2]="Pressed",e[e.Inactive=3]="Inactive",e[e.Hidden=4]="Hidden"}(Ei||(Ei={}));const Ii=e=>{e.state=Ei.Default,e.draw=e.drawDefault,e.listener.active=!0},Li=e=>{e.state=Ei.MouseOver,e.draw=e.drawMouseOver,e.listener.active=!0},Ti=e=>{e.state=Ei.Pressed,e.draw=e.drawPressed,e.listener.active=!0},Pi=Object.freeze({__proto__:null,get State(){return Ei},setStateDefault:Ii,setStateMouseOver:Li,setStatePressed:Ti,setStateInactive:e=>{e.state=Ei.Inactive,e.draw=e.drawInactive,e.listener.active=!1},setStateHidden:e=>{e.state=Ei.Hidden,e.draw=ns,e.listener.active=!1},create:(e,t=!0)=>{const r=e.drawDefault,o=e.drawMouseOver||r,n=e.drawPressed||r,a=e.drawInactive||r,s=r,i=t?vi(e):xi(e),c={listener:i,drawDefault:r,drawMouseOver:o,drawPressed:n,drawInactive:a,draw:s,state:Ei.Default},l=!!e.allowSubsequentEvents,u=()=>(Li(c),l);return i.onEnter.push(u,()=>is.cursor("pointer")),i.onPressed.push(()=>(Ti(c),l)),i.onClicked.push(u),i.onLeave.push(()=>(Ii(c),l),()=>is.cursor("auto")),l||(i.onMoved.push(gi),i.onReleased.push(gi)),c},draw:e=>e.draw()}),Fi=Object.freeze({__proto__:null,Event:Ci,Button:Pi,position:ui,previousPosition:di,displacement:yi,updatePosition:()=>{if(!cs)return;const e=1/cs.scaleFactor;ja.Mutable.set(di,ui),ja.Mutable.setCartesian(ui,e*is.mouseX,e*is.mouseY),ja.Assign.subtract(ui,di,yi)},setCenter:()=>ja.Mutable.set(ui,cs.logicalCenterPosition),drawAtCursor:e=>As(e,ui.x,ui.y),isOnCanvas:()=>La.containsPoint(cs.logicalRegion,ui,0)}),Vi=Object.freeze({__proto__:null,anyKeyIsDown:e=>{for(const t of e)if(is.keyIsDown(t))return!0;return!1}});let ji=0,ki=0;const Ni={x:0,y:0};let Bi=!1,Mi=!1,qi=!1,Qi=!1;const Di=(e,t)=>ja.Mutable.setCartesian(Ni,e,t),Ui=()=>{switch(ji=(Mi?-1:0)+(Qi?1:0),ki=(Bi?-1:0)+(qi?1:0),ji){case-1:switch(ki){case-1:Di(-Ka,-Ka);break;case 0:Di(-1,0);break;case 1:Di(-Ka,Ka)}break;case 0:switch(ki){case-1:Di(0,-1);break;case 0:Di(0,0);break;case 1:Di(0,1)}break;case 1:switch(ki){case-1:Di(Ka,-Ka);break;case 0:Di(1,0);break;case 1:Di(Ka,Ka)}}},Wi=Object.freeze({__proto__:null,get horizontalMove(){return ji},get verticalMove(){return ki},unitVector:Ni,get up(){return Bi},get left(){return Mi},get down(){return qi},get right(){return Qi},onPressed:()=>{switch(is.key){case"w":Bi=!0;break;case"a":Mi=!0;break;case"s":qi=!0;break;case"d":Qi=!0}switch(is.keyCode){case 38:Bi=!0;break;case 37:Mi=!0;break;case 40:qi=!0;break;case 39:Qi=!0}Ui()},onReleased:()=>{switch(is.key){case"w":Bi=!1;break;case"a":Mi=!1;break;case"s":qi=!1;break;case"d":Qi=!1}switch(is.keyCode){case 38:Bi=!1;break;case 37:Mi=!1;break;case 40:qi=!1;break;case 39:Qi=!1}Ui()}});let Hi=!1;const Gi=()=>{is.noLoop(),Hi=!0},Zi=()=>{is.loop(),Hi=!1},Ji=()=>{Hi?Zi():Gi()},Ki=(e=>{let t=0,r=1;for(let e=0;e<10;e+=1)t+=r/=2;return t/2})(),Xi=Object.freeze({__proto__:null,withOffset:(e=$a(4096))=>t=>is.noise(e+t),withOffset2:(e=$a(4096),t=$a(256))=>(r,o)=>is.noise(e+r,t+o),withOffset3:(e=$a(4096),t=$a(256),r=$a(16))=>(o,n,a)=>is.noise(e+o,t+n,r+a),withChangeRate:(e,t=$a(4096))=>{let r=t;return()=>is.noise(r+=e)},withChangeRate1:(e,t=$a(4096),r=$a(256))=>{let o=r;return r=>is.noise(t+r,o+=e)},withChangeRate2:(e,t=$a(4096),r=$a(256),o=$a(16))=>{let n=o;return(o,a)=>is.noise(t+o,r+a,n+=e)},AVERAGE:Ki}),$i=()=>({width:is.windowWidth,height:is.windowHeight}),Yi=e=>{const{scaleFactor:t,logicalSize:r}=e;return{width:t*r.width,height:t*r.height}},ec=e=>{const{scaleFactor:t,logicalSize:r}=e,o=1!==t?e=>ws(e,t):e=>e();return{logicalSize:r,logicalRegion:La.create(ja.zero,r),logicalCenterPosition:{x:r.width/2,y:r.height/2},scaleFactor:t,drawScaled:o}},tc=(e,t)=>{const r=e(),{width:o,height:n}=Yi(r),a=is.createCanvas(o,n,t),s=Object.assign({p5Canvas:a},ec(r));let i=r;return Object.assign(s,{resizeIfNeeded:t=>{const r=e();if(((e,t)=>{if(e.scaleFactor!==t.scaleFactor)return!1;const r=e.logicalSize,o=t.logicalSize;return r.width===o.width&&o.height==o.height})(i,r))return;const{width:o,height:n}=Yi(r);is.resizeCanvas(o,n,t);const a=ec(r);Object.assign(s,a),i=r}})},rc=e=>{const{logicalSize:t,getPhysicalContainerSize:r,fittingOption:o,renderer:n}=Object.assign({getPhysicalContainerSize:$i},e),a=null!==o?()=>Ta.calculateScaleFactor(t,r(),o):cn.returnOne;return tc(()=>({scaleFactor:a(),logicalSize:t}),n)},oc=e=>{const{logicalHeight:t,getPhysicalContainerSize:r,renderer:o}=Object.assign({getPhysicalContainerSize:$i},e),n=e.disableScaling?cn.returnOne:()=>r().height/t;return tc(()=>{const e=n();return{scaleFactor:e,logicalSize:{width:r().width/e,height:t}}},o)},nc=t=>{const r="string"==typeof t.htmlElement?an.getElementOrBody(t.htmlElement):t.htmlElement,{logicalCanvasWidth:o,logicalCanvasHeight:n,initialize:a,setP5Methods:s,fittingOption:i,renderer:c}=t;new e(e=>{us(e),e.setup=()=>{const t=r?an.getElementSize.bind(void 0,r):void 0,s=o?rc({logicalSize:{width:o,height:n},getPhysicalContainerSize:t,fittingOption:i,renderer:c}):oc({logicalHeight:n,getPhysicalContainerSize:t,renderer:c});ds(s),v.loopRunWithArgument(_s,e),_s.length=0,a()},s(e)},r)},ac=Object.freeze({__proto__:null,AlphaColor:ms,Camera:li,KeyBoard:Vi,Mouse:Fi,MoveKeys:Wi,Noise:Xi,ShapeColor:vs,TrimmedShape2D:ii,applyShake:()=>{if(0===js)return;const{width:e,height:t}=cs.logicalSize,r="VERTICAL"===Ns?0:Ya(js*e),o="HORIZONTAL"===Ns?0:Ya(js*t);is.translate(r,o),js*=ks,js<.001&&(js=0)},arcAtOrigin:(e,t,r,o,n,a)=>ls.arc(0,0,e,t,r*ts,o*ts,n,a),get canvas(){return cs},circleAtOrigin:e=>ls.circle(0,0,e),circularArcAtOrigin:(e,t,r,o,n)=>ls.arc(0,0,e,e,t*ts,r*ts,o,n),colorToARGB:e=>({a:is.alpha(e),r:is.red(e),g:is.green(e),b:is.blue(e)}),colorToRGB:e=>({r:is.red(e),g:is.green(e),b:is.blue(e)}),colorWithAlpha:gs,createFullScaledCanvas:oc,createScaledCanvas:rc,createSetPixel:Rs,createSetPixelRow:Ss,createTexture:(e,t,r)=>{const o=is.createGraphics(e,t);return Bs(r,o),o},createTextureRowByRow:(e,t,r)=>{const o=is.createGraphics(e,t);return Ms(r,o),o},curveVertexFromVector:Ps,drawBezierControlLines:e=>{Pa(e,Vs)},drawBezierCurve:e=>{const{startPoint:t,paths:r}=e;ls.vertex(t.x,t.y),Pa(r,Fs)},drawCurve:e=>{const{length:t}=e;ls.beginShape(),Ps(e[0]);for(let r=0;r<t;r+=1)Ps(e[r]);Ps(e[t-1]),ls.endShape()},drawCurveClosed:e=>{const{length:t}=e;ls.beginShape();for(let r=0;r<t;r+=1)Ps(e[r]);for(let t=0;t<3;t+=1)Ps(e[t]);ls.endShape()},drawRotated:zs,drawScaled:ws,drawTexture:Bs,drawTextureRowByRow:Ms,drawTransformed:(e,t,r,o,n)=>{ls.translate(t,r),ls.rotate(o),ls.scale(n),e(),ls.scale(1/n),ls.rotate(-o),ls.translate(-t,-r)},drawTranslated:As,drawTranslatedAndRotated:(e,t,r,o)=>{ls.translate(t,r),zs(e,o),ls.translate(-t,-r)},drawTranslatedAndScaled:Cs,getWindowSize:$i,graphicsToImage:e=>{const t=e,{width:r,height:o}=t,n=is.createImage(r,o);return n.copy(e,0,0,r,o,0,0,r,o),n},hsvColor:(e,t,r,o=255)=>{const[n,a,s]=rs.toRGB([e,t,r]);return is.color(255*n,255*a,255*s,o)},line:(e,t)=>ls.line(e.x,e.y,t.x,t.y),lineAtOrigin:e=>ls.line(0,0,e.x,e.y),lineWithMargin:(e,t,r)=>{const o=es.betweenPoints(e,t),n=r*Ua(o),a=r*Da(o);return ls.line(e.x+n,e.y+a,t.x-n,t.y-a)},onSetup:_s,get p(){return is},parseColor:ys,parseFill:hs,parseStroke:ps,pause:Gi,pauseOrResume:Ji,get renderer(){return ls},resume:Zi,reverseColor:e=>is.color(255-is.red(e),255-is.green(e),255-is.blue(e),is.alpha(e)),rotate:e=>{Ls=e,ls.rotate(e)},rotateScale:(e,t)=>{Ls=e,Ts=t,ls.rotate(e),ls.scale(t)},scale:e=>{Ts=e,ls.scale(e)},setCanvas:ds,setP5Instance:us,setRenderer:e=>{ls=e},setShake:(e,t,r="DEFAULT",o=!1)=>{t>=1||(o||0===js)&&(js=e,ks=t,Ns=r)},startSketch:nc,storePixels:Os,transform:(e,t,r,o)=>{Es=e,Is=t,Ls=r,Ts=o,ls.translate(e,t),ls.rotate(r),ls.scale(o)},translate:(e,t)=>{Es=e,Is=t,ls.translate(e,t)},translateRotate:(e,t,r)=>{Es=e,Is=t,Ls=r,ls.translate(e,t),ls.rotate(r)},translateScale:(e,t,r)=>{Es=e,Is=t,Ts=r,ls.translate(e,t),ls.scale(r)},undoRotate:()=>{ls.rotate(-Ls)},undoRotateScale:()=>{ls.scale(1/Ts),ls.rotate(-Ls)},undoScale:()=>{ls.scale(1/Ts)},undoTransform:()=>{ls.scale(1/Ts),ls.rotate(-Ls),ls.translate(-Es,-Is)},undoTranslate:()=>{ls.translate(-Es,-Is)},undoTranslateRotate:()=>{ls.rotate(-Ls),ls.translate(-Es,-Is)},undoTranslateScale:()=>{ls.scale(1/Ts),ls.translate(-Es,-Is)}}),sc=(e,t,r,o)=>{for(let n=r;n<o;n+=1)t(e[n],n,e)},ic=(e,t)=>sc(e,t,0,e.length),cc=(e,t,r,o)=>{let n=o;for(;n>r;)--n,t(e[n],n,e)},lc=(e,t)=>cc(e,t,0,e.length),uc=(e,t,r,o,n,a,s)=>{for(let i=o;i<n;i+=1)for(let o=a;o<s;o+=1)r(e[i],t[o])},dc=(e,t,r)=>uc(e,t,r,0,e.length,0,t.length),yc=(e,t,r,o)=>{const n=o-1;for(let a=r;a<n;a+=1)for(let r=a+1;r<o;r+=1)t(e[a],e[r])},pc=(e,t)=>yc(e,t,0,e.length),hc=e=>e?Array.isArray(e)?e.slice():[e]:[],gc=e=>[].concat(...e),fc=(e,t=1)=>t>0?e.reduce((e,r)=>e.concat(Array.isArray(r)?fc(r,t-1):r),[]):e,xc=(e,t,r)=>{const o=r||e.length;for(let r=0;r<o;r+=1)e[r]=t(r);return e},mc=(e,t)=>xc(new Array(t),e),_c=e=>{const t=new Array(e);for(let r=0;r<e;r+=1)t[r]=r;return t},bc=e=>{const{start:t,end:r}=e,o=r-t,n=new Array(o);for(let e=0;e<o;e+=1)n[e]=t+e;return n},vc=(e,t)=>{const r=[],o=e.length;for(let n=0;n<o;n+=1){const o=t(e[n],n,e);void 0!==o&&r.push(o)}return r},Oc=e=>{const t=e.length;for(let r=0;r<t;r+=1)e[r]()},Rc=(e,t)=>{const r=e.length;for(let o=0;o<r;o+=1)e[o](t)},Sc=(e,t,r,o,n)=>{let a=n;for(;a;)a-=1,e[r+a]=t[o+a]},Ac=Object.freeze({__proto__:null,loopArrayRange:sc,loopArray:ic,loopArrayRangeBackwards:cc,loopArrayBackwards:lc,arrayNestedLoopJoinWithRange:uc,arrayNestedLoopJoin:dc,arrayRoundRobinWithRange:yc,arrayRoundRobin:pc,unifyToArray:hc,flatArrayNaive:gc,flatArrayRecursive:fc,populateArray:xc,createPopulatedArray:mc,createIntegerSequence:_c,arrayFromRange:bc,filterMapArray:vc,loopRunArray:Oc,loopRunArrayWithArgument:Rc,blitArray:Sc}),zc=Object.freeze({__proto__:null,FullName:Ac,loopRange:sc,loop:ic,loopRangeBackwards:cc,loopBackwards:lc,nestedLoopJoinWithRange:uc,nestedLoopJoin:dc,roundRobinWithRange:yc,roundRobin:pc,unifyToArray:hc,flatNaive:gc,flatRecursive:fc,populate:xc,createPopulated:mc,createIntegerSequence:_c,fromRange:bc,filterMap:vc,loopRun:Oc,loopRunWithArgument:Rc,blit:Sc}),wc=e=>({array:new Array(e),size:0}),Cc=(e,t)=>({array:new Array(e).fill(t),size:e}),Ec=(e,t)=>({array:xc(new Array(e),t),size:e}),Ic=e=>({array:e,size:e.length}),Lc=(e,t)=>{e.array[e.size]=t,e.size+=1},Tc=Lc,Pc=e=>{const t=e.size-1,r=e.array[t];return e.size=t,r},Fc=(e,t)=>e.array[t],Vc=e=>e.array[e.size-1],jc=Vc,kc=(e,t)=>{const{array:r,size:o}=e,n=t.length;let a=n;for(;a;)a-=1,r[o+a]=t[a];e.size+=n},Nc=(e,t)=>{const{array:r,size:o}=e,{array:n,size:a}=t;let s=a;for(;s;)s-=1,r[o+s]=n[s];e.size+=a},Bc=e=>{e.size=0},Mc=e=>{const{array:t,size:r}=e,o=t.length;t.length=r,t.length=o},qc=e=>{e.size=0,Mc(e)},Qc=(e,t)=>sc(e.array,t,0,e.size),Dc=(e,t)=>cc(e.array,t,0,e.size),Uc=(e,t)=>{const{array:r,size:o}=e;for(let e=0;e<o;e+=1)if(t(r[e],e,r))return r[e]},Wc=(e,t)=>{const{array:r,size:o}=e;for(let e=0;e<o;e+=1)if(r[e]===t)return e;return-1},Hc=(e,t)=>{const{array:r,size:o}=e,n=r[t];return r.copyWithin(t,t+1,o),e.size=o-1,n},Gc=(e,t)=>{const r=Wc(e,t);return r>=0?Hc(e,r):null},Zc=(e,t)=>{const r=e.array,o=r[t],n=e.size-1;return r[t]=r[n],e.size=n,o},Jc=(e,t)=>{const r=Wc(e,t);return r>=0?Zc(e,r):null},Kc=(e,t)=>{const{array:r,size:o}=e;let n=0,a=!1;for(let e=0;e<o;e+=1){const o=r[e];t(o,e,r)?a=!0:(r[n]=o,n+=1)}return e.size=n,a},Xc=(e,t)=>{let r=!1;const o=e.array;for(let n=0;n<e.size;n+=1)t(o[n],n,o)&&(Zc(e,n),r=!0);return r},$c=(e,t)=>(xc(e.array,t),e.size=e.array.length,e),Yc=(e,t,r)=>uc(e.array,t.array,r,0,e.size,0,t.size),el=(e,t)=>yc(e.array,t,0,e.size),tl=Object.freeze({__proto__:null,createArrayList:wc,createFilledArrayList:Cc,createPopulatedArrayList:Ec,arrayListFromArray:Ic,addToArrayList:Lc,pushToArrayList:Tc,popFromArrayList:Pc,getFromArrayList:Fc,peekFromArrayList:Vc,getLastFromArrayList:jc,addArrayToArrayList:kc,addListToArrayList:Nc,clearArrayList:Bc,cleanUnusedSlotsOfArrayList:Mc,clearReferenceOfArrayList:qc,loopArrayList:Qc,loopArrayListBackwards:Dc,findInArrayList:Uc,findIndexInArrayList:Wc,removeShiftFromArrayList:Hc,removeShiftElementFromArrayList:Gc,removeSwapFromArrayList:Zc,removeSwapElementFromArrayList:Jc,removeShiftAllFromArrayList:Kc,removeSwapAllFromArrayList:Xc,populateArrayList:$c,arrayListNestedLoopJoin:Yc,arrayListRoundRobin:el}),rl=Object.freeze({__proto__:null,FullName:tl,create:wc,createFilled:Cc,createPopulated:Ec,fromArray:Ic,add:Lc,push:Tc,pop:Pc,get:Fc,peek:Vc,getLast:jc,addArray:kc,addList:Nc,clear:Bc,cleanUnusedSlots:Mc,clearReference:qc,loop:Qc,loopBackwards:Dc,find:Uc,findIndex:Wc,removeShift:Hc,removeShiftElement:Gc,removeSwap:Zc,removeSwapElement:Jc,removeShiftAll:Kc,removeSwapAll:Xc,populate:$c,nestedLoopJoin:Yc,roundRobin:el}),ol=e=>({array:new Array(e),headIndex:0,tailIndex:0,size:0}),nl=e=>0===e.size,al=e=>e.size===e.array.length,sl=(e,t)=>{const{array:r,tailIndex:o}=e;r[o]=t;const n=o+1;e.tailIndex=n<r.length?n:0,e.size+=1},il=(e,t)=>{al(e)||sl(e,t)},cl=e=>{const{array:t,headIndex:r}=e,o=r+1;return e.headIndex=o<t.length?o:0,e.size-=1,t[r]},ll=e=>nl(e)?void 0:cl(e),ul=e=>al(e)?cl(e):void 0,dl=e=>e.array[e.headIndex],yl=e=>{const{headIndex:t}=e;return t!==e.tailIndex?e.array[t]:void 0},pl=(e,t)=>{if(0===e.size)return;const{array:r,headIndex:o,tailIndex:n}=e;o<n?sc(r,t,o,n):(sc(r,t,o,r.length),sc(r,t,0,n))},hl=(e,t)=>{const{array:r,headIndex:o}=e,n=r[o];if(!t(n))return;const a=o+1;return e.headIndex=a<r.length?a:0,e.size-=1,n},gl=(e,t)=>nl(e)?void 0:hl(e,t),fl=e=>{e.headIndex=0,e.tailIndex=0,e.size=0},xl=e=>{fl(e);const{array:t}=e,r=t.length;t.length=0,t.length=r},ml=Object.freeze({__proto__:null,createArrayQueue:ol,arrayQueueIsEmpty:nl,arrayQueueIsFull:al,enqueue:sl,enqueueSafe:il,dequeue:cl,dequeueSafe:ll,dequeueIfFull:ul,loopArrayQueue:pl,peekArrayQueue:dl,peekArrayQueueSafe:yl,dequeueIf:hl,dequeueSafeIf:gl,clearArrayQueue:fl,clearArrayQueueReference:xl}),_l=Object.freeze({__proto__:null,FullName:ml,create:ol,isEmpty:nl,isFull:al,enqueue:sl,enqueueSafe:il,dequeue:cl,dequeueSafe:ll,dequeueIfFull:ul,peek:dl,peekSafe:yl,loop:pl,dequeueIf:hl,dequeueSafeIf:gl,clear:fl,clearReference:xl}),bl=Object.freeze({__proto__:null,create:e=>({value:void 0,factory:e}),get:e=>e.value||(e.value=e.factory()),clear:e=>{e.value=void 0}}),vl=Object.freeze({__proto__:null,from:(e,t)=>{const r={};for(const o of Object.keys(e))r[o]=new Array(t).fill(e[o]);return{data:r,length:t}}}),{abs:Ol,acos:Rl,asin:Sl,atan:Al,atan2:zl,ceil:wl,cos:Cl,exp:El,floor:Il,log:Ll,max:Tl,min:Pl,pow:Fl,round:Vl,sin:jl,sqrt:kl,tan:Nl,clz32:Bl,imul:Ml,sign:ql,log10:Ql,log2:Dl,log1p:Ul,expm1:Wl,cosh:Hl,sinh:Gl,tanh:Zl,acosh:Jl,asinh:Kl,atanh:Xl,hypot:$l,trunc:Yl,fround:eu,cbrt:tu}=Math,ru=kl,ou=Bl,nu=Ml,au=$l,su=Yl,iu=eu,cu=tu,lu=e=>e*e,uu=e=>e*e*e,du=e=>lu(e*e),yu=(e,t)=>e<t?e:t,pu=(e,t)=>e>t?e:t,hu=(e,t)=>0!==e||0!==t?zl(e,t):0,gu=(e,t)=>e*e+t*t,fu=(e,t)=>kl(e*e+t*t),xu=(e,t,r)=>e+r*(t-e),mu=(e,t,r)=>e<t?t:e>r?r:e,_u=(e,t,r)=>t>r?(t+r)/2:e<t?t:e>r?r:e,bu=Object.freeze({__proto__:null,abs:Ol,acos:Rl,asin:Sl,atan:Al,atan2:zl,ceil:wl,cos:Cl,exp:El,floor:Il,log:Ll,max:Tl,min:Pl,pow:Fl,round:Vl,sin:jl,sqrt:kl,tan:Nl,clz32:Bl,imul:Ml,sign:ql,log10:Ql,log2:Dl,log1p:Ul,expm1:Wl,cosh:Hl,sinh:Gl,tanh:Zl,acosh:Jl,asinh:Kl,atanh:Xl,hypot:$l,trunc:Yl,fround:eu,cbrt:tu,squareRoot:ru,leadingZeros32:ou,multInt:nu,hypotenuse:au,integerPart:su,floatRound:iu,cubeRoot:cu,square:lu,cube:uu,pow4:du,pow5:e=>lu(e*e)*e,squareInt:e=>Ml(e,e),cubeInt:e=>Ml(Ml(e,e),e),equal:(e,t)=>Ol(e-t)<2220446049250313e-31,min2:yu,max2:pu,atan2safe:hu,hypotenuseSquared2D:gu,hypotenuse2D:fu,lerp:xu,clamp:mu,constrain:_u,map:(e,t,r,o,n)=>o+(n-o)*(e-t)/(r-t),createMap:(e,t,r,o)=>{const n=t-e,a=o-r;return t=>r+a*(t-e)/n},inverseLerp:(e,t,r)=>(e-t)/(r-t)}),{E:vu,LN10:Ou,LN2:Ru,LOG2E:Su,LOG10E:Au}=Math,zu=Math.SQRT2,wu=Math.SQRT1_2,Cu=Math.sqrt(3),Eu=wu,Iu=zu,Lu=1/Cu,Tu=2/Cu,Pu=Cu/2,Fu=wu,Vu=Object.freeze({__proto__:null,E:vu,LN10:Ou,LN2:Ru,LOG2E:Su,LOG10E:Au,ONE_HALF:.5,ONE_THIRD:1/3,TWO_THIRDS:2/3,ONE_QUARTER:.25,TWO_QUARTERS:.5,THREE_QUARTERS:.75,INVERSE30:1/30,INVERSE60:1/60,INVERSE255:1/255,SQUARE_ROOT_TWO:zu,SQUARE_ROOT_ONE_HALF:wu,SQUARE_ROOT_THREE:Cu,ONE_OVER_SQUARE_ROOT_TWO:Eu,TWO_OVER_SQUARE_ROOT_TWO:Iu,ONE_OVER_SQUARE_ROOT_THREE:Lu,TWO_OVER_SQUARE_ROOT_THREE:Tu,SQUARE_ROOT_THREE_OVER_TWO:Pu,SQUARE_ROOT_TWO_OVER_TWO:Fu}),ju=Math.PI,ku=2*ju,Nu=ju/2,Bu=ju/3,Mu=ju/4,qu=3*Mu,Qu=Eu,Du=Pu,Uu=Du,Wu=Qu,Hu=ku/360,Gu=360/ku,Zu=(e,t)=>{const r=t.x-e.x,o=t.y-e.y;return 0!==r||0!==o?zl(o,r):0},Ju=Object.freeze({__proto__:null,PI:ju,TWO_PI:ku,HALF_PI:Nu,THIRD_PI:Bu,QUARTER_PI:Mu,THREE_QUARTERS_PI:qu,SIN30:.5,SIN45:Qu,SIN60:Du,COS30:Uu,COS45:Wu,COS60:.5,DEGREES_TO_RADIANS:Hu,RADIANS_TO_DEGREES:Gu,createArray:e=>{const t=new Array(e),r=ku/e;for(let o=0;o<e;o+=1)t[o]=o*r;return t},fromDegrees:e=>Hu*e,toDegrees:e=>Gu*e,fromOrigin:e=>{const{x:t,y:r}=e;return 0!==t||0!==r?zl(e.y,e.x):0},betweenPoints:Zu,betweenCoordinates:(e,t,r,o)=>e!==r||t!==o?zl(r-e,o-t):0}),Ku=(e,t)=>({x:e,y:t}),Xu={x:0,y:0},$u=e=>0===e.x&&0===e.y,Yu=(e,t)=>({x:e*Cl(t),y:e*jl(t)}),ed=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),td=(e,t,r)=>({x:e.x+t,y:e.y+r}),rd=(e,t,r)=>({x:e.x+t*Cl(r),y:e.y+t*jl(r)}),od=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),nd=(e,t,r)=>({x:e.x-t,y:e.y-r}),ad=(e,t,r)=>({x:e.x-t*Cl(r),y:e.y-t*jl(r)}),sd=(e,t)=>({x:e.x*t,y:e.y*t}),id=(e,t)=>({x:e.x/t,y:e.y/t}),cd=(e,t)=>gu(t.x-e.x,t.y-e.y),ld=(e,t)=>fu(t.x-e.x,t.y-e.y),ud=e=>`{x:${e.x},y:${e.y}}`,dd=e=>({x:e.x,y:e.y}),yd=e=>gu(e.x,e.y),pd=e=>fu(e.x,e.y),hd=e=>{const{x:t,y:r}=e;return 0!==t||0!==r?zl(e.y,e.x):0},gd=()=>({x:0,y:0}),fd=(e,t)=>(e.x+=t.x,e.y+=t.y,e),xd=(e,t,r)=>(e.x+=t,e.y+=r,e),md=(e,t,r)=>(e.x+=t*Cl(r),e.y+=t*jl(r),e),_d=(e,t)=>(e.x-=t.x,e.y-=t.y,e),bd=(e,t,r)=>(e.x-=t,e.y-=r,e),vd=(e,t,r)=>(e.x-=t*Cl(r),e.y-=t*jl(r),e),Od=(e,t)=>(e.x=t.x,e.y=t.y,e),Rd=(e,t,r)=>(e.x=t,e.y=r,e),Sd=(e,t,r)=>(e.x=t*Cl(r),e.y=t*jl(r),e),Ad=(e,t)=>(e.x*=t,e.y*=t,e),zd=(e,t)=>{const r=1/t;return e.x*=r,e.y*=r,e},wd=(e,t,r,o,n)=>(e.x=mu(e.x,t,r),e.y=mu(e.y,o,n),e),Cd=(e,t,r,o,n)=>(e.x=_u(e.x,t,r),e.y=_u(e.y,o,n),e),Ed=(e,t,r)=>{if(cd(e,t)>=r*r)return e;const o=Zu(t,e);return e.x=t.x+r*Cl(o),e.y=t.y+r*jl(o),e},Id=(e,t,r,o)=>{if(cd(e,t)>=r*r)return;const n=Zu(e,t),a=xu(e.x,t.x,o),s=xu(e.y,t.y,o),i=r/2,c=i*Cl(n),l=i*jl(n);t.x=a+c,t.y=s+l,e.x=a-c,e.y=s-l},Ld=Object.freeze({__proto__:null,create:gd,add:fd,addCartesian:xd,addPolar:md,subtract:_d,subtractCartesian:bd,subtractPolar:vd,set:Od,setCartesian:Rd,setPolar:Sd,multiply:Ad,divide:zd,clamp:wd,constrain:Cd,separate:Ed,separateEachOther:Id}),Td=(e,t,r)=>(r.x=e.x+t.x,r.y=e.y+t.y,r),Pd=(e,t,r,o)=>(o.x=e.x+t,o.y=e.y+r,o),Fd=(e,t,r,o)=>(o.x=e.x+t*Cl(r),o.y=e.y+t*jl(r),o),Vd=(e,t,r)=>(r.x=e.x-t.x,r.y=e.y-t.y,r),jd=(e,t,r,o)=>(o.x=e.x-t,o.y=e.y-r,o),kd=(e,t,r,o)=>(o.x=e.x-t*Cl(r),o.y=e.y-t*jl(r),o),Nd=(e,t,r)=>(r.x=e,r.y=t,r),Bd=(e,t,r)=>(r.x=e.x*t,r.y=e.y*t,r),Md=(e,t,r)=>{const o=1/t;return r.x=e.x*o,r.y=e.y*o,r},qd=(e,t,r,o,n,a)=>(a.x=mu(e.x,t,r),a.y=mu(e.y,o,n),a),Qd=(e,t,r,o,n,a)=>(a.x=_u(e.x,t,r),a.y=_u(e.y,o,n),a),Dd=(e,t,r)=>{const o=t.x-e.x,n=t.y-e.y,a=fu(o,n);return r.x=o/a,r.y=n/a,r},Ud=Object.freeze({__proto__:null,add:Td,addCartesian:Pd,addPolar:Fd,subtract:Vd,subtractCartesian:jd,subtractPolar:kd,setCartesian:Nd,setPolar:(e,t,r)=>(r.x=e*Cl(t),r.y=e*jl(t),r),multiply:Bd,divide:Md,clamp:qd,constrain:Qd,normalize:(e,t)=>{const{x:r,y:o}=e,n=fu(r,o);return t.x=r/n,t.y=o/n,t},normalizeBetween:Dd}),Wd=Object.freeze({__proto__:null,createVector:Ku,zeroVector:Xu,vectorIsZero:$u,vectorFromPolar:Yu,addVector:ed,addCartesian:td,addPolar:rd,subtractVector:od,subtractCartesian:nd,subtractPolar:ad,multiplyVector:sd,divideVector:id,distanceOfVectorsSquared:cd,distanceOfVectors:ld,vectorToStr:ud,copyVector:dd,vectorLengthSquared:yd,vectorLength:pd,vectorAngle:hd,createVectorMutable:gd,addVectorMutable:fd,addCartesianMutable:xd,addPolarMutable:md,subtractVectorMutable:_d,subtractCartesianMutable:bd,subtractPolarMutable:vd,setVector:Od,setCartesian:Rd,setPolar:Sd,multiplyVectorMutable:Ad,divideVectorMutable:zd,clampVector:wd,constrainVector:Cd,separateVector:Ed,separateVectors:Id,addVectorAssign:Td,addCartesianAssign:Pd,addPolarAssign:Fd,subtractVectorAssign:Vd,subtractCartesianAssign:jd,subtractPolarAssign:kd,multiplyVectorAssign:Bd,divideVectorAssign:Md,clampVectorAssign:qd,constrainVectorAssign:Qd}),Hd=Object.freeze({__proto__:null,Mutable:Ld,Assign:Ud,FullName:Wd,create:Ku,zero:Xu,isZero:$u,fromPolar:Yu,add:ed,addCartesian:td,addPolar:rd,subtract:od,subtractCartesian:nd,subtractPolar:ad,multiply:sd,divide:id,distanceSquared:cd,distance:ld,toStr:ud,copy:dd,lengthSquared:yd,length:pd,angle:hd,dot:(e,t)=>e.x*t.x+e.y*t.y,normalize:e=>{const{x:t,y:r}=e,o=fu(t,r);return{x:t/o,y:r/o}},normalizeBetween:(e,t)=>{const r=t.x-e.x,o=t.y-e.y,n=fu(r,o);return{x:r/n,y:o/n}}}),Gd=e=>{const{topLeft:t,bottomRight:r}=e;return{width:r.x-t.x,height:r.y-t.y}},Zd=e=>{const{topLeft:t,bottomRight:r}=e;return{x:(t.x+r.x)/2,y:(t.y+r.y)/2}},Jd=Object.freeze({__proto__:null,create:(e,t)=>({topLeft:e,bottomRight:{x:e.x+t.width,y:e.y+t.height}}),createFromCenter:(e,t)=>{const{x:r,y:o}=e,n=t.width/2,a=t.height/2;return{topLeft:{x:r-n,y:o-a},bottomRight:{x:r+n,y:o+a}}},containsPoint:(e,t,r)=>{const{topLeft:o,bottomRight:n}=e,{x:a,y:s}=t;return a>=o.x+r&&s>=o.y+r&&a<n.x-r&&s<n.y-r},getWidth:e=>e.bottomRight.x-e.topLeft.x,getHeight:e=>e.bottomRight.y-e.topLeft.y,getSize:Gd,getCenterPoint:Zd,createScaled:(e,t,r)=>{const{topLeft:o,bottomRight:n}=e;switch(r){case 0:return{topLeft:o,bottomRight:{x:xu(o.x,n.x,t),y:xu(o.y,n.y,t)}};case 1:{const r=Zd(e),o=Gd(e),n=t*(o.width/2),a=t*(o.height/2);return{topLeft:{x:r.x-n,y:r.y-a},bottomRight:{x:r.x+n,y:r.y+a}}}}},copy:e=>({topLeft:dd(e.topLeft),bottomRight:dd(e.bottomRight)}),createInfinite:()=>({topLeft:{x:-1/0,y:-1/0},bottomRight:{x:1/0,y:1/0}}),addMargin:(e,t)=>{const{topLeft:r,bottomRight:o}=e;return{topLeft:{x:r.x-t,y:r.y-t},bottomRight:{x:o.x+t,y:o.y+t}}},addMargins:(e,t)=>{const{topLeft:r,bottomRight:o}=e;return{topLeft:{x:r.x-t.left,y:r.y-t.top},bottomRight:{x:o.x+t.right,y:o.y+t.bottom}}}}),Kd=Object.freeze({__proto__:null,getAspectRatio:e=>e.width/e.height,getArea:e=>e.width*e.height,createInfinite:()=>({width:1/0,height:1/0})}),Xd=Object.freeze({__proto__:null,createCurve:e=>{const t=[],r=e.length;let o=e[0],n=o.controlLine;for(let a=1;a<r;a+=1){const r=e[a],s=r.controlLine;t.push({controlPoint1:rd(o.point,.5*n.length,n.angle),controlPoint2:ad(r.point,.5*s.length,s.angle),targetPoint:r.point}),o=r,n=s}return{startPoint:e[0].point,paths:t}}}),$d=Object.freeze({__proto__:null,distanceSquared:(e,t,r,o)=>gu(r-e,o-t),distance:(e,t,r,o)=>fu(r-e,o-t)}),Yd=lu,ey=uu,ty=du,ry=e=>e?Fl(2,10*(e-1)):0,oy=(e=1.70158)=>t=>t*t*((e+1)*t-e),ny=Object.freeze({__proto__:null,quad:Yd,cubic:ey,quart:ty,expo:ry,createBack:oy}),ay=e=>1-lu(e-1),sy=e=>uu(e-1)+1,iy=e=>1-du(e-1),cy=e=>e<1?1-Fl(2,-10*e):1,ly=(e=1.70158)=>t=>{const r=t-1,o=r*r;return(e+1)*(r*o)+e*o+1},uy=Object.freeze({__proto__:null,quad:ay,cubic:sy,quart:iy,expo:cy,createBack:ly}),dy=(e,t,r=.5)=>{const o=1/r;return n=>{if(n<r)return e(o*n);return t((n-r)/(1-r))}},yy=(e,t,r=.5)=>{const o=1/r;return n=>{if(n<r)return r*e(o*n);{const e=1-r;return r+e*t((n-r)/e)}}},py=yy(Yd,ay),hy=yy(ey,sy),gy=yy(ty,iy),fy=yy(ry,cy),xy=e=>yy(oy(e),ly(e)),my=Object.freeze({__proto__:null,quad:py,cubic:hy,quart:gy,expo:fy,createBack:xy}),_y=yy(ay,Yd),by=yy(sy,ey),vy=yy(iy,ty),Oy=yy(cy,ry),Ry=e=>yy(ly(e),oy(e)),Sy=Object.freeze({__proto__:null,quad:_y,cubic:by,quart:vy,expo:Oy,createBack:Ry}),Ay=e=>e,zy=Object.freeze({__proto__:null,easeInQuad:Yd,easeInCubic:ey,easeInQuart:ty,easeInExpo:ry,createEaseInBack:oy,easeOutQuad:ay,easeOutCubic:sy,easeOutQuart:iy,easeOutExpo:cy,createEaseOutBack:ly,easeInOutQuad:py,easeInOutCubic:hy,easeInOutQuart:gy,easeInOutExpo:fy,createEaseInOutBack:xy,easeOutInQuad:_y,easeOutInCubic:by,easeOutInQuart:vy,easeOutInExpo:Oy,createEaseOutInBack:Ry,easeLinear:Ay,concatenateEasing:dy,integrateEasing:yy}),wy=Object.freeze({__proto__:null,In:ny,Out:uy,InOut:my,OutIn:Sy,FullName:zy,linear:Ay,concatenate:dy,integrate:yy});let Cy=Math.random,Ey=Cy;const Iy=e=>{Cy=e,Ey=e},Ly=e=>Cy()*e,Ty=()=>Cy()*ku,Py=(e,t)=>e+Cy()*(t-e),Fy=e=>Py(e.start,e.end),Vy=e=>Cy()<e,jy=e=>Cy()<e?1:-1,ky=e=>(Cy()<.5?1:-1)*Cy()*e,Ny=()=>(Cy()<.5?1:-1)*Cy()*ju,By=e=>Yu(e,Ty()),My=e=>{const{topLeft:t,bottomRight:r}=e;return{x:Py(t.x,r.x),y:Py(t.y,r.y)}},qy=e=>Il(Cy()*e),Qy=(e,t)=>e+Il(Cy()*(t-e)),Dy=e=>(Cy()<.5?1:-1)*Il(Cy()*e),Uy=Object.freeze({__proto__:null,value:qy,between:Qy,signed:Dy}),Wy=e=>Il(Cy()/e)*e,Hy=(e,t)=>Il(Cy()*(t/e))*e,Gy=(e,t,r)=>t+Il(Cy()*((r-t)/e))*e,Zy=(e,t)=>(Cy()<.5?1:-1)*Il(Cy()*(t/e))*e,Jy=e=>Il(Cy()*(ku/e))*e,Ky=e=>(Cy()<.5?1:-1)*Il(Cy()*(ju/e))*e,Xy=Object.freeze({__proto__:null,ratio:Wy,value:Hy,between:Gy,signed:Zy,angle:Jy,signedAngle:Ky}),$y=e=>e[qy(e.length)],Yy=e=>e.splice(qy(e.length),1)[0],ep=Object.freeze({__proto__:null,get:$y,removeGet:Yy}),tp=e=>e(Cy()),rp=(e,t)=>e(Cy())*t,op=(e,t,r)=>t+e(Cy())*(r-t),np=(e,t)=>op(e,t.start,t.end),ap=Object.freeze({__proto__:null,ratio:tp,value:rp,between:op,inRange:np,angle:e=>e(Cy())*ku,signed:(e,t)=>(Cy()<.5?1:-1)*e(Cy())*t,signedAngle:e=>(Cy()<.5?1:-1)*e(Cy())*ju}),sp=Object.freeze({__proto__:null,setBaseRandomFunction:Iy,get randomRatio(){return Ey},randomValue:Ly,randomAngle:Ty,randomBetween:Py,randomInRange:Fy,randomBool:Vy,randomSign:jy,randomSigned:ky,randomSignedAngle:Ny,randomInteger:qy,randomIntegerBetween:Qy,randomIntegerSigned:Dy,randomDiscreteRatio:Wy,randomDiscreteValue:Hy,randomDiscreteAngle:Jy,randomDiscreteBetween:Gy,randomDiscreteSigned:Zy,randomDiscreteSignedAngle:Ky,randomFromArray:$y,randomRemoveFromArray:Yy,randomRatioCurved:tp,randomValueCurved:rp,randomBetweenCurved:op,randomInRangeCurved:np,randomVector:By,randomPointInRectangleRegin:My}),ip=Object.freeze({__proto__:null,Integer:Uy,Discrete:Xy,Arrays:ep,Curved:ap,FullName:sp,get random(){return Cy},get ratio(){return Ey},setBaseFunction:Iy,value:Ly,angle:Ty,between:Py,inRange:Fy,bool:Vy,sign:jy,signed:ky,signedAngle:Ny,vector:By,pointInRectangleRegion:My}),cp=Object.freeze({__proto__:null,calculateScaleFactor:(e,t,r)=>{switch(r){default:case"FIT_TO_BOX":return yu(t.width/e.width,t.height/e.height);case"FIT_WIDTH":return t.width/e.width;case"FIT_HEIGHT":return t.height/e.height}}}),lp=Object.freeze({__proto__:null,getElementOrBody:e=>document.getElementById(e)||document.body,getElementSize:e=>e===document.body?{width:window.innerWidth,height:window.innerHeight}:e.getBoundingClientRect()}),up=()=>{},dp=Object.freeze({__proto__:null,returnVoid:up,returnUndefined:()=>{},returnNull:()=>null,returnZero:()=>0,returnOne:()=>1,returnTrue:()=>!0,returnFalse:()=>!1,returnArgument:e=>e,runSelf:e=>e()});let yp=up;let pp=0;const hp=e=>e.step(),gp=e=>e.reset();class fp{constructor(e,t){this.id=pp++,this.name="no name",this.onStart=e,this.onComplete=t,this.isStarted=!1,this.isCompleted=!1,yp("timer ",this.id,": created.")}tryStart(){if(this.isStarted)return!1;const{id:e,name:t}=this;return yp("timer ",e,t,": starting..."),Rc(this.onStart,e),yp("timer ",e,t,": started."),this.isStarted=!0}complete(){const{id:e,name:t}=this;return yp("timer ",e,t,": completing..."),Rc(this.onComplete,e),yp("timer ",e,t,": completed."),this.isCompleted=!0}setName(e){return this.name=e,this}}const xp=Object.freeze({__proto__:null,step:hp,reset:gp,Base:fp}),mp=e=>({duration:e,ratioChangeRate:1/pu(1,e),count:0,ratio:0});class _p extends fp{constructor(e,t,r,o){super(e,r),this.onProgress=t,this.progress=o}static create(e,t,r,o){return new _p(e,t,r,o)}step(){if(this.isCompleted)return!0;this.tryStart();const{progress:e}=this;return e.count>=e.duration?(e.ratio=1,Rc(this.onProgress,e),this.complete()):(Rc(this.onProgress,e),(e=>{e.count+=1,e.ratio+=e.ratioChangeRate})(e),!1)}reset(){var e;return(e=this.progress).count=0,e.ratio=0,this.isStarted=!1,this.isCompleted=!1,this}setName(e){return super.setName(e),this}}const bp=e=>_p.create(hc(e.onStart),hc(e.onProgress),hc(e.onComplete),mp(e.duration)),vp=_p.create([],[],[],mp(0));vp.isStarted=!0,vp.isCompleted=!0;const Op=(e,t)=>{e.index=t,e.currentComponent=e.components[t]};class Rp extends fp{constructor(e){super([],[]),this.components=e.slice(),this.index=0,this.currentComponent=e[0]}static create(e){return new Rp(e)}step(){return this.tryStart(),!!this.currentComponent.step()&&(e=>{const t=e.index+1;return t<e.components.length?(Op(e,t),!1):e.complete()})(this)}reset(){return ic(this.components,gp),Op(this,0),this.isStarted=!1,this.isCompleted=!1,this}pushComponent(e){this.components.push(e)}setName(e){return super.setName(e),this}}const Sp=e=>Rp.create(e),Ap=Object.freeze({__proto__:null,Unit:Rp,create:Sp});class zp extends fp{constructor(e){super([],[]),this.components=e.slice(),this.runningComponentList=Ic(e.slice())}static create(e){return new zp(e)}step(){this.tryStart();const{runningComponentList:e}=this;return Kc(e,hp),!(e.size>0)&&this.complete()}reset(){const{runningComponentList:e}=this;return Bc(e),kc(e,this.components),Qc(e,gp),this.isStarted=!1,this.isCompleted=!1,this}setName(e){return super.setName(e),this}addComponent(e){this.components.push(e),Lc(this.runningComponentList,e)}}const wp=e=>zp.create(e),Cp=Object.freeze({__proto__:null,Unit:zp,create:wp});class Ep extends fp{constructor(e,t){super([],[]),this.component=e,this.loopCount=t,this.remainingCount=t}static create(e,t){return new Ep(e,t)}step(){return this.tryStart(),!!this.component.step()&&(!!this.isCompleted||((this.remainingCount-=1)>0?(this.component.reset(),!1):this.complete()))}reset(){const{loopCount:e}=this;return this.remainingCount=e,this.component.reset(),this.isStarted=!1,this.isCompleted=!1,this}setName(e){return super.setName(e),this}}const Ip=(e,t=1/0)=>Ep.create(e,t),Lp=Object.freeze({__proto__:null,Unit:Ep,create:Ip}),Tp=e=>({runningComponents:wc(e),newComponentsBuffer:wc(e)}),Pp=(e,t)=>Lc(e.newComponentsBuffer,t),Fp=e=>{const{runningComponents:t,newComponentsBuffer:r}=e;Nc(t,r),Bc(r),Kc(t,hp)},Vp=e=>{Bc(e.runningComponents),Bc(e.newComponentsBuffer)},jp=Object.freeze({__proto__:null,create:Tp,add:Pp,step:Fp,clear:Vp,construct:e=>{const t=Tp(e);return{add:Pp.bind(void 0,t),step:Fp.bind(void 0,t),clear:Vp.bind(void 0,t)}}}),kp=Object.freeze({__proto__:null,Component:xp,Chain:Ap,Parallel:Cp,Loop:Lp,Set:jp,chain:Sp,parallel:wp,loop:Ip,outputVerbose:(e=!0)=>{yp=e?console.info:up},Unit:_p,create:bp,dummy:vp}),Np=new Map([["A",".-"],["B","-..."],["C","-.-."],["D","-.."],["E","."],["F","..-."],["G","--."],["H","...."],["I",".."],["J",".---"],["K","-.-"],["L",".-.."],["M","--"],["N","-."],["O","---"],["P",".--."],["Q","--.-"],["R",".-."],["S","..."],["T","-"],["U","..-"],["V","...-"],["W",".--"],["X","-..-"],["Y","-.--"],["Z","--.."],["1",".----"],["2","..---"],["3","...--"],["4","....-"],["5","....."],["6","-...."],["7","--..."],["8","---.."],["9","----."],["0","-----"],[".",".-.-.-"],[",","--..--"],[":","---..."],["?","..--.."],["'",".----."],["!","-.-.--"],["-","-....-"],["/","-..-."],["@",".--.-."],["(","-.--."],[")","-.--.-"],['"',".-..-."],["=","-...-"],["+",".-.-."]]),Bp=(e,t,r)=>{let o="";const n=e?"1":"0";for(let e=0;e<t;e+=1)o+=n;return Object.freeze({isOn:e,length:t,codeString:r,binaryString:o})},Mp=(e,t)=>Bp(!0,e,t),qp=(e,t)=>Bp(!1,e,t),Qp=Mp(1,"."),Dp=Mp(3,"-"),Up=qp(1,""),Wp=qp(3," "),Hp=qp(7," / "),Gp=qp(0,"");const Zp=Object.freeze({__proto__:null,DIT:Qp,DAH:Dp,INTER_ELEMENT_GAP:Up,SHORT_GAP:Wp,MEDIUM_GAP:Hp,NUL:Gp,encode:function(e){const t=e.toUpperCase(),r=[];let o=void 0;for(let e=0,n=t.length;e<n;e+=1){const n=t.charAt(e);if(" "===n){o=Hp;continue}if(0===n.charCodeAt(0)){o&&r.push(o),o=void 0,r.push(Gp);continue}const a=Np.get(n);if(a){for(let e=0,t=a.length;e<t;e+=1){switch(o&&r.push(o),a.charAt(e)){case".":r.push(Qp);break;case"-":case"_":r.push(Dp);break;default:continue}o=Up}o=Wp}}return r},toString:e=>e.reduce((e,t)=>e+t.codeString,""),toBinaryString:e=>e.reduce((e,t)=>e+t.binaryString,""),getTotalLength:e=>e.reduce((e,t)=>e+t.length,0)});function Jp(e){return 1e3/(e/60*50)}const Kp=e=>{e.timeout&&(e.off(Gp),clearTimeout(e.timeout),e.timeout=void 0),e.index=0},Xp=(e,t,r)=>{t.timeout=setTimeout(()=>{t.timeout=void 0,e(t)},r)},$p=e=>{const t=(e=>{const{unitTime:t,signals:r,index:o,on:n,off:a}=e,s=r[o];return s.isOn?n(s):a(s),t*s.length})(e);e.index+=1,e.index<e.signals.length?Xp($p,e,t):(e.timeout=setTimeout(()=>{e.loop?(e.off(Gp),e.timeout=void 0):(e.off(Hp),Xp($p,e,Hp.length))},t),e.index=0)},Yp=Object.freeze({__proto__:null,wpmToDotDuration:Jp,create:(e,t,r=25,o=[],n=!1)=>({on:e,off:t,wpm:r,unitTime:Jp(r),loop:n,signals:o,index:0,timeout:void 0}),stop:Kp,start:(e,t)=>{Kp(e),t&&(e.signals=t),$p(e)}}),eh=Object.freeze({__proto__:null,Signal:Zp,Channel:Yp}),th=Object.freeze({__proto__:null,create:(e,t,r)=>{const{x:o,y:n}=e,{x:a,y:s}=r.target,i=r.easing||Ay;return bp({duration:t,onProgress:t=>{const r=i(t.ratio);Rd(e,xu(o,a,r),xu(n,s,r))}})},setCreate:(e,t,r)=>{let o,n,a,s,i;return bp({duration:t,onStart:()=>{const{target:t,easing:c}=r();({x:o,y:n}=e),({x:a,y:s}=t),i=c||Ay},onProgress:t=>{const r=i(t.ratio);Rd(e,xu(o,a,r),xu(n,s,r))}})}}),rh=Object.freeze({__proto__:null,Vector2D:th,create:(e,t,r)=>{const{start:o,end:n}=r,a=r.easing||Ay;return bp({duration:t,onProgress:t=>e(xu(o,n,a(t.ratio)))})},setCreate:(e,t,r)=>{let o,n,a;return bp({duration:t,onStart:()=>{const{start:e,end:t,easing:s}=r();o=e,n=t,a=s||Ay},onProgress:t=>e(xu(o,n,a(t.ratio)))})}}),oh=Object.freeze({__proto__:null,create:(e,t=1)=>({callback:e,frequency:t,accumulation:0}),run:e=>{for(e.accumulation+=e.frequency;e.accumulation>=1;)e.accumulation-=1,e.callback()},reset:e=>{e.accumulation=0}});let nh=up,ah=up,sh=up;const ih=Object.freeze({__proto__:null,get info(){return nh},get warn(){return ah},get error(){return sh},outputInfo:(e=!0)=>{nh=e?console.info:up},outputWarn:(e=!0)=>{ah=e?console.warn:up},outputError:(e=!0)=>{sh=e?console.error:up}}),ch=(e,t,r)=>{e.x+=e.vx,e.y+=e.vy,e.vx+=t,e.vy+=r},lh=(e,t,r)=>{e.vx2=e.vx+.5*t,e.vy2=e.vy+.5*r,e.vx+=t,e.vy+=r,e.x+=e.vx2,e.y+=e.vy2},uh=(e,t,r)=>{e.vx=e.vx2+.5*t,e.vy=e.vy2+.5*r},dh=Object.freeze({__proto__:null,createQuantity:(e,t,r,o)=>({x:e,y:t,vx:r||0,vy:o||0}),updateEuler:e=>{e.x+=e.vx,e.y+=e.vy},updateEulerAccelerated:ch,updateVerlet:lh,postUpdateVerlet:uh,positionVector:(e,t)=>Nd(e.x,e.y,t),velocityVector:(e,t)=>Nd(e.vx,e.vy,t),getSpeed:e=>fu(e.vx,e.vy),getVelocityAngle:e=>hu(e.vy,e.vx),truncateVelocity:(e,t)=>{const{vx:r,vy:o}=e;if(gu(r,o)<=t*t)return e;const n=zl(o,r);return e.vx=t*Cl(n),e.vy=t*jl(n),e},setVelocity:(e,t)=>(e.vx=t.x,e.vy=t.y,e),setVelocityCartesian:(e,t,r)=>(e.vx=t,e.vy=r,e),setVelocityPolar:(e,t,r)=>(e.vx=t*Cl(r),e.vy=t*jl(r),e),bounceInRectangleRegion:(e,t,r)=>{const{x:o,y:n,vx:a,vy:s}=r,{x:i,y:c}=e.topLeft,{x:l,y:u}=e.bottomRight;return o<i?(r.x=i,a<0&&(r.vx=-t*a),!0):o>=l?(r.x=l-1,a>0&&(r.vx=-t*a),!0):n<c?(r.y=c,s<0&&(r.vy=-t*s),!0):n>=u&&(r.y=u-1,s>0&&(r.vy=-t*s),!0)}}),yh=(e,t)=>(e.fx+=t.x,e.fy+=t.y,e),ph=Object.freeze({__proto__:null,createQuantity:(e,t,r,o)=>({x:e,y:t,vx:r||0,vy:o||0,fx:0,fy:0}),createVerletQuantity:(e,t,r,o)=>({x:e,y:t,vx:r||0,vy:o||0,vx2:0,vy2:0,fx:0,fy:0}),updateEuler:e=>{ch(e,e.fx,e.fy),e.fx=0,e.fy=0},updateVerlet:e=>{lh(e,e.fx,e.fy),e.fx=0,e.fy=0},postUpdateVerlet:e=>{uh(e,e.fx,e.fy)},forceVector:(e,t)=>Nd(e.fx,e.fy,t),truncateForce:(e,t)=>{const{fx:r,fy:o}=e;if(gu(r,o)<=t*t)return e;const n=zl(o,r);return e.fx=t*Cl(n),e.fy=t*jl(n),e},addForce:yh,addForceCartesian:(e,t,r)=>(e.fx+=t,e.fy+=r,e),addForcePolar:(e,t,r)=>(e.fx+=t*Cl(r),e.fy+=t*jl(r),e)}),hh=Object.freeze({__proto__:null,createQuantity:(e,t,r,o,n)=>({x:e,y:t,vx:o||0,vy:n||0,fx:0,fy:0,mass:r}),createVerletQuantity:(e,t,r,o,n)=>({x:e,y:t,vx:o||0,vy:n||0,vx2:0,vy2:0,fx:0,fy:0,mass:r}),updateEuler:e=>{const{mass:t}=e;ch(e,e.fx/t,e.fy/t),e.fx=0,e.fy=0},updateVerlet:e=>{const{mass:t}=e;lh(e,e.fx/t,e.fy/t),e.fx=0,e.fy=0},postUpdateVerlet:e=>{const{mass:t}=e;uh(e,e.fx/t,e.fy/t)}});let gh=1,fh=-gh;const xh=(e,t,r,o)=>Bd(e,fh*t/(r*r*r),o),mh=(e,t,r)=>xh(Vd(t,e,r),e.mass*t.mass,ld(e,t),r),_h=(e,t,r)=>Bd(e,fh/(t*t*t),r),bh=(e,t,r)=>_h(Vd(t,e,r),ld(e,t),r),vh=(e,t,r)=>{const{x:o,y:n}=r;e.fx-=o,e.fy-=n,t.fx+=o,t.fy+=n},Oh={x:0,y:0},Rh={precalculated:(e,t,r,o)=>yh(e,xh(t,r,o,Oh)),calculate:(e,t)=>yh(t,mh(e,t,Oh)),precalculatedSimple:(e,t,r)=>yh(e,_h(t,r,Oh)),calculateSimple:(e,t)=>yh(t,bh(e,t,Oh))},Sh={precalculated:(e,t,r,o,n)=>vh(e,t,xh(r,o,n,Oh)),calculate:(e,t)=>vh(e,t,mh(e,t,Oh)),precalculatedSimple:(e,t,r,o)=>vh(e,t,_h(r,o,Oh)),calculateSimple:(e,t)=>vh(e,t,bh(e,t,Oh))},Ah=Object.freeze({__proto__:null,get constant(){return gh},setConstant:e=>{gh=e,fh=-gh},calculateCore:xh,calculate:mh,calculateCoreSimple:_h,calculateSimple:bh,attract:Rh,attractEachOther:Sh}),zh=Object.freeze({__proto__:null,update:e=>{e.rotationAngle+=e.rotationVelocity},createRandomQuantity:(e,t)=>({rotationAngle:Ty(),rotationVelocity:ky(Py(e,t))})}),wh=(e,t,r,o,n)=>{const a=-(e*r.x+t*r.y);return Bd(r,(1+o)*a,n),n},Ch={x:0,y:0},Eh={x:0,y:0},Ih={calculate:(e,t,r)=>{const o=t.vx-e.vx,n=t.vy-e.vy;Dd(e,t,Eh),wh(o,n,Eh,r,Ch),yh(t,Ch),Ad(Ch,-1),yh(e,Ch)},preCalculated:(e,t,r,o,n,a)=>{wh(r,o,n,a,Ch),yh(t,Ch),Ad(Ch,-1),yh(e,Ch)}},Lh=Object.freeze({__proto__:null,calculateForce:wh,withinRectangle:(e,t,r)=>{const{x:o,y:n}=e,{topLeft:{x:a,y:s},bottomRight:{x:i,y:c}}=t;o<a?(e.x=a,e.vx=-r*e.vx):o>=i&&(e.x=i-1,e.vx=-r*e.vx),n<s?(e.y=s,e.vy=-r*e.vy):n>=c&&(e.y=c-1,e.vy=-r*e.vy)},addForce:(e,t,r)=>yh(e,wh(e.vx,e.vy,t,r,Ch)),addForceEachOther:Ih,addForceWithinRectangle:(e,t,r)=>{const{x:o,y:n}=e,{topLeft:{x:a,y:s},bottomRight:{x:i,y:c}}=t,l=1+r;o<a?(e.x=a,e.fx-=l*e.vx):o>=i&&(e.x=i-1,e.fx-=l*e.vx),n<s?(e.y=s,e.fy-=l*e.vy):n>=c&&(e.y=c-1,e.fy-=l*e.vy)}}),Th=Object.freeze({__proto__:null,withRandomHue:(e,t)=>[Ly(360),e,t],toRGB:e=>{const[t,r,o]=e,n=o*r,a=t*(1/60),s=n*(1-Ol(a%2-1));let i;switch(Il(a)){case 0:i=[n,s,0];break;case 1:i=[s,n,0];break;case 2:i=[0,n,s];break;case 3:i=[0,s,n];break;case 4:i=[s,0,n];break;case 5:i=[n,0,s];break;default:i=[0,0,0]}const c=o-n;return[i[0]+c,i[1]+c,i[2]+c]}}),Ph=Object.freeze({__proto__:null,Angle:Ju,ArrayList:rl,ArrayQueue:_l,Arrays:zc,Bezier:Xd,Bounce:Lh,ConstantFunction:dp,Coordinates2D:$d,Dynamics:hh,Easing:wy,FitBox:cp,Gravitation:Ah,HSV:Th,HtmlUtility:lp,Kinematics:dh,Lazy:bl,Log:ih,MathConstants:Vu,MorseCode:eh,Numeric:bu,Random:ip,RectangleRegion:Jd,RectangleSize:Kd,Repeater:oh,Rotation:zh,SimpleDynamics:ph,StructureOfArrays:vl,Timer:kp,Tween:rh,Vector2D:Hd}),{Arrays:Fh,Vector2D:Vh,RectangleRegion:jh,Random:kh,Kinematics:Nh,Bounce:Bh}=Ph,{onSetup:Mh,ShapeColor:qh,Camera:Qh}=ac;let Dh,Uh,Wh,Hh,Gh;Mh.push(e=>{Dh=e}),Mh.push(()=>{Uh=cs}),Mh.push(()=>{Wh=jh.createScaled(Uh.logicalRegion,2,1)}),Mh.push(()=>{Hh=jh.addMargin(Wh,-50)}),Mh.push(()=>{Gh=Qh.create({displaySize:Uh.logicalSize,regionBoundary:jh.addMargins(Wh,{left:Uh.logicalSize.width/2,right:Uh.logicalSize.width/2,top:Uh.logicalSize.height/2,bottom:Uh.logicalSize.height/2})}),Gh.zoomFactor=1,Gh.focusPointEasingFactor=.015});const Zh=(()=>{const e=["#FFE600","#A4C520","#0086AB"];let t;Mh.push(()=>{t=e.map(e=>{const t=Dh.createGraphics(120,120);return t.noStroke(),t.fill(gs(e,64)),t.circle(64,64,100),t.fill(gs(e,160)),t.circle(60,60,100),(e,r)=>Dh.image(t,e,r)})});return{create:()=>{const e=kh.pointInRectangleRegion(Hh),r=kh.vector(3);return Object.assign(Object.assign({},Nh.createQuantity(e.x,e.y,r.x,r.y)),{draw:kh.Arrays.get(t)})},update:e=>{Nh.updateEuler(e),Bh.withinRectangle(e,Hh,1)},draw:e=>e.draw(e.x,e.y)}})(),Jh=(()=>{const e=qh.create([0,32],void 0,1),t=qh.create("#BF1E56",void 0,256);return{create:(e,t)=>({nodeA:e,nodeB:t,markerFactor:0}),update:e=>{e.markerFactor>0&&(e.markerFactor-=.005)},draw:r=>{const{nodeA:{x:o,y:n},nodeB:{x:a,y:s}}=r;Dh.strokeWeight(2),qh.apply(e,255),Dh.line(o,n,a,s);const i=255*r.markerFactor;i<1||(Dh.strokeWeight(2+4*r.markerFactor),qh.apply(t,i),Dh.line(o,n,a,s))},getOhterNode:(e,t)=>e.nodeA===t?e.nodeB:e.nodeA,mark:e=>{e.markerFactor=1}}})(),Kh=(()=>{let e,t,r;const o=qh.create("#BF1E56",null,1),n=qh.create([0,64],null,1),a=e=>t.filter(t=>t.nodeA===e||t.nodeB===e),s=()=>{Fh.loop(t,Jh.draw),Fh.loop(e,Zh.draw),Dh.strokeWeight(4),qh.apply(o,255),Dh.circle(r.x,r.y,120),Dh.strokeWeight(2),qh.apply(n,255),Dh.rectMode(Dh.CORNERS),Dh.rect(Wh.topLeft.x,Wh.topLeft.y,Wh.bottomRight.x,Wh.bottomRight.y)};return{reset:()=>{e=Fh.createPopulated(Zh.create,48),t=[],Fh.roundRobin(e,(e,r)=>{kh.bool(.8)||a(e).length>=3||a(r).length>=3||t.push(Jh.create(e,r))});const o=e.find(e=>a(e).length>0);o?(r=o,Gh.targetFocusPoint=r):console.error("Failed to reset.")},update:()=>{Fh.loop(e,Zh.update),Fh.loop(t,Jh.update),Qh.update(Gh)},draw:()=>{Qh.draw(Gh,s)},changeFocus:()=>{const e=kh.Arrays.get(a(r)),t=Jh.getOhterNode(e,r);r=t,Gh.targetFocusPoint=r,Jh.mark(e)}}})();let Xh;const $h=()=>{Dh.background(252),Xh=Os(),Kh.reset()},Yh=()=>{Kh.draw()},eg=()=>{Kh.update(),Dh.frameCount%180==0&&Kh.changeFocus(),Xh(),Uh.drawScaled(Yh)},tg=()=>{switch(Dh.key){case"p":Ji();break;case"g":Dh.save("image.png")}};nc({htmlElement:"Jumber",logicalCanvasHeight:1080,initialize:()=>{Dh.imageMode(Dh.CENTER),$h()},setP5Methods:e=>{e.draw=eg,e.keyTyped=tg,e.windowResized=()=>{Uh.resizeIfNeeded(),$h()}}})}(p5);