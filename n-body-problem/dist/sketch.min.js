/**
 * N-Body Problem.
 * Source code in TypeScript: https://github.com/fal-works/p5js-sketches/tree/master/n-body-problem
 *
 * Bundled libraries:
 *   @fal-works/creative-coding-core (MIT license)
 *   @fal-works/p5-extension (MIT license)
 *
 * @copyright 2020 FAL
 * @version 0.1.0
 */
!function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;
/**
   * creative-coding-core
   *
   * Utility library that might be useful for creative coding.
   * GitHub repository: {@link https://github.com/fal-works/creative-coding-core}
   *
   * @module creative-coding-core
   * @copyright 2019 FAL
   * @author FAL <contact@fal-works.com>
   * @license MIT
   * @version 0.6.1
   */
const t=(e,t,r,n)=>{for(let o=r;o<n;o+=1)t(e[o],o,e)},r=(e,r)=>t(e,r,0,e.length),n=(e,t,r,n)=>{let o=n;for(;o>r;)--o,t(e[o],o,e)},o=(e,t)=>n(e,t,0,e.length),a=(e,t,r,n,o,a,s)=>{for(let i=n;i<o;i+=1)for(let n=a;n<s;n+=1)r(e[i],t[n])},s=(e,t,r)=>a(e,t,r,0,e.length,0,t.length),i=(e,t,r,n)=>{const o=n-1;for(let a=r;a<o;a+=1)for(let r=a+1;r<n;r+=1)t(e[a],e[r])},c=(e,t)=>i(e,t,0,e.length),l=e=>e?Array.isArray(e)?e.slice():[e]:[],u=e=>[].concat(...e),d=(e,t=1)=>t>0?e.reduce((e,r)=>e.concat(Array.isArray(r)?d(r,t-1):r),[]):e,y=(e,t,r)=>{const n=r||e.length;for(let r=0;r<n;r+=1)e[r]=t(r);return e},p=(e,t)=>y(new Array(t),e),h=e=>{const t=new Array(e);for(let r=0;r<e;r+=1)t[r]=r;return t},g=e=>{const{start:t,end:r}=e,n=r-t,o=new Array(n);for(let e=0;e<n;e+=1)o[e]=t+e;return o},f=(e,t)=>{const r=[],n=e.length;for(let o=0;o<n;o+=1){const n=t(e[o],o,e);void 0!==n&&r.push(n)}return r},_=e=>{const t=e.length;for(let r=0;r<t;r+=1)e[r]()},m=(e,t)=>{const r=e.length;for(let n=0;n<r;n+=1)e[n](t)},x=(e,t,r,n,o)=>{let a=o;for(;a;)a-=1,e[r+a]=t[n+a]},b=Object.freeze({__proto__:null,loopArrayRange:t,loopArray:r,loopArrayRangeBackwards:n,loopArrayBackwards:o,arrayNestedLoopJoinWithRange:a,arrayNestedLoopJoin:s,arrayRoundRobinWithRange:i,arrayRoundRobin:c,unifyToArray:l,flatArrayNaive:u,flatArrayRecursive:d,populateArray:y,createPopulatedArray:p,createIntegerSequence:h,arrayFromRange:g,filterMapArray:f,loopRunArray:_,loopRunArrayWithArgument:m,blitArray:x}),v=Object.freeze({__proto__:null,FullName:b,loopRange:t,loop:r,loopRangeBackwards:n,loopBackwards:o,nestedLoopJoinWithRange:a,nestedLoopJoin:s,roundRobinWithRange:i,roundRobin:c,unifyToArray:l,flatNaive:u,flatRecursive:d,populate:y,createPopulated:p,createIntegerSequence:h,fromRange:g,filterMap:f,loopRun:_,loopRunWithArgument:m,blit:x}),O=e=>({array:new Array(e),size:0}),R=(e,t)=>({array:new Array(e).fill(t),size:e}),S=(e,t)=>({array:y(new Array(e),t),size:e}),A=e=>({array:e,size:e.length}),z=(e,t)=>{e.array[e.size]=t,e.size+=1},w=z,C=e=>{const t=e.size-1,r=e.array[t];return e.size=t,r},I=(e,t)=>e.array[t],E=e=>e.array[e.size-1],L=E,T=(e,t)=>{const{array:r,size:n}=e,o=t.length;let a=o;for(;a;)a-=1,r[n+a]=t[a];e.size+=o},P=(e,t)=>{const{array:r,size:n}=e,{array:o,size:a}=t;let s=a;for(;s;)s-=1,r[n+s]=o[s];e.size+=a},V=e=>{e.size=0},j=e=>{const{array:t,size:r}=e,n=t.length;t.length=r,t.length=n},F=e=>{e.size=0,j(e)},k=(e,r)=>t(e.array,r,0,e.size),N=(e,t)=>n(e.array,t,0,e.size),B=(e,t)=>{const{array:r,size:n}=e;for(let e=0;e<n;e+=1)if(t(r[e],e,r))return r[e]},M=(e,t)=>{const{array:r,size:n}=e;for(let e=0;e<n;e+=1)if(r[e]===t)return e;return-1},D=(e,t)=>{const{array:r,size:n}=e,o=r[t];return r.copyWithin(t,t+1,n),e.size=n-1,o},q=(e,t)=>{const r=M(e,t);return r>=0?D(e,r):null},Q=(e,t)=>{const r=e.array,n=r[t],o=e.size-1;return r[t]=r[o],e.size=o,n},U=(e,t)=>{const r=M(e,t);return r>=0?Q(e,r):null},H=(e,t)=>{const{array:r,size:n}=e;let o=0,a=!1;for(let e=0;e<n;e+=1){const n=r[e];t(n,e,r)?a=!0:(r[o]=n,o+=1)}return e.size=o,a},W=(e,t)=>{let r=!1;const n=e.array;for(let o=0;o<e.size;o+=1)t(n[o],o,n)&&(Q(e,o),r=!0);return r},G=(e,t)=>(y(e.array,t),e.size=e.array.length,e),Z=(e,t,r)=>a(e.array,t.array,r,0,e.size,0,t.size),J=(e,t)=>i(e.array,t,0,e.size),K=Object.freeze({__proto__:null,createArrayList:O,createFilledArrayList:R,createPopulatedArrayList:S,arrayListFromArray:A,addToArrayList:z,pushToArrayList:w,popFromArrayList:C,getFromArrayList:I,peekFromArrayList:E,getLastFromArrayList:L,addArrayToArrayList:T,addListToArrayList:P,clearArrayList:V,cleanUnusedSlotsOfArrayList:j,clearReferenceOfArrayList:F,loopArrayList:k,loopArrayListBackwards:N,findInArrayList:B,findIndexInArrayList:M,removeShiftFromArrayList:D,removeShiftElementFromArrayList:q,removeSwapFromArrayList:Q,removeSwapElementFromArrayList:U,removeShiftAllFromArrayList:H,removeSwapAllFromArrayList:W,populateArrayList:G,arrayListNestedLoopJoin:Z,arrayListRoundRobin:J}),X=Object.freeze({__proto__:null,FullName:K,create:O,createFilled:R,createPopulated:S,fromArray:A,add:z,push:w,pop:C,get:I,peek:E,getLast:L,addArray:T,addList:P,clear:V,cleanUnusedSlots:j,clearReference:F,loop:k,loopBackwards:N,find:B,findIndex:M,removeShift:D,removeShiftElement:q,removeSwap:Q,removeSwapElement:U,removeShiftAll:H,removeSwapAll:W,populate:G,nestedLoopJoin:Z,roundRobin:J}),$=e=>({array:new Array(e),headIndex:0,tailIndex:0,size:0}),Y=(e,t)=>{const{array:r,tailIndex:n}=e;r[n]=t;const o=n+1;e.tailIndex=o<r.length?o:0,e.size+=1},ee=e=>{const{array:t,headIndex:r}=e,n=r+1;return e.headIndex=n<t.length?n:0,e.size-=1,t[r]},te=e=>{const{array:t,headIndex:r,tailIndex:n}=e;if(r===n)return;const o=r+1;return e.headIndex=o<t.length?o:0,e.size-=1,t[r]},re=e=>e.array[e.headIndex],ne=e=>{const{headIndex:t}=e;return t!==e.tailIndex?e.array[t]:void 0},oe=(e,r)=>{const{array:n,headIndex:o,tailIndex:a}=e;o<=a?t(n,r,o,a):(t(n,r,o,n.length),t(n,r,0,a))},ae=(e,t)=>{const{array:r,headIndex:n}=e,o=r[n];if(!t(o))return;const a=n+1;return e.headIndex=a<r.length?a:0,e.size-=1,o},se=(e,t)=>e.headIndex!==e.tailIndex?ae(e,t):void 0,ie=e=>{e.headIndex=0,e.tailIndex=0,e.size=0},ce=Object.freeze({__proto__:null,createArrayQueue:$,enqueue:Y,dequeue:ee,dequeueSafe:te,loopArrayQueue:oe,peekArrayQueue:re,peekArrayQueueSafe:ne,dequeueIf:ae,dequeueSafeIf:se}),le=Object.freeze({__proto__:null,FullName:ce,create:$,enqueue:Y,dequeue:ee,dequeueSafe:te,peek:re,peekSafe:ne,loop:oe,dequeueIf:ae,dequeueSafeIf:se,isEmpty:e=>0===e.size,clear:ie,clearReference:e=>{ie(e);const{array:t}=e,r=t.length;t.length=0,t.length=r}}),ue=Object.freeze({__proto__:null,create:e=>({value:void 0,factory:e}),get:e=>e.value||(e.value=e.factory()),clear:e=>{e.value=void 0}}),de=Object.freeze({__proto__:null,from:(e,t)=>{const r={};for(const n of Object.keys(e))r[n]=new Array(t).fill(e[n]);return{data:r,length:t}}}),{abs:ye,acos:pe,asin:he,atan:ge,atan2:fe,ceil:_e,cos:me,exp:xe,floor:be,log:ve,max:Oe,min:Re,pow:Se,round:Ae,sin:ze,sqrt:we,tan:Ce,clz32:Ie,imul:Ee,sign:Le,log10:Te,log2:Pe,log1p:Ve,expm1:je,cosh:Fe,sinh:ke,tanh:Ne,acosh:Be,asinh:Me,atanh:De,hypot:qe,trunc:Qe,fround:Ue,cbrt:He}=Math,We=we,Ge=Ie,Ze=Ee,Je=qe,Ke=Qe,Xe=Ue,$e=He,Ye=e=>e*e,et=e=>e*e*e,tt=e=>Ye(e*e),rt=(e,t)=>e<t?e:t,nt=(e,t)=>e>t?e:t,ot=(e,t)=>0!==e||0!==t?fe(e,t):0,at=(e,t)=>e*e+t*t,st=(e,t)=>we(e*e+t*t),it=(e,t,r)=>e+r*(t-e),ct=(e,t,r)=>e<t?t:e>r?r:e,lt=(e,t,r)=>t>r?(t+r)/2:e<t?t:e>r?r:e,ut=Object.freeze({__proto__:null,abs:ye,acos:pe,asin:he,atan:ge,atan2:fe,ceil:_e,cos:me,exp:xe,floor:be,log:ve,max:Oe,min:Re,pow:Se,round:Ae,sin:ze,sqrt:we,tan:Ce,clz32:Ie,imul:Ee,sign:Le,log10:Te,log2:Pe,log1p:Ve,expm1:je,cosh:Fe,sinh:ke,tanh:Ne,acosh:Be,asinh:Me,atanh:De,hypot:qe,trunc:Qe,fround:Ue,cbrt:He,squareRoot:We,leadingZeros32:Ge,multInt:Ze,hypotenuse:Je,integerPart:Ke,floatRound:Xe,cubeRoot:$e,square:Ye,cube:et,pow4:tt,pow5:e=>Ye(e*e)*e,squareInt:e=>Ee(e,e),cubeInt:e=>Ee(Ee(e,e),e),equal:(e,t)=>ye(e-t)<2220446049250313e-31,min2:rt,max2:nt,atan2safe:ot,hypotenuseSquared2D:at,hypotenuse2D:st,lerp:it,clamp:ct,constrain:lt,map:(e,t,r,n,o)=>n+(o-n)*(e-t)/(r-t),createMap:(e,t,r,n)=>{const o=t-e,a=n-r;return t=>r+a*(t-e)/o},inverseLerp:(e,t,r)=>(e-t)/(r-t)}),{E:dt,LN10:yt,LN2:pt,LOG2E:ht,LOG10E:gt}=Math,ft=Math.SQRT2,_t=Math.SQRT1_2,mt=Math.sqrt(3),xt=_t,bt=ft,vt=1/mt,Ot=2/mt,Rt=mt/2,St=_t,At=Object.freeze({__proto__:null,E:dt,LN10:yt,LN2:pt,LOG2E:ht,LOG10E:gt,ONE_HALF:.5,ONE_THIRD:1/3,TWO_THIRDS:2/3,ONE_QUARTER:.25,TWO_QUARTERS:.5,THREE_QUARTERS:.75,INVERSE30:1/30,INVERSE60:1/60,INVERSE255:1/255,SQUARE_ROOT_TWO:ft,SQUARE_ROOT_ONE_HALF:_t,SQUARE_ROOT_THREE:mt,ONE_OVER_SQUARE_ROOT_TWO:xt,TWO_OVER_SQUARE_ROOT_TWO:bt,ONE_OVER_SQUARE_ROOT_THREE:vt,TWO_OVER_SQUARE_ROOT_THREE:Ot,SQUARE_ROOT_THREE_OVER_TWO:Rt,SQUARE_ROOT_TWO_OVER_TWO:St}),zt=Math.PI,wt=2*zt,Ct=zt/2,It=zt/3,Et=zt/4,Lt=3*Et,Tt=xt,Pt=Rt,Vt=Pt,jt=Tt,Ft=wt/360,kt=360/wt,Nt=Object.freeze({__proto__:null,PI:zt,TWO_PI:wt,HALF_PI:Ct,THIRD_PI:It,QUARTER_PI:Et,THREE_QUARTERS_PI:Lt,SIN30:.5,SIN45:Tt,SIN60:Pt,COS30:Vt,COS45:jt,COS60:.5,DEGREES_TO_RADIANS:Ft,RADIANS_TO_DEGREES:kt,createArray:e=>{const t=new Array(e),r=wt/e;for(let n=0;n<e;n+=1)t[n]=n*r;return t},fromDegrees:e=>Ft*e,toDegrees:e=>kt*e,fromOrigin:e=>{const{x:t,y:r}=e;return 0!==t||0!==r?fe(e.y,e.x):0},betweenPoints:(e,t)=>{const r=t.x-e.x,n=t.y-e.y;return 0!==r||0!==n?fe(n,r):0},betweenCoordinates:(e,t,r,n)=>e!==r||t!==n?fe(r-e,n-t):0}),Bt=(e,t)=>({x:e,y:t}),Mt={x:0,y:0},Dt=e=>0===e.x&&0===e.y,qt=(e,t)=>({x:e*me(t),y:e*ze(t)}),Qt=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Ut=(e,t,r)=>({x:e.x+t,y:e.y+r}),Ht=(e,t,r)=>({x:e.x+t*me(r),y:e.y+t*ze(r)}),Wt=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Gt=(e,t,r)=>({x:e.x-t,y:e.y-r}),Zt=(e,t,r)=>({x:e.x-t*me(r),y:e.y-t*ze(r)}),Jt=(e,t)=>({x:e.x*t,y:e.y*t}),Kt=(e,t)=>({x:e.x/t,y:e.y/t}),Xt=(e,t)=>at(t.x-e.x,t.y-e.y),$t=(e,t)=>st(t.x-e.x,t.y-e.y),Yt=e=>`{x:${e.x},y:${e.y}}`,er=e=>({x:e.x,y:e.y}),tr=e=>at(e.x,e.y),rr=e=>st(e.x,e.y),nr=e=>{const{x:t,y:r}=e;return 0!==t||0!==r?fe(e.y,e.x):0},or=()=>({x:0,y:0}),ar=(e,t)=>(e.x+=t.x,e.y+=t.y,e),sr=(e,t,r)=>(e.x+=t,e.y+=r,e),ir=(e,t,r)=>(e.x+=t*me(r),e.y+=t*ze(r),e),cr=(e,t)=>(e.x-=t.x,e.y-=t.y,e),lr=(e,t,r)=>(e.x-=t,e.y-=r,e),ur=(e,t,r)=>(e.x-=t*me(r),e.y-=t*ze(r),e),dr=(e,t)=>(e.x=t.x,e.y=t.y,e),yr=(e,t,r)=>(e.x=t,e.y=r,e),pr=(e,t,r)=>(e.x=t*me(r),e.y=t*ze(r),e),hr=(e,t)=>(e.x*=t,e.y*=t,e),gr=(e,t)=>{const r=1/t;return e.x*=r,e.y*=r,e},fr=(e,t,r,n,o)=>(e.x=ct(e.x,t,r),e.y=ct(e.y,n,o),e),_r=(e,t,r,n,o)=>(e.x=lt(e.x,t,r),e.y=lt(e.y,n,o),e),mr=Object.freeze({__proto__:null,create:or,add:ar,addCartesian:sr,addPolar:ir,subtract:cr,subtractCartesian:lr,subtractPolar:ur,set:dr,setCartesian:yr,setPolar:pr,multiply:hr,divide:gr,clamp:fr,constrain:_r}),xr=(e,t,r)=>(r.x=e.x+t.x,r.y=e.y+t.y,r),br=(e,t,r,n)=>(n.x=e.x+t,n.y=e.y+r,n),vr=(e,t,r,n)=>(n.x=e.x+t*me(r),n.y=e.y+t*ze(r),n),Or=(e,t,r)=>(r.x=e.x-t.x,r.y=e.y-t.y,r),Rr=(e,t,r,n)=>(n.x=e.x-t,n.y=e.y-r,n),Sr=(e,t,r,n)=>(n.x=e.x-t*me(r),n.y=e.y-t*ze(r),n),Ar=(e,t,r)=>(r.x=e,r.y=t,r),zr=(e,t,r)=>(r.x=e.x*t,r.y=e.y*t,r),wr=(e,t,r)=>{const n=1/t;return r.x=e.x*n,r.y=e.y*n,r},Cr=(e,t,r,n,o,a)=>(a.x=ct(e.x,t,r),a.y=ct(e.y,n,o),a),Ir=(e,t,r,n,o,a)=>(a.x=lt(e.x,t,r),a.y=lt(e.y,n,o),a),Er=Object.freeze({__proto__:null,add:xr,addCartesian:br,addPolar:vr,subtract:Or,subtractCartesian:Rr,subtractPolar:Sr,setCartesian:Ar,setPolar:(e,t,r)=>(r.x=e*me(t),r.y=e*ze(t),r),multiply:zr,divide:wr,clamp:Cr,constrain:Ir}),Lr=Object.freeze({__proto__:null,createVector:Bt,zeroVector:Mt,vectorIsZero:Dt,vectorFromPolar:qt,addVector:Qt,addCartesian:Ut,addPolar:Ht,subtractVector:Wt,subtractCartesian:Gt,subtractPolar:Zt,multiplyVector:Jt,divideVector:Kt,distanceOfVectorsSquared:Xt,distanceOfVectors:$t,vectorToStr:Yt,copyVector:er,vectorLengthSquared:tr,vectorLength:rr,vectorAngle:nr,createVectorMutable:or,addVectorMutable:ar,addCartesianMutable:sr,addPolarMutable:ir,subtractVectorMutable:cr,subtractCartesianMutable:lr,subtractPolarMutable:ur,setVector:dr,setCartesian:yr,setPolar:pr,multiplyVectorMutable:hr,divideVectorMutable:gr,clampVector:fr,constrainVector:_r,addVectorAssign:xr,addCartesianAssign:br,addPolarAssign:vr,subtractVectorAssign:Or,subtractCartesianAssign:Rr,subtractPolarAssign:Sr,multiplyVectorAssign:zr,divideVectorAssign:wr,clampVectorAssign:Cr,constrainVectorAssign:Ir}),Tr=Object.freeze({__proto__:null,Mutable:mr,Assign:Er,FullName:Lr,create:Bt,zero:Mt,isZero:Dt,fromPolar:qt,add:Qt,addCartesian:Ut,addPolar:Ht,subtract:Wt,subtractCartesian:Gt,subtractPolar:Zt,multiply:Jt,divide:Kt,distanceSquared:Xt,distance:$t,toStr:Yt,copy:er,lengthSquared:tr,length:rr,angle:nr}),Pr=e=>{const{topLeft:t,bottomRight:r}=e;return{width:r.x-t.x,height:r.y-t.y}},Vr=e=>{const{topLeft:t,bottomRight:r}=e;return{x:(t.x+r.x)/2,y:(t.y+r.y)/2}},jr=Object.freeze({__proto__:null,create:(e,t)=>({topLeft:e,bottomRight:{x:e.x+t.width,y:e.y+t.height}}),createFromCenter:(e,t)=>{const{x:r,y:n}=e,o=t.width/2,a=t.height/2;return{topLeft:{x:r-o,y:n-a},bottomRight:{x:r+o,y:n+a}}},containsPoint:(e,t,r)=>{const{topLeft:n,bottomRight:o}=e,{x:a,y:s}=t;return a>=n.x+r&&s>=n.y+r&&a<o.x-r&&s<o.y-r},getWidth:e=>e.bottomRight.x-e.topLeft.x,getHeight:e=>e.bottomRight.y-e.topLeft.y,getSize:Pr,getCenterPoint:Vr,createScaled:(e,t,r)=>{const{topLeft:n,bottomRight:o}=e;switch(r){case 0:return{topLeft:n,bottomRight:{x:it(n.x,o.x,t),y:it(n.y,o.y,t)}};case 1:{const t=Vr(e),r=Pr(e),n=r.width/2,o=r.height/2;return{topLeft:{x:t.x-n,y:t.y-o},bottomRight:{x:t.x+n,y:t.y+o}}}}},copy:e=>({topLeft:er(e.topLeft),bottomRight:er(e.bottomRight)}),createInfinite:()=>({topLeft:{x:-1/0,y:-1/0},bottomRight:{x:1/0,y:1/0}}),addMargin:(e,t)=>{const{topLeft:r,bottomRight:n}=e;return{topLeft:{x:r.x-t,y:r.y-t},bottomRight:{x:n.x+t,y:n.y+t}}},addMargins:(e,t)=>{const{topLeft:r,bottomRight:n}=e;return{topLeft:{x:r.x-t.left,y:r.y-t.top},bottomRight:{x:n.x+t.right,y:n.y+t.bottom}}}}),Fr=Object.freeze({__proto__:null,getAspectRatio:e=>e.width/e.height,getArea:e=>e.width*e.height,createInfinite:()=>({width:1/0,height:1/0})}),kr=Object.freeze({__proto__:null,createCurve:e=>{const t=[],r=e.length;let n=e[0],o=n.controlLine;for(let a=1;a<r;a+=1){const r=e[a],s=r.controlLine;t.push({controlPoint1:Ht(n.point,.5*o.length,o.angle),controlPoint2:Zt(r.point,.5*s.length,s.angle),targetPoint:r.point}),n=r,o=s}return{startPoint:e[0].point,paths:t}}}),Nr=Object.freeze({__proto__:null,distanceSquared:(e,t,r,n)=>at(r-e,n-t),distance:(e,t,r,n)=>st(r-e,n-t)}),Br=Ye,Mr=et,Dr=tt,qr=e=>e?Se(2,10*(e-1)):0,Qr=(e=1.70158)=>t=>t*t*((e+1)*t-e),Ur=Object.freeze({__proto__:null,quad:Br,cubic:Mr,quart:Dr,expo:qr,createBack:Qr}),Hr=e=>1-Ye(e-1),Wr=e=>et(e-1)+1,Gr=e=>1-tt(e-1),Zr=e=>e<1?1-Se(2,-10*e):1,Jr=(e=1.70158)=>t=>{const r=t-1,n=r*r;return(e+1)*(r*n)+e*n+1},Kr=Object.freeze({__proto__:null,quad:Hr,cubic:Wr,quart:Gr,expo:Zr,createBack:Jr}),Xr=(e,t,r=.5)=>{const n=1/r;return o=>{if(o<r)return e(n*o);return t((o-r)/(1-r))}},$r=(e,t,r=.5)=>{const n=1/r;return o=>{if(o<r)return r*e(n*o);{const e=1-r;return r+e*t((o-r)/e)}}},Yr=$r(Br,Hr),en=$r(Mr,Wr),tn=$r(Dr,Gr),rn=$r(qr,Zr),nn=e=>$r(Qr(e),Jr(e)),on=Object.freeze({__proto__:null,quad:Yr,cubic:en,quart:tn,expo:rn,createBack:nn}),an=$r(Hr,Br),sn=$r(Wr,Mr),cn=$r(Gr,Dr),ln=$r(Zr,qr),un=e=>$r(Jr(e),Qr(e)),dn=Object.freeze({__proto__:null,quad:an,cubic:sn,quart:cn,expo:ln,createBack:un}),yn=e=>e,pn=Object.freeze({__proto__:null,easeInQuad:Br,easeInCubic:Mr,easeInQuart:Dr,easeInExpo:qr,createEaseInBack:Qr,easeOutQuad:Hr,easeOutCubic:Wr,easeOutQuart:Gr,easeOutExpo:Zr,createEaseOutBack:Jr,easeInOutQuad:Yr,easeInOutCubic:en,easeInOutQuart:tn,easeInOutExpo:rn,createEaseInOutBack:nn,easeOutInQuad:an,easeOutInCubic:sn,easeOutInQuart:cn,easeOutInExpo:ln,createEaseOutInBack:un,easeLinear:yn,concatenateEasing:Xr,integrateEasing:$r}),hn=Object.freeze({__proto__:null,In:Ur,Out:Kr,InOut:on,OutIn:dn,FullName:pn,linear:yn,concatenate:Xr,integrate:$r});let gn=Math.random,fn=gn;const _n=e=>{gn=e,fn=e},mn=e=>gn()*e,xn=()=>gn()*wt,bn=(e,t)=>e+gn()*(t-e),vn=e=>bn(e.start,e.end),On=e=>gn()<e,Rn=e=>gn()<e?1:-1,Sn=e=>(gn()<.5?1:-1)*gn()*e,An=()=>(gn()<.5?1:-1)*gn()*zt,zn=e=>qt(e,xn()),wn=e=>{const{topLeft:t,bottomRight:r}=e;return{x:bn(t.x,r.x),y:bn(t.y,r.y)}},Cn=e=>be(gn()*e),In=(e,t)=>e+be(gn()*(t-e)),En=e=>(gn()<.5?1:-1)*be(gn()*e),Ln=Object.freeze({__proto__:null,value:Cn,between:In,signed:En}),Tn=e=>be(gn()/e)*e,Pn=(e,t)=>be(gn()*(t/e))*e,Vn=(e,t,r)=>t+be(gn()*((r-t)/e))*e,jn=(e,t)=>(gn()<.5?1:-1)*be(gn()*(t/e))*e,Fn=e=>be(gn()*(wt/e))*e,kn=e=>(gn()<.5?1:-1)*be(gn()*(zt/e))*e,Nn=Object.freeze({__proto__:null,ratio:Tn,value:Pn,between:Vn,signed:jn,angle:Fn,signedAngle:kn}),Bn=e=>e[Cn(e.length)],Mn=e=>e.splice(Cn(e.length),1)[0],Dn=Object.freeze({__proto__:null,get:Bn,removeGet:Mn}),qn=e=>e(gn()),Qn=(e,t)=>e(gn())*t,Un=(e,t,r)=>t+e(gn())*(r-t),Hn=(e,t)=>Un(e,t.start,t.end),Wn=Object.freeze({__proto__:null,ratio:qn,value:Qn,between:Un,inRange:Hn,angle:e=>e(gn())*wt,signed:(e,t)=>(gn()<.5?1:-1)*e(gn())*t,signedAngle:e=>(gn()<.5?1:-1)*e(gn())*zt}),Gn=Object.freeze({__proto__:null,setBaseRandomFunction:_n,get randomRatio(){return fn},randomValue:mn,randomAngle:xn,randomBetween:bn,randomInRange:vn,randomBool:On,randomSign:Rn,randomSigned:Sn,randomSignedAngle:An,randomInteger:Cn,randomIntegerBetween:In,randomIntegerSigned:En,randomDiscreteRatio:Tn,randomDiscreteValue:Pn,randomDiscreteAngle:Fn,randomDiscreteBetween:Vn,randomDiscreteSigned:jn,randomDiscreteSignedAngle:kn,randomFromArray:Bn,randomRemoveFromArray:Mn,randomRatioCurved:qn,randomValueCurved:Qn,randomBetweenCurved:Un,randomInRangeCurved:Hn,randomVector:zn,randomPointInRectangleRegin:wn}),Zn=Object.freeze({__proto__:null,Integer:Ln,Discrete:Nn,Arrays:Dn,Curved:Wn,FullName:Gn,get random(){return gn},get ratio(){return fn},setBaseFunction:_n,value:mn,angle:xn,between:bn,inRange:vn,bool:On,sign:Rn,signed:Sn,signedAngle:An,vector:zn,pointInRectangleRegion:wn}),Jn=Object.freeze({__proto__:null,calculateScaleFactor:(e,t,r)=>{switch(r){default:case"FIT_TO_BOX":return rt(t.width/e.width,t.height/e.height);case"FIT_WIDTH":return t.width/e.width;case"FIT_HEIGHT":return t.height/e.height}}}),Kn=Object.freeze({__proto__:null,getElementOrBody:e=>document.getElementById(e)||document.body,getElementSize:e=>e===document.body?{width:window.innerWidth,height:window.innerHeight}:e.getBoundingClientRect()}),Xn=()=>{},$n=Object.freeze({__proto__:null,returnVoid:Xn,returnUndefined:()=>{},returnNull:()=>null,returnZero:()=>0,returnOne:()=>1,returnTrue:()=>!0,returnFalse:()=>!1,returnArgument:e=>e,runSelf:e=>e()});let Yn=Xn;let eo=0;const to=e=>e.step(),ro=e=>e.reset();class no{constructor(e,t){this.id=eo++,this.name="no name",this.onStart=e,this.onComplete=t,this.isStarted=!1,this.isCompleted=!1,Yn("timer ",this.id,": created.")}tryStart(){if(this.isStarted)return!1;const{id:e,name:t}=this;return Yn("timer ",e,t,": starting..."),m(this.onStart,e),Yn("timer ",e,t,": started."),this.isStarted=!0}complete(){const{id:e,name:t}=this;return Yn("timer ",e,t,": completing..."),m(this.onComplete,e),Yn("timer ",e,t,": completed."),this.isCompleted=!0}setName(e){return this.name=e,this}}const oo=Object.freeze({__proto__:null,step:to,reset:ro,Base:no}),ao=e=>({duration:e,ratioChangeRate:1/nt(1,e),count:0,ratio:0});class so extends no{constructor(e,t,r,n){super(e,r),this.onProgress=t,this.progress=n}static create(e,t,r,n){return new so(e,t,r,n)}step(){if(this.isCompleted)return!0;this.tryStart();const{progress:e}=this;return e.count>=e.duration?(e.ratio=1,m(this.onProgress,e),this.complete()):(m(this.onProgress,e),(e=>{e.count+=1,e.ratio+=e.ratioChangeRate})(e),!1)}reset(){var e;return(e=this.progress).count=0,e.ratio=0,this.isStarted=!1,this.isCompleted=!1,this}setName(e){return super.setName(e),this}}const io=e=>so.create(l(e.onStart),l(e.onProgress),l(e.onComplete),ao(e.duration)),co=so.create([],[],[],ao(0));co.isStarted=!0,co.isCompleted=!0;const lo=(e,t)=>{e.index=t,e.currentComponent=e.components[t]};class uo extends no{constructor(e){super([],[]),this.components=e.slice(),this.index=0,this.currentComponent=e[0]}static create(e){return new uo(e)}step(){return this.tryStart(),!!this.currentComponent.step()&&(e=>{const t=e.index+1;return t<e.components.length?(lo(e,t),!1):e.complete()})(this)}reset(){return r(this.components,ro),lo(this,0),this.isStarted=!1,this.isCompleted=!1,this}pushComponent(e){this.components.push(e)}setName(e){return super.setName(e),this}}const yo=e=>uo.create(e),po=Object.freeze({__proto__:null,Unit:uo,create:yo});class ho extends no{constructor(e){super([],[]),this.components=e.slice(),this.runningComponentList=A(e.slice())}static create(e){return new ho(e)}step(){this.tryStart();const{runningComponentList:e}=this;return H(e,to),!(e.size>0)&&this.complete()}reset(){const{runningComponentList:e}=this;return V(e),T(e,this.components),k(e,ro),this.isStarted=!1,this.isCompleted=!1,this}setName(e){return super.setName(e),this}addComponent(e){this.components.push(e),z(this.runningComponentList,e)}}const go=e=>ho.create(e),fo=Object.freeze({__proto__:null,Unit:ho,create:go});class _o extends no{constructor(e,t){super([],[]),this.component=e,this.loopCount=t,this.remainingCount=t}static create(e,t){return new _o(e,t)}step(){return this.tryStart(),!!this.component.step()&&(!!this.isCompleted||((this.remainingCount-=1)>0?(this.component.reset(),!1):this.complete()))}reset(){const{loopCount:e}=this;return this.remainingCount=e,this.component.reset(),this.isStarted=!1,this.isCompleted=!1,this}setName(e){return super.setName(e),this}}const mo=(e,t=1/0)=>_o.create(e,t),xo=Object.freeze({__proto__:null,Unit:_o,create:mo}),bo=e=>({runningComponents:O(e),newComponentsBuffer:O(e)}),vo=(e,t)=>z(e.newComponentsBuffer,t),Oo=e=>{const{runningComponents:t,newComponentsBuffer:r}=e;P(t,r),V(r),H(t,to)},Ro=e=>{V(e.runningComponents),V(e.newComponentsBuffer)},So=Object.freeze({__proto__:null,create:bo,add:vo,step:Oo,clear:Ro,construct:e=>{const t=bo(e);return{add:vo.bind(void 0,t),step:Oo.bind(void 0,t),clear:Ro.bind(void 0,t)}}}),Ao=Object.freeze({__proto__:null,Component:oo,Chain:po,Parallel:fo,Loop:xo,Set:So,chain:yo,parallel:go,loop:mo,outputVerbose:(e=!0)=>{Yn=e?console.info:Xn},Unit:so,create:io,dummy:co}),zo=new Map([["A",".-"],["B","-..."],["C","-.-."],["D","-.."],["E","."],["F","..-."],["G","--."],["H","...."],["I",".."],["J",".---"],["K","-.-"],["L",".-.."],["M","--"],["N","-."],["O","---"],["P",".--."],["Q","--.-"],["R",".-."],["S","..."],["T","-"],["U","..-"],["V","...-"],["W",".--"],["X","-..-"],["Y","-.--"],["Z","--.."],["1",".----"],["2","..---"],["3","...--"],["4","....-"],["5","....."],["6","-...."],["7","--..."],["8","---.."],["9","----."],["0","-----"],[".",".-.-.-"],[",","--..--"],[":","---..."],["?","..--.."],["'",".----."],["!","-.-.--"],["-","-....-"],["/","-..-."],["@",".--.-."],["(","-.--."],[")","-.--.-"],['"',".-..-."],["=","-...-"],["+",".-.-."]]),wo=(e,t,r)=>{let n="";const o=e?"1":"0";for(let e=0;e<t;e+=1)n+=o;return Object.freeze({isOn:e,length:t,codeString:r,binaryString:n})},Co=(e,t)=>wo(!0,e,t),Io=(e,t)=>wo(!1,e,t),Eo=Co(1,"."),Lo=Co(3,"-"),To=Io(1,""),Po=Io(3," "),Vo=Io(7," / "),jo=Io(0,"");const Fo=Object.freeze({__proto__:null,DIT:Eo,DAH:Lo,INTER_ELEMENT_GAP:To,SHORT_GAP:Po,MEDIUM_GAP:Vo,NUL:jo,encode:function(e){const t=e.toUpperCase(),r=[];let n=void 0;for(let e=0,o=t.length;e<o;e+=1){const o=t.charAt(e);if(" "===o){n=Vo;continue}if(0===o.charCodeAt(0)){n&&r.push(n),n=void 0,r.push(jo);continue}const a=zo.get(o);if(a){for(let e=0,t=a.length;e<t;e+=1){switch(n&&r.push(n),a.charAt(e)){case".":r.push(Eo);break;case"-":case"_":r.push(Lo);break;default:continue}n=To}n=Po}}return r},toString:e=>e.reduce((e,t)=>e+t.codeString,""),toBinaryString:e=>e.reduce((e,t)=>e+t.binaryString,""),getTotalLength:e=>e.reduce((e,t)=>e+t.length,0)});function ko(e){return 1e3/(e/60*50)}const No=e=>{e.timeout&&(e.off(jo),clearTimeout(e.timeout),e.timeout=void 0),e.index=0},Bo=(e,t,r)=>{t.timeout=setTimeout(()=>{t.timeout=void 0,e(t)},r)},Mo=e=>{const t=(e=>{const{unitTime:t,signals:r,index:n,on:o,off:a}=e,s=r[n];return s.isOn?o(s):a(s),t*s.length})(e);e.index+=1,e.index<e.signals.length?Bo(Mo,e,t):(e.timeout=setTimeout(()=>{e.loop?(e.off(jo),e.timeout=void 0):(e.off(Vo),Bo(Mo,e,Vo.length))},t),e.index=0)},Do=Object.freeze({__proto__:null,wpmToDotDuration:ko,create:(e,t,r=25,n=[],o=!1)=>({on:e,off:t,wpm:r,unitTime:ko(r),loop:o,signals:n,index:0,timeout:void 0}),stop:No,start:(e,t)=>{No(e),t&&(e.signals=t),Mo(e)}}),qo=Object.freeze({__proto__:null,Signal:Fo,Channel:Do}),Qo=Object.freeze({__proto__:null,create:(e,t,r)=>{const{x:n,y:o}=e,{x:a,y:s}=r.target,i=r.easing||yn;return io({duration:t,onProgress:t=>{const r=i(t.ratio);yr(e,it(n,a,r),it(o,s,r))}})},setCreate:(e,t,r)=>{let n,o,a,s,i;return io({duration:t,onStart:()=>{const{target:t,easing:c}=r();({x:n,y:o}=e),({x:a,y:s}=t),i=c||yn},onProgress:t=>{const r=i(t.ratio);yr(e,it(n,a,r),it(o,s,r))}})}}),Uo=Object.freeze({__proto__:null,Vector2D:Qo,create:(e,t,r)=>{const{start:n,end:o}=r,a=r.easing||yn;return io({duration:t,onProgress:t=>e(it(n,o,a(t.ratio)))})},setCreate:(e,t,r)=>{let n,o,a;return io({duration:t,onStart:()=>{const{start:e,end:t,easing:s}=r();n=e,o=t,a=s||yn},onProgress:t=>e(it(n,o,a(t.ratio)))})}});let Ho=Xn,Wo=Xn,Go=Xn;const Zo=Object.freeze({__proto__:null,get info(){return Ho},get warn(){return Wo},get error(){return Go},outputInfo:(e=!0)=>{Ho=e?console.info:Xn},outputWarn:(e=!0)=>{Wo=e?console.warn:Xn},outputError:(e=!0)=>{Go=e?console.error:Xn}}),Jo=(e,t,r)=>{e.x+=e.vx,e.y+=e.vy,e.vx+=t,e.vy+=r},Ko=(e,t,r)=>{e.vx2=e.vx+.5*t,e.vy2=e.vy+.5*r,e.vx+=t,e.vy+=r,e.x+=e.vx2,e.y+=e.vy2},Xo=(e,t,r)=>{e.vx=e.vx2+.5*t,e.vy=e.vy2+.5*r},$o=Object.freeze({__proto__:null,createQuantity:(e,t,r,n)=>({x:e,y:t,vx:r||0,vy:n||0}),updateEuler:e=>{e.x+=e.vx,e.y+=e.vy},updateEulerAccelerated:Jo,updateVerlet:Ko,postUpdateVerlet:Xo,positionVector:(e,t)=>Ar(e.x,e.y,t),velocityVector:(e,t)=>Ar(e.vx,e.vy,t),getSpeed:e=>st(e.vx,e.vy),getVelocityAngle:e=>ot(e.vy,e.vx),truncateVelocity:(e,t)=>{const{vx:r,vy:n}=e;if(at(r,n)<=t*t)return e;const o=fe(n,r);return e.vx=t*me(o),e.vy=t*ze(o),e},setVelocity:(e,t)=>(e.vx=t.x,e.vy=t.y,e),setVelocityCartesian:(e,t,r)=>(e.vx=t,e.vy=r,e),setVelocityPolar:(e,t,r)=>(e.vx=t*me(r),e.vy=t*ze(r),e),bounceInRectangleRegion:(e,t,r)=>{const{x:n,y:o,vx:a,vy:s}=r,{x:i,y:c}=e.topLeft,{x:l,y:u}=e.bottomRight;return n<i?(r.x=i,a<0&&(r.vx=-t*a),!0):n>=l?(r.x=l-1,a>0&&(r.vx=-t*a),!0):o<c?(r.y=c,s<0&&(r.vy=-t*s),!0):o>=u&&(r.y=u-1,s>0&&(r.vy=-t*s),!0)}}),Yo=(e,t)=>(e.fx+=t.x,e.fy+=t.y,e),ea=Object.freeze({__proto__:null,createQuantity:(e,t,r,n)=>({x:e,y:t,vx:r||0,vy:n||0,fx:0,fy:0}),createVerletQuantity:(e,t,r,n)=>({x:e,y:t,vx:r||0,vy:n||0,vx2:0,vy2:0,fx:0,fy:0}),updateEuler:e=>{Jo(e,e.fx,e.fy),e.fx=0,e.fy=0},updateVerlet:e=>{Ko(e,e.fx,e.fy),e.fx=0,e.fy=0},postUpdateVerlet:e=>{Xo(e,e.fx,e.fy),e.fx=0,e.fy=0},forceVector:(e,t)=>Ar(e.fx,e.fy,t),truncateForce:(e,t)=>{const{fx:r,fy:n}=e;if(at(r,n)<=t*t)return e;const o=fe(n,r);return e.fx=t*me(o),e.fy=t*ze(o),e},addForce:Yo,addForceCartesian:(e,t,r)=>(e.fx+=t,e.fy+=r,e),addForcePolar:(e,t,r)=>(e.fx+=t*me(r),e.fy+=t*ze(r),e)}),ta=Object.freeze({__proto__:null,createQuantity:(e,t,r,n,o)=>({x:e,y:t,vx:n||0,vy:o||0,fx:0,fy:0,mass:r}),createVerletQuantity:(e,t,r,n,o)=>({x:e,y:t,vx:n||0,vy:o||0,vx2:0,vy2:0,fx:0,fy:0,mass:r}),updateEuler:e=>{const{mass:t}=e;Jo(e,e.fx/t,e.fy/t),e.fx=0,e.fy=0},updateVerlet:e=>{const{mass:t}=e;Ko(e,e.fx/t,e.fy/t),e.fx=0,e.fy=0},postUpdateVerlet:e=>{const{mass:t}=e;Xo(e,e.fx/t,e.fy/t),e.fx=0,e.fy=0}});let ra=1,na=-ra;const oa=(e,t,r,n)=>zr(e,na*t/(r*r*r),n),aa=(e,t,r)=>oa(Or(t,e,r),e.mass*t.mass,$t(e,t),r),sa=(e,t,r)=>zr(e,na/(t*t*t),r),ia=(e,t,r)=>sa(Or(t,e,r),$t(e,t),r),ca=(e,t,r)=>{const{x:n,y:o}=r;e.fx-=n,e.fy-=o,t.fx+=n,t.fy+=o},la={x:0,y:0},ua={precalculated:(e,t,r,n)=>Yo(e,oa(t,r,n,la)),calculate:(e,t)=>Yo(t,aa(e,t,la)),precalculatedSimple:(e,t,r)=>Yo(e,sa(t,r,la)),calculateSimple:(e,t)=>Yo(t,ia(e,t,la))},da={precalculated:(e,t,r,n,o)=>ca(e,t,oa(r,n,o,la)),calculate:(e,t)=>ca(e,t,aa(e,t,la)),precalculatedSimple:(e,t,r,n)=>ca(e,t,sa(r,n,la)),calculateSimple:(e,t)=>ca(e,t,ia(e,t,la))},ya=Object.freeze({__proto__:null,get constant(){return ra},setConstant:e=>{ra=e,na=-ra},calculateCore:oa,calculate:aa,calculateCoreSimple:sa,calculateSimple:ia,attract:ua,attractEachOther:da}),pa=Object.freeze({__proto__:null,update:e=>{e.rotationAngle+=e.rotationVelocity},createRandomQuantity:(e,t)=>({rotationAngle:xn(),rotationVelocity:Sn(bn(e,t))})}),ha=Object.freeze({__proto__:null,withRandomHue:(e,t)=>[mn(360),e,t],toRGB:e=>{const[t,r,n]=e,o=n*r,a=t*(1/60),s=o*(1-ye(a%2-1));let i;switch(be(a)){case 0:i=[o,s,0];break;case 1:i=[s,o,0];break;case 2:i=[0,o,s];break;case 3:i=[0,s,o];break;case 4:i=[s,0,o];break;case 5:i=[o,0,s];break;default:i=[0,0,0]}const c=n-o;return[i[0]+c,i[1]+c,i[2]+c]}}),ga=Object.freeze({__proto__:null,Angle:Nt,ArrayList:X,ArrayQueue:le,Arrays:v,Bezier:kr,ConstantFunction:$n,Coordinates2D:Nr,Dynamics:ta,Easing:hn,FitBox:Jn,Gravitation:ya,HSV:ha,HtmlUtility:Kn,Kinematics:$o,Lazy:ue,Log:Zo,MathConstants:At,MorseCode:qo,Numeric:ut,Random:Zn,RectangleRegion:jr,RectangleSize:Fr,Rotation:pa,SimpleDynamics:ea,StructureOfArrays:de,Timer:Ao,Tween:Uo,Vector2D:Tr}),{RectangleRegion:fa,FitBox:_a,Arrays:{FullName:{loopArray:ma,unifyToArray:xa}},ArrayList:ba,Vector2D:va,Vector2D:{FullName:{vectorFromPolar:Oa,copyVector:Ra,zeroVector:Sa,constrainVector:Aa,setCartesian:za}},Coordinates2D:{distance:wa},Numeric:{sin:Ca,cos:Ia,round:Ea,lerp:La,inverseLerp:Ta,max2:Pa,clamp:Va},MathConstants:{ONE_OVER_SQUARE_ROOT_TWO:ja,INVERSE255:Fa},Random:{FullName:{randomValue:ka,randomSigned:Na}},Angle:Ba,Angle:{TWO_PI:Ma},HSV:Da,ConstantFunction:qa,ConstantFunction:{returnVoid:Qa},Tween:Ua,Timer:Ha}=ga;let Wa,Ga,Za;const Ja=e=>{Wa=e,Za=Wa},Ka=e=>{Ga=e},Xa=t=>t instanceof e.Color?Object.create(t):Wa.color(t),$a=e=>{if(null===e)return()=>Za.noStroke();if(void 0===e)return Qa;const t=Xa(e);return()=>Za.stroke(t)},Ya=e=>{if(null===e)return()=>Za.noFill();if(void 0===e)return Qa;const t=Xa(e);return()=>Za.fill(t)},es=(e,t)=>{const r=Xa(e);return Wa.color(Wa.red(r),Wa.green(r),Wa.blue(r),t)},ts=(e,t)=>{const r=new Array(t),n=t-1,o=Xa(e);if(1===t)r[0]=o;else{const e=Wa.alpha(o);for(let a=1;a<t;a+=1){const t=e*(a/n);r[a]=es(o,t)}}return{colors:r,maxIndex:n}},rs=(e,t)=>e.colors[Ea(e.maxIndex*t*Fa)],ns=Object.freeze({__proto__:null,create:ts,get:rs}),os=[],as=(e,t,r,n)=>{if(1===n)return e.stroke=$a(t),e.fill=Ya(r),e;if(null===t)e.stroke=()=>Za.noStroke();else if(void 0===t)e.stroke=Qa;else{const r=ts(t,n);e.stroke=e=>Za.stroke(rs(r,e))}if(null===r)e.fill=()=>Za.noFill();else if(void 0===r)e.fill=Qa;else{const t=ts(r,n);e.fill=e=>Za.fill(rs(t,e))}return e},ss=Object.freeze({__proto__:null,create:(e,t,r)=>{const n={stroke:Qa,fill:Qa},o=as.bind(void 0,n,e,t,r);return Wa?o():(os.push(o),n)},apply:(e,t)=>{if(t<1)return Za.noStroke(),void Za.noFill();e.stroke(t),e.fill(t)}}),is=(e=Wa,t)=>{t&&(e.push(),t(e),e.pop()),e.loadPixels();const r=e.pixels;return()=>{e.pixels=r,e.updatePixels()}},cs=(e=Wa)=>{const t=e.pixelDensity(),r=e.width*t,{pixels:n}=e;return(e,o,a,s,i,c)=>{const l=e*t,u=l+t,d=o*t,y=d+t;for(let e=d;e<y;e+=1){const t=e*r;for(let e=l;e<u;e+=1){const r=4*(t+e);n[r]=a,n[r+1]=s,n[r+2]=i,n[r+3]=c}}}},ls=(e=Wa)=>{const t=e.pixelDensity(),r=e.width*t,{pixels:n}=e;return(e,o,a,s,i)=>{const c=e*t,l=c+t;for(let e=c;e<l;e+=1){const t=e*r;for(let e=0;e<r;e+=1){const r=4*(t+e);n[r]=o,n[r+1]=a,n[r+2]=s,n[r+3]=i}}}},us=(e,t,r)=>{Za.translate(t,r),e(),Za.translate(-t,-r)},ds=(e,t)=>{Za.rotate(t),e(),Za.rotate(-t)},ys=(e,t)=>{Za.scale(t),e(),Za.scale(1/t)},ps=(e,t,r,n)=>{Za.translate(t,r),ys(e,n),Za.translate(-t,-r)};let hs=0,gs=0,fs=0,_s=1;const ms=e=>Za.curveVertex(e.x,e.y),xs=e=>{const{controlPoint1:t,controlPoint2:r,targetPoint:n}=e;Za.bezierVertex(t.x,t.y,r.x,r.y,n.x,n.y)},bs=e=>{const{point:t,controlLine:r}=e,{x:n,y:o}=t,a=Oa(.5*r.length,r.angle),s=a.x,i=a.y;Za.line(n-s,o-i,n+s,o+i)};let vs=0,Os=0,Rs="DEFAULT";const Ss=(e,t=Wa)=>{const{width:r,height:n}=t;t.loadPixels();const o=cs(t);for(let t=0;t<n;t+=1)for(let n=0;n<r;n+=1)e(o,n,t);t.updatePixels()},As=(e,t=Wa)=>{const{height:r}=t;t.loadPixels();const n=ls(t);for(let t=0;t<r;t+=1)e(n,t);t.updatePixels()},zs=(e,t,r,n,o,a)=>{const s=r-e,i=n-t;Za.line(e+o*s,t+o*i,e+a*s,t+a*i)},ws=(e,t,r,n)=>{const o=r-e,a=n-t;return(r,n)=>Za.line(e+r*o,t+r*a,e+n*o,t+n*a)},Cs=Object.freeze({__proto__:null,draw:zs,create:ws}),Is=(e,t,r,n,o,a,s,i)=>{o!==a&&Za.arc(e,t,r,n,o*Ma,a*Ma,s,i)},Es=(e,t,r,n,o,a)=>(s,i)=>Is(e,t,r,n,s,i,o,a),Ls=Object.freeze({__proto__:null,draw:Is,create:Es}),Ts=(e,t,r,n,o,a,s)=>Is(e,t,r,r,n,o,a,s),Ps=(e,t,r,n,o)=>Es(e,t,r,r,n,o),Vs=Object.freeze({__proto__:null,draw:Ts,create:Ps}),js=(e,t)=>({from:e,to:t,length:wa(e.x,e.y,t.x,t.y)}),Fs=(e,t)=>{const{from:r,to:n}=e;Za.vertex(La(r.x,n.x,t),La(r.y,n.y,t))},ks=e=>{const t=(e=>{const t=e.length,r=new Array(t),n=t-1;let o=0;for(let t=0;t<n;t+=1){const n=js(e[t],e[t+1]);r[t]=n,o+=n.length}const a=js(e[n],e[0]);r[n]=a,o+=a.length;const s=new Array(t);for(let e=0,n=0;e<t;e+=1){const t=r[e],a=n+t.length/o;s[e]={from:t.from,to:t.to,previousRatio:n,nextRatio:a},n=a}return s})(e);return(e,r)=>{const n=((e,t)=>{for(let r=t.length-1;r>=0;r-=1)if(t[r].previousRatio<=e)return r;return 0})(e,t),o=((e,t)=>{const{length:r}=t;for(let n=0;n<r;n+=1)if(e<=t[n].nextRatio)return n;return r-1})(r,t),a=Ta(e,t[n].previousRatio,t[n].nextRatio),s=Ta(r,t[o].previousRatio,t[o].nextRatio);if(Za.beginShape(),Fs(t[n],a),n!==o)for(let e=n;e<o;e+=1){const r=t[e].to;Za.vertex(r.x,r.y)}Fs(t[o],s),Za.endShape()}},Ns=Object.freeze({__proto__:null,create:ks}),Bs=(e,t,r,n)=>{const o=e+r,a=t+n;return ks([{x:e,y:t},{x:o,y:t},{x:o,y:a},{x:e,y:a}])},Ms=(e,t,r,n)=>{const o=.5*r,a=.5*n,s=e-o,i=t-a,c=e+o,l=t+a;return ks([{x:s,y:i},{x:c,y:i},{x:c,y:l},{x:s,y:l}])},Ds=Object.freeze({__proto__:null,createCorner:Bs,createCenter:Ms}),qs=(e,t,r)=>Bs(e,t,r,r),Qs=(e,t,r)=>Ms(e,t,r,r),Us=Object.freeze({__proto__:null,createCorner:qs,createCenter:Qs}),Hs=Object.freeze({__proto__:null,drawTrimmedLine:zs,createTrimmedLine:ws,drawTrimmedEllipse:Is,createTrimmedEllipse:Es,drawTrimmedCircle:Ts,createTrimmedCircle:Ps,createTrimmedPolygon:ks,createTrimmedRectangleCorner:Bs,createTrimmedRectangleCenter:Ms,createTrimmedSquareCorner:qs,createTrimmedSquareCenter:Qs}),Ws=Object.freeze({__proto__:null,Line:Cs,Ellipse:Ls,Circle:Vs,Polygon:Ns,Rectangle:Ds,Square:Us,FullName:Hs}),Gs=e=>{e.zoomTimer=Ha.dummy,e.targetZoomFactor=void 0},Zs=Object.freeze({__proto__:null,create:e=>{const{displaySize:t,initialDisplayPosition:r,initialFocusPoint:n,minZoomFactor:o,maxZoomFactor:a}=e,s=e.regionBoundary||fa.createInfinite(),i=_a.calculateScaleFactor(fa.getSize(s),t),c=o?Pa(i,o):i,l=a?Pa(c,a):1/0;return{displaySize:t,displayPosition:Ra(r||Sa),regionBoundary:s,zoomFactorRange:{start:c,end:l},focusPoint:n?Ra(n):s?fa.getCenterPoint(s):Ra(Sa),zoomFactor:1,zoomTimer:Ha.dummy,targetZoomFactor:void 0}},update:e=>{const{displaySize:{width:t,height:r},regionBoundary:{topLeft:{x:n,y:o},bottomRight:{x:a,y:s}},zoomFactor:i}=e,c=t/(2*i),l=r/(2*i),u=n+c,d=a-c,y=o+l,p=s-l;Aa(e.focusPoint,u,d,y,p),Ha.Component.step(e.zoomTimer)},draw:(e,t)=>{const{displaySize:r,displayPosition:n,focusPoint:o,zoomFactor:a}=e;ps(t,n.x+r.width/2-a*o.x,n.y+r.height/2-a*o.y,a)},stopTweenZoom:Gs,setZoom:(e,t)=>{const{zoomFactorRange:r}=e,n=Va(t,r.start,r.end);e.zoomFactor=n,Gs(e)},tweenZoom:(e,t,r)=>{const{zoomFactorRange:n}=e,o=Va(t,n.start,n.end),a=Ua.create(t=>e.zoomFactor=t,60,{start:e.zoomFactor,end:o,easing:r});return a.onComplete.push(Gs.bind(void 0,e)),e.targetZoomFactor=o,e.zoomTimer=a},getWorldPosition:(e,t,r)=>{const{displaySize:n,displayPosition:o,focusPoint:a,zoomFactor:s}=e,i=1/s;return za(r,i*(t.x-(o.x+n.width/2))+a.x,i*(t.y-(o.y+n.height/2))+a.y)},getScreenPosition:(e,t,r)=>{const{displaySize:n,displayPosition:o,focusPoint:a,zoomFactor:s}=e;return za(r,o.x+n.width/2+s*(t.x-a.x),o.y+n.height/2+s*(t.y-a.y))}}),Js={x:0,y:0},Ks={x:0,y:0},Xs={x:0,y:0};let $s=!0;const Ys=qa.returnVoid,ei=qa.returnFalse,ti=e=>{let t=!0;for(let r=0;r<e.length;r+=1)t=!1!==e[r](Js)&&t;return t},ri=e=>({onClicked:xa(e.onClicked),onPressed:xa(e.onPressed),onReleased:xa(e.onReleased),onMoved:xa(e.onMoved),onEnter:xa(e.onEnter),onLeave:xa(e.onLeave),isMouseOver:e.isMouseOver||qa.returnTrue,active:!0,mouseOver:!1}),ni=ri({}),oi=ba.create(32),ai=ri({}),si=e=>{const t=ri(e);return ba.add(oi,t),t},ii=e=>{const t=(e=>{const t=(e=>{switch(e){case 0:return e=>e.onClicked;case 1:return e=>e.onPressed;case 2:return e=>e.onReleased;case 3:return e=>e.onMoved}})(e);return e=>!e.active||!e.mouseOver||ti(t(e))})(e);return()=>{if(!$s)return;if(!1===t(ni))return;const e=oi.array;let r=oi.size-1;for(;r>=0;){if(!1===t(e[r]))return;r-=1}t(ai)}},ci=ii(0),li=ii(1),ui=ii(2),di=e=>(e.mouseOver=!1,!0),yi=e=>{if(e.active){if(!e.isMouseOver(Js))return e.mouseOver?(e.mouseOver=!1,ti(e.onLeave)):void 0;if(!e.mouseOver){e.mouseOver=!0;const t=!1!==ti(e.onEnter);return!1!==ti(e.onMoved)&&t}return ti(e.onMoved)}},pi=Object.freeze({__proto__:null,get active(){return $s},setActive:e=>{$s=e},emptyHandler:Ys,stopHandler:ei,createListener:ri,topListener:ni,listenerStack:oi,bottomListener:ai,addListener:e=>ba.add(oi,e),addNewListener:si,removeListener:e=>ba.removeShiftElement(oi,e),onClicked:ci,onPressed:li,onReleased:ui,onMoved:()=>{if(!$s)return;let e=yi;!1===e(ni)&&(e=di);const t=oi.array;let r=oi.size-1;for(;r>=0;)!1===e(t[r])&&(e=di),r-=1;e(ai)}});var hi;!function(e){e[e.Default=0]="Default",e[e.MouseOver=1]="MouseOver",e[e.Pressed=2]="Pressed",e[e.Inactive=3]="Inactive",e[e.Hidden=4]="Hidden"}(hi||(hi={}));const gi=e=>{e.state=hi.Default,e.draw=e.drawDefault,e.listener.active=!0},fi=e=>{e.state=hi.MouseOver,e.draw=e.drawMouseOver,e.listener.active=!0},_i=e=>{e.state=hi.Pressed,e.draw=e.drawPressed,e.listener.active=!0},mi=Object.freeze({__proto__:null,get State(){return hi},setStateDefault:gi,setStateMouseOver:fi,setStatePressed:_i,setStateInactive:e=>{e.state=hi.Inactive,e.draw=e.drawInactive,e.listener.active=!1},setStateHidden:e=>{e.state=hi.Hidden,e.draw=Qa,e.listener.active=!1},create:(e,t=!0)=>{const r=e.drawDefault,n=e.drawMouseOver||r,o=e.drawPressed||r,a=e.drawInactive||r,s=r,i=t?si(e):ri(e),c={listener:i,drawDefault:r,drawMouseOver:n,drawPressed:o,drawInactive:a,draw:s,state:hi.Default},l=!!e.allowSubsequentEvents,u=()=>(fi(c),l);return i.onEnter.push(u,()=>Wa.cursor("pointer")),i.onPressed.push(()=>(_i(c),l)),i.onClicked.push(u),i.onLeave.push(()=>(gi(c),l),()=>Wa.cursor("auto")),l||(i.onMoved.push(ei),i.onReleased.push(ei)),c},draw:e=>e.draw()}),xi=Object.freeze({__proto__:null,Event:pi,Button:mi,position:Js,previousPosition:Ks,displacement:Xs,updatePosition:()=>{if(!Ga)return;const e=1/Ga.scaleFactor;va.Mutable.set(Ks,Js),va.Mutable.setCartesian(Js,e*Wa.mouseX,e*Wa.mouseY),va.Assign.subtract(Js,Ks,Xs)},setCenter:()=>va.Mutable.set(Js,Ga.logicalCenterPosition),drawAtCursor:e=>us(e,Js.x,Js.y),isOnCanvas:()=>fa.containsPoint(Ga.logicalRegion,Js,0)}),bi=Object.freeze({__proto__:null,anyKeyIsDown:e=>{for(const t of e)if(Wa.keyIsDown(t))return!0;return!1}});let vi=0,Oi=0;const Ri={x:0,y:0};let Si=!1,Ai=!1,zi=!1,wi=!1;const Ci=(e,t)=>va.Mutable.setCartesian(Ri,e,t),Ii=()=>{switch(vi=(Ai?-1:0)+(wi?1:0),Oi=(Si?-1:0)+(zi?1:0),vi){case-1:switch(Oi){case-1:Ci(-ja,-ja);break;case 0:Ci(-1,0);break;case 1:Ci(-ja,ja)}break;case 0:switch(Oi){case-1:Ci(0,-1);break;case 0:Ci(0,0);break;case 1:Ci(0,1)}break;case 1:switch(Oi){case-1:Ci(ja,-ja);break;case 0:Ci(1,0);break;case 1:Ci(ja,ja)}}},Ei=Object.freeze({__proto__:null,get horizontalMove(){return vi},get verticalMove(){return Oi},unitVector:Ri,get up(){return Si},get left(){return Ai},get down(){return zi},get right(){return wi},onPressed:()=>{switch(Wa.key){case"w":Si=!0;break;case"a":Ai=!0;break;case"s":zi=!0;break;case"d":wi=!0}switch(Wa.keyCode){case 38:Si=!0;break;case 37:Ai=!0;break;case 40:zi=!0;break;case 39:wi=!0}Ii()},onReleased:()=>{switch(Wa.key){case"w":Si=!1;break;case"a":Ai=!1;break;case"s":zi=!1;break;case"d":wi=!1}switch(Wa.keyCode){case 38:Si=!1;break;case 37:Ai=!1;break;case 40:zi=!1;break;case 39:wi=!1}Ii()}});let Li=!1;const Ti=()=>{Wa.noLoop(),Li=!0},Pi=()=>{Wa.loop(),Li=!1},Vi=()=>{Li?Pi():Ti()},ji=(e=>{let t=0,r=1;for(let e=0;e<10;e+=1)t+=r/=2;return t/2})(),Fi=Object.freeze({__proto__:null,withOffset:(e=ka(4096))=>t=>Wa.noise(e+t),withOffset2:(e=ka(4096),t=ka(256))=>(r,n)=>Wa.noise(e+r,t+n),withOffset3:(e=ka(4096),t=ka(256),r=ka(16))=>(n,o,a)=>Wa.noise(e+n,t+o,r+a),withChangeRate:(e,t=ka(4096))=>{let r=t;return()=>Wa.noise(r+=e)},withChangeRate1:(e,t=ka(4096),r=ka(256))=>{let n=r;return r=>Wa.noise(t+r,n+=e)},withChangeRate2:(e,t=ka(4096),r=ka(256),n=ka(16))=>{let o=n;return(n,a)=>Wa.noise(t+n,r+a,o+=e)},AVERAGE:ji}),ki=()=>({width:Wa.windowWidth,height:Wa.windowHeight}),Ni=e=>{const{scaleFactor:t,logicalSize:r}=e;return{width:t*r.width,height:t*r.height}},Bi=e=>{const{scaleFactor:t,logicalSize:r}=e,n=1!==t?e=>ys(e,t):e=>e();return{logicalSize:r,logicalRegion:fa.create(va.zero,r),logicalCenterPosition:{x:r.width/2,y:r.height/2},scaleFactor:t,drawScaled:n}},Mi=(e,t)=>{const r=e(),{width:n,height:o}=Ni(r),a=Wa.createCanvas(n,o,t),s=Object.assign({p5Canvas:a},Bi(r));let i=r;return Object.assign(s,{resizeIfNeeded:t=>{const r=e();if(((e,t)=>{if(e.scaleFactor!==t.scaleFactor)return!1;const r=e.logicalSize,n=t.logicalSize;return r.width===n.width&&n.height==n.height})(i,r))return;const{width:n,height:o}=Ni(r);Wa.resizeCanvas(n,o,t);const a=Bi(r);Object.assign(s,a),i=r}})},Di=e=>{const{logicalSize:t,getPhysicalContainerSize:r,fittingOption:n,renderer:o}=Object.assign({getPhysicalContainerSize:ki},e),a=null!==n?()=>_a.calculateScaleFactor(t,r(),n):$n.returnOne;return Mi(()=>({scaleFactor:a(),logicalSize:t}),o)},qi=e=>{const{logicalHeight:t,getPhysicalContainerSize:r,renderer:n}=Object.assign({getPhysicalContainerSize:ki},e),o=e.disableScaling?$n.returnOne:()=>r().height/t;return Mi(()=>{const e=o();return{scaleFactor:e,logicalSize:{width:r().width/e,height:t}}},n)},Qi=t=>{const r="string"==typeof t.htmlElement?Kn.getElementOrBody(t.htmlElement):t.htmlElement,{logicalCanvasWidth:n,logicalCanvasHeight:o,initialize:a,setP5Methods:s,fittingOption:i,renderer:c}=t;new e(e=>{Ja(e),e.setup=()=>{const t=r?Kn.getElementSize.bind(void 0,r):void 0,s=n?Di({logicalSize:{width:n,height:o},getPhysicalContainerSize:t,fittingOption:i,renderer:c}):qi({logicalHeight:o,getPhysicalContainerSize:t,renderer:c});Ka(s),v.loopRunWithArgument(os,e),os.length=0,a()},s(e)},r)},Ui=Object.freeze({__proto__:null,AlphaColor:ns,Camera:Zs,KeyBoard:bi,Mouse:xi,MoveKeys:Ei,Noise:Fi,ShapeColor:ss,TrimmedShape2D:Ws,applyShake:()=>{if(0===vs)return;const{width:e,height:t}=Ga.logicalSize,r="VERTICAL"===Rs?0:Na(vs*e),n="HORIZONTAL"===Rs?0:Na(vs*t);Wa.translate(r,n),vs*=Os,vs<.001&&(vs=0)},arcAtOrigin:(e,t,r,n,o,a)=>Za.arc(0,0,e,t,r*Ma,n*Ma,o,a),get canvas(){return Ga},circleAtOrigin:e=>Za.circle(0,0,e),circularArcAtOrigin:(e,t,r,n,o)=>Za.arc(0,0,e,e,t*Ma,r*Ma,n,o),colorToARGB:e=>({a:Wa.alpha(e),r:Wa.red(e),g:Wa.green(e),b:Wa.blue(e)}),colorToRGB:e=>({r:Wa.red(e),g:Wa.green(e),b:Wa.blue(e)}),colorWithAlpha:es,createFullScaledCanvas:qi,createScaledCanvas:Di,createSetPixel:cs,createSetPixelRow:ls,createTexture:(e,t,r)=>{const n=Wa.createGraphics(e,t);return Ss(r,n),n},createTextureRowByRow:(e,t,r)=>{const n=Wa.createGraphics(e,t);return As(r,n),n},curveVertexFromVector:ms,drawBezierControlLines:e=>{ma(e,bs)},drawBezierCurve:e=>{const{startPoint:t,paths:r}=e;Za.vertex(t.x,t.y),ma(r,xs)},drawCurve:e=>{const{length:t}=e;Za.beginShape(),ms(e[0]);for(let r=0;r<t;r+=1)ms(e[r]);ms(e[t-1]),Za.endShape()},drawCurveClosed:e=>{const{length:t}=e;Za.beginShape();for(let r=0;r<t;r+=1)ms(e[r]);for(let t=0;t<3;t+=1)ms(e[t]);Za.endShape()},drawRotated:ds,drawScaled:ys,drawTexture:Ss,drawTextureRowByRow:As,drawTransformed:(e,t,r,n,o)=>{Za.translate(t,r),Za.rotate(n),Za.scale(o),e(),Za.scale(1/o),Za.rotate(-n),Za.translate(-t,-r)},drawTranslated:us,drawTranslatedAndRotated:(e,t,r,n)=>{Za.translate(t,r),ds(e,n),Za.translate(-t,-r)},drawTranslatedAndScaled:ps,getWindowSize:ki,graphicsToImage:e=>{const t=e,{width:r,height:n}=t,o=Wa.createImage(r,n);return o.copy(e,0,0,r,n,0,0,r,n),o},hsvColor:(e,t,r,n=255)=>{const[o,a,s]=Da.toRGB([e,t,r]);return Wa.color(255*o,255*a,255*s,n)},line:(e,t)=>Za.line(e.x,e.y,t.x,t.y),lineAtOrigin:e=>Za.line(0,0,e.x,e.y),lineWithMargin:(e,t,r)=>{const n=Ba.betweenPoints(e,t),o=r*Ia(n),a=r*Ca(n);return Za.line(e.x+o,e.y+a,t.x-o,t.y-a)},onSetup:os,get p(){return Wa},parseColor:Xa,parseFill:Ya,parseStroke:$a,pause:Ti,pauseOrResume:Vi,get renderer(){return Za},resume:Pi,reverseColor:e=>Wa.color(255-Wa.red(e),255-Wa.green(e),255-Wa.blue(e),Wa.alpha(e)),rotate:e=>{fs=e,Za.rotate(e)},rotateScale:(e,t)=>{fs=e,_s=t,Za.rotate(e),Za.scale(t)},scale:e=>{_s=e,Za.scale(e)},setCanvas:Ka,setP5Instance:Ja,setRenderer:e=>{Za=e},setShake:(e,t,r="DEFAULT",n=!1)=>{t>=1||(n||0===vs)&&(vs=e,Os=t,Rs=r)},startSketch:Qi,storePixels:is,transform:(e,t,r,n)=>{hs=e,gs=t,fs=r,_s=n,Za.translate(e,t),Za.rotate(r),Za.scale(n)},translate:(e,t)=>{hs=e,gs=t,Za.translate(e,t)},translateRotate:(e,t,r)=>{hs=e,gs=t,fs=r,Za.translate(e,t),Za.rotate(r)},translateScale:(e,t,r)=>{hs=e,gs=t,_s=r,Za.translate(e,t),Za.scale(r)},undoRotate:()=>{Za.rotate(-fs)},undoRotateScale:()=>{Za.scale(1/_s),Za.rotate(-fs)},undoScale:()=>{Za.scale(1/_s)},undoTransform:()=>{Za.scale(1/_s),Za.rotate(-fs),Za.translate(-hs,-gs)},undoTranslate:()=>{Za.translate(-hs,-gs)},undoTranslateRotate:()=>{Za.rotate(-fs),Za.translate(-hs,-gs)},undoTranslateScale:()=>{Za.scale(1/_s),Za.translate(-hs,-gs)}}),Hi=(e,t,r,n)=>{for(let o=r;o<n;o+=1)t(e[o],o,e)},Wi=(e,t)=>Hi(e,t,0,e.length),Gi=(e,t,r,n)=>{let o=n;for(;o>r;)--o,t(e[o],o,e)},Zi=(e,t)=>Gi(e,t,0,e.length),Ji=(e,t,r,n,o,a,s)=>{for(let i=n;i<o;i+=1)for(let n=a;n<s;n+=1)r(e[i],t[n])},Ki=(e,t,r)=>Ji(e,t,r,0,e.length,0,t.length),Xi=(e,t,r,n)=>{const o=n-1;for(let a=r;a<o;a+=1)for(let r=a+1;r<n;r+=1)t(e[a],e[r])},$i=(e,t)=>Xi(e,t,0,e.length),Yi=e=>e?Array.isArray(e)?e.slice():[e]:[],ec=e=>[].concat(...e),tc=(e,t=1)=>t>0?e.reduce((e,r)=>e.concat(Array.isArray(r)?tc(r,t-1):r),[]):e,rc=(e,t,r)=>{const n=r||e.length;for(let r=0;r<n;r+=1)e[r]=t(r);return e},nc=(e,t)=>rc(new Array(t),e),oc=e=>{const t=new Array(e);for(let r=0;r<e;r+=1)t[r]=r;return t},ac=e=>{const{start:t,end:r}=e,n=r-t,o=new Array(n);for(let e=0;e<n;e+=1)o[e]=t+e;return o},sc=(e,t)=>{const r=[],n=e.length;for(let o=0;o<n;o+=1){const n=t(e[o],o,e);void 0!==n&&r.push(n)}return r},ic=e=>{const t=e.length;for(let r=0;r<t;r+=1)e[r]()},cc=(e,t)=>{const r=e.length;for(let n=0;n<r;n+=1)e[n](t)},lc=(e,t,r,n,o)=>{let a=o;for(;a;)a-=1,e[r+a]=t[n+a]},uc=Object.freeze({__proto__:null,loopArrayRange:Hi,loopArray:Wi,loopArrayRangeBackwards:Gi,loopArrayBackwards:Zi,arrayNestedLoopJoinWithRange:Ji,arrayNestedLoopJoin:Ki,arrayRoundRobinWithRange:Xi,arrayRoundRobin:$i,unifyToArray:Yi,flatArrayNaive:ec,flatArrayRecursive:tc,populateArray:rc,createPopulatedArray:nc,createIntegerSequence:oc,arrayFromRange:ac,filterMapArray:sc,loopRunArray:ic,loopRunArrayWithArgument:cc,blitArray:lc}),dc=Object.freeze({__proto__:null,FullName:uc,loopRange:Hi,loop:Wi,loopRangeBackwards:Gi,loopBackwards:Zi,nestedLoopJoinWithRange:Ji,nestedLoopJoin:Ki,roundRobinWithRange:Xi,roundRobin:$i,unifyToArray:Yi,flatNaive:ec,flatRecursive:tc,populate:rc,createPopulated:nc,createIntegerSequence:oc,fromRange:ac,filterMap:sc,loopRun:ic,loopRunWithArgument:cc,blit:lc}),yc=e=>({array:new Array(e),size:0}),pc=(e,t)=>({array:new Array(e).fill(t),size:e}),hc=(e,t)=>({array:rc(new Array(e),t),size:e}),gc=e=>({array:e,size:e.length}),fc=(e,t)=>{e.array[e.size]=t,e.size+=1},_c=fc,mc=e=>{const t=e.size-1,r=e.array[t];return e.size=t,r},xc=(e,t)=>e.array[t],bc=e=>e.array[e.size-1],vc=bc,Oc=(e,t)=>{const{array:r,size:n}=e,o=t.length;let a=o;for(;a;)a-=1,r[n+a]=t[a];e.size+=o},Rc=(e,t)=>{const{array:r,size:n}=e,{array:o,size:a}=t;let s=a;for(;s;)s-=1,r[n+s]=o[s];e.size+=a},Sc=e=>{e.size=0},Ac=e=>{const{array:t,size:r}=e,n=t.length;t.length=r,t.length=n},zc=e=>{e.size=0,Ac(e)},wc=(e,t)=>Hi(e.array,t,0,e.size),Cc=(e,t)=>Gi(e.array,t,0,e.size),Ic=(e,t)=>{const{array:r,size:n}=e;for(let e=0;e<n;e+=1)if(t(r[e],e,r))return r[e]},Ec=(e,t)=>{const{array:r,size:n}=e;for(let e=0;e<n;e+=1)if(r[e]===t)return e;return-1},Lc=(e,t)=>{const{array:r,size:n}=e,o=r[t];return r.copyWithin(t,t+1,n),e.size=n-1,o},Tc=(e,t)=>{const r=Ec(e,t);return r>=0?Lc(e,r):null},Pc=(e,t)=>{const r=e.array,n=r[t],o=e.size-1;return r[t]=r[o],e.size=o,n},Vc=(e,t)=>{const r=Ec(e,t);return r>=0?Pc(e,r):null},jc=(e,t)=>{const{array:r,size:n}=e;let o=0,a=!1;for(let e=0;e<n;e+=1){const n=r[e];t(n,e,r)?a=!0:(r[o]=n,o+=1)}return e.size=o,a},Fc=(e,t)=>{let r=!1;const n=e.array;for(let o=0;o<e.size;o+=1)t(n[o],o,n)&&(Pc(e,o),r=!0);return r},kc=(e,t)=>(rc(e.array,t),e.size=e.array.length,e),Nc=(e,t,r)=>Ji(e.array,t.array,r,0,e.size,0,t.size),Bc=(e,t)=>Xi(e.array,t,0,e.size),Mc=Object.freeze({__proto__:null,createArrayList:yc,createFilledArrayList:pc,createPopulatedArrayList:hc,arrayListFromArray:gc,addToArrayList:fc,pushToArrayList:_c,popFromArrayList:mc,getFromArrayList:xc,peekFromArrayList:bc,getLastFromArrayList:vc,addArrayToArrayList:Oc,addListToArrayList:Rc,clearArrayList:Sc,cleanUnusedSlotsOfArrayList:Ac,clearReferenceOfArrayList:zc,loopArrayList:wc,loopArrayListBackwards:Cc,findInArrayList:Ic,findIndexInArrayList:Ec,removeShiftFromArrayList:Lc,removeShiftElementFromArrayList:Tc,removeSwapFromArrayList:Pc,removeSwapElementFromArrayList:Vc,removeShiftAllFromArrayList:jc,removeSwapAllFromArrayList:Fc,populateArrayList:kc,arrayListNestedLoopJoin:Nc,arrayListRoundRobin:Bc}),Dc=Object.freeze({__proto__:null,FullName:Mc,create:yc,createFilled:pc,createPopulated:hc,fromArray:gc,add:fc,push:_c,pop:mc,get:xc,peek:bc,getLast:vc,addArray:Oc,addList:Rc,clear:Sc,cleanUnusedSlots:Ac,clearReference:zc,loop:wc,loopBackwards:Cc,find:Ic,findIndex:Ec,removeShift:Lc,removeShiftElement:Tc,removeSwap:Pc,removeSwapElement:Vc,removeShiftAll:jc,removeSwapAll:Fc,populate:kc,nestedLoopJoin:Nc,roundRobin:Bc}),qc=e=>({array:new Array(e),headIndex:0,tailIndex:0,size:0}),Qc=e=>0===e.size,Uc=e=>e.size===e.array.length,Hc=(e,t)=>{const{array:r,tailIndex:n}=e;r[n]=t;const o=n+1;e.tailIndex=o<r.length?o:0,e.size+=1},Wc=(e,t)=>{Uc(e)||Hc(e,t)},Gc=e=>{const{array:t,headIndex:r}=e,n=r+1;return e.headIndex=n<t.length?n:0,e.size-=1,t[r]},Zc=e=>Qc(e)?void 0:Gc(e),Jc=e=>Uc(e)?Gc(e):void 0,Kc=e=>e.array[e.headIndex],Xc=e=>{const{headIndex:t}=e;return t!==e.tailIndex?e.array[t]:void 0},$c=(e,t)=>{if(0===e.size)return;const{array:r,headIndex:n,tailIndex:o}=e;n<o?Hi(r,t,n,o):(Hi(r,t,n,r.length),Hi(r,t,0,o))},Yc=(e,t)=>{const{array:r,headIndex:n}=e,o=r[n];if(!t(o))return;const a=n+1;return e.headIndex=a<r.length?a:0,e.size-=1,o},el=(e,t)=>e.headIndex!==e.tailIndex?Yc(e,t):void 0,tl=e=>{e.headIndex=0,e.tailIndex=0,e.size=0},rl=e=>{tl(e);const{array:t}=e,r=t.length;t.length=0,t.length=r},nl=Object.freeze({__proto__:null,createArrayQueue:qc,arrayQueueIsEmpty:Qc,arrayQueueIsFull:Uc,enqueue:Hc,enqueueSafe:Wc,dequeue:Gc,dequeueSafe:Zc,dequeueIfFull:Jc,loopArrayQueue:$c,peekArrayQueue:Kc,peekArrayQueueSafe:Xc,dequeueIf:Yc,dequeueSafeIf:el,clearArrayQueue:tl,clearArrayQueueReference:rl}),ol=Object.freeze({__proto__:null,FullName:nl,create:qc,isEmpty:Qc,isFull:Uc,enqueue:Hc,enqueueSafe:Wc,dequeue:Gc,dequeueSafe:Zc,dequeueIfFull:Jc,peek:Kc,peekSafe:Xc,loop:$c,dequeueIf:Yc,dequeueSafeIf:el,clear:tl,clearReference:rl}),al=Object.freeze({__proto__:null,create:e=>({value:void 0,factory:e}),get:e=>e.value||(e.value=e.factory()),clear:e=>{e.value=void 0}}),sl=Object.freeze({__proto__:null,from:(e,t)=>{const r={};for(const n of Object.keys(e))r[n]=new Array(t).fill(e[n]);return{data:r,length:t}}}),{abs:il,acos:cl,asin:ll,atan:ul,atan2:dl,ceil:yl,cos:pl,exp:hl,floor:gl,log:fl,max:_l,min:ml,pow:xl,round:bl,sin:vl,sqrt:Ol,tan:Rl,clz32:Sl,imul:Al,sign:zl,log10:wl,log2:Cl,log1p:Il,expm1:El,cosh:Ll,sinh:Tl,tanh:Pl,acosh:Vl,asinh:jl,atanh:Fl,hypot:kl,trunc:Nl,fround:Bl,cbrt:Ml}=Math,Dl=Ol,ql=Sl,Ql=Al,Ul=kl,Hl=Nl,Wl=Bl,Gl=Ml,Zl=e=>e*e,Jl=e=>e*e*e,Kl=e=>Zl(e*e),Xl=(e,t)=>e<t?e:t,$l=(e,t)=>e>t?e:t,Yl=(e,t)=>0!==e||0!==t?dl(e,t):0,eu=(e,t)=>e*e+t*t,tu=(e,t)=>Ol(e*e+t*t),ru=(e,t,r)=>e+r*(t-e),nu=(e,t,r)=>e<t?t:e>r?r:e,ou=(e,t,r)=>t>r?(t+r)/2:e<t?t:e>r?r:e,au=Object.freeze({__proto__:null,abs:il,acos:cl,asin:ll,atan:ul,atan2:dl,ceil:yl,cos:pl,exp:hl,floor:gl,log:fl,max:_l,min:ml,pow:xl,round:bl,sin:vl,sqrt:Ol,tan:Rl,clz32:Sl,imul:Al,sign:zl,log10:wl,log2:Cl,log1p:Il,expm1:El,cosh:Ll,sinh:Tl,tanh:Pl,acosh:Vl,asinh:jl,atanh:Fl,hypot:kl,trunc:Nl,fround:Bl,cbrt:Ml,squareRoot:Dl,leadingZeros32:ql,multInt:Ql,hypotenuse:Ul,integerPart:Hl,floatRound:Wl,cubeRoot:Gl,square:Zl,cube:Jl,pow4:Kl,pow5:e=>Zl(e*e)*e,squareInt:e=>Al(e,e),cubeInt:e=>Al(Al(e,e),e),equal:(e,t)=>il(e-t)<2220446049250313e-31,min2:Xl,max2:$l,atan2safe:Yl,hypotenuseSquared2D:eu,hypotenuse2D:tu,lerp:ru,clamp:nu,constrain:ou,map:(e,t,r,n,o)=>n+(o-n)*(e-t)/(r-t),createMap:(e,t,r,n)=>{const o=t-e,a=n-r;return t=>r+a*(t-e)/o},inverseLerp:(e,t,r)=>(e-t)/(r-t)}),{E:su,LN10:iu,LN2:cu,LOG2E:lu,LOG10E:uu}=Math,du=Math.SQRT2,yu=Math.SQRT1_2,pu=Math.sqrt(3),hu=yu,gu=du,fu=1/pu,_u=2/pu,mu=pu/2,xu=yu,bu=Object.freeze({__proto__:null,E:su,LN10:iu,LN2:cu,LOG2E:lu,LOG10E:uu,ONE_HALF:.5,ONE_THIRD:1/3,TWO_THIRDS:2/3,ONE_QUARTER:.25,TWO_QUARTERS:.5,THREE_QUARTERS:.75,INVERSE30:1/30,INVERSE60:1/60,INVERSE255:1/255,SQUARE_ROOT_TWO:du,SQUARE_ROOT_ONE_HALF:yu,SQUARE_ROOT_THREE:pu,ONE_OVER_SQUARE_ROOT_TWO:hu,TWO_OVER_SQUARE_ROOT_TWO:gu,ONE_OVER_SQUARE_ROOT_THREE:fu,TWO_OVER_SQUARE_ROOT_THREE:_u,SQUARE_ROOT_THREE_OVER_TWO:mu,SQUARE_ROOT_TWO_OVER_TWO:xu}),vu=Math.PI,Ou=2*vu,Ru=vu/2,Su=vu/3,Au=vu/4,zu=3*Au,wu=hu,Cu=mu,Iu=Cu,Eu=wu,Lu=Ou/360,Tu=360/Ou,Pu=(e,t)=>{const r=t.x-e.x,n=t.y-e.y;return 0!==r||0!==n?dl(n,r):0},Vu=Object.freeze({__proto__:null,PI:vu,TWO_PI:Ou,HALF_PI:Ru,THIRD_PI:Su,QUARTER_PI:Au,THREE_QUARTERS_PI:zu,SIN30:.5,SIN45:wu,SIN60:Cu,COS30:Iu,COS45:Eu,COS60:.5,DEGREES_TO_RADIANS:Lu,RADIANS_TO_DEGREES:Tu,createArray:e=>{const t=new Array(e),r=Ou/e;for(let n=0;n<e;n+=1)t[n]=n*r;return t},fromDegrees:e=>Lu*e,toDegrees:e=>Tu*e,fromOrigin:e=>{const{x:t,y:r}=e;return 0!==t||0!==r?dl(e.y,e.x):0},betweenPoints:Pu,betweenCoordinates:(e,t,r,n)=>e!==r||t!==n?dl(r-e,n-t):0}),ju=(e,t)=>({x:e,y:t}),Fu={x:0,y:0},ku=e=>0===e.x&&0===e.y,Nu=(e,t)=>({x:e*pl(t),y:e*vl(t)}),Bu=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Mu=(e,t,r)=>({x:e.x+t,y:e.y+r}),Du=(e,t,r)=>({x:e.x+t*pl(r),y:e.y+t*vl(r)}),qu=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Qu=(e,t,r)=>({x:e.x-t,y:e.y-r}),Uu=(e,t,r)=>({x:e.x-t*pl(r),y:e.y-t*vl(r)}),Hu=(e,t)=>({x:e.x*t,y:e.y*t}),Wu=(e,t)=>({x:e.x/t,y:e.y/t}),Gu=(e,t)=>eu(t.x-e.x,t.y-e.y),Zu=(e,t)=>tu(t.x-e.x,t.y-e.y),Ju=e=>`{x:${e.x},y:${e.y}}`,Ku=e=>({x:e.x,y:e.y}),Xu=e=>eu(e.x,e.y),$u=e=>tu(e.x,e.y),Yu=e=>{const{x:t,y:r}=e;return 0!==t||0!==r?dl(e.y,e.x):0},ed=()=>({x:0,y:0}),td=(e,t)=>(e.x+=t.x,e.y+=t.y,e),rd=(e,t,r)=>(e.x+=t,e.y+=r,e),nd=(e,t,r)=>(e.x+=t*pl(r),e.y+=t*vl(r),e),od=(e,t)=>(e.x-=t.x,e.y-=t.y,e),ad=(e,t,r)=>(e.x-=t,e.y-=r,e),sd=(e,t,r)=>(e.x-=t*pl(r),e.y-=t*vl(r),e),id=(e,t)=>(e.x=t.x,e.y=t.y,e),cd=(e,t,r)=>(e.x=t,e.y=r,e),ld=(e,t,r)=>(e.x=t*pl(r),e.y=t*vl(r),e),ud=(e,t)=>(e.x*=t,e.y*=t,e),dd=(e,t)=>{const r=1/t;return e.x*=r,e.y*=r,e},yd=(e,t,r,n,o)=>(e.x=nu(e.x,t,r),e.y=nu(e.y,n,o),e),pd=(e,t,r,n,o)=>(e.x=ou(e.x,t,r),e.y=ou(e.y,n,o),e),hd=(e,t,r)=>{if(Gu(e,t)>=r*r)return e;const n=Pu(t,e);return e.x=t.x+r*pl(n),e.y=t.y+r*vl(n),e},gd=(e,t,r,n)=>{if(Gu(e,t)>=r*r)return;const o=Pu(e,t),a=ru(e.x,t.x,n),s=ru(e.y,t.y,n),i=r/2,c=i*pl(o),l=i*vl(o);t.x=a+c,t.y=s+l,e.x=a-c,e.y=s-l},fd=Object.freeze({__proto__:null,create:ed,add:td,addCartesian:rd,addPolar:nd,subtract:od,subtractCartesian:ad,subtractPolar:sd,set:id,setCartesian:cd,setPolar:ld,multiply:ud,divide:dd,clamp:yd,constrain:pd,separate:hd,separateEachOther:gd}),_d=(e,t,r)=>(r.x=e.x+t.x,r.y=e.y+t.y,r),md=(e,t,r,n)=>(n.x=e.x+t,n.y=e.y+r,n),xd=(e,t,r,n)=>(n.x=e.x+t*pl(r),n.y=e.y+t*vl(r),n),bd=(e,t,r)=>(r.x=e.x-t.x,r.y=e.y-t.y,r),vd=(e,t,r,n)=>(n.x=e.x-t,n.y=e.y-r,n),Od=(e,t,r,n)=>(n.x=e.x-t*pl(r),n.y=e.y-t*vl(r),n),Rd=(e,t,r)=>(r.x=e,r.y=t,r),Sd=(e,t,r)=>(r.x=e.x*t,r.y=e.y*t,r),Ad=(e,t,r)=>{const n=1/t;return r.x=e.x*n,r.y=e.y*n,r},zd=(e,t,r,n,o,a)=>(a.x=nu(e.x,t,r),a.y=nu(e.y,n,o),a),wd=(e,t,r,n,o,a)=>(a.x=ou(e.x,t,r),a.y=ou(e.y,n,o),a),Cd=(e,t,r)=>{const n=t.x-e.x,o=t.y-e.y,a=tu(n,o);return r.x=n/a,r.y=o/a,r},Id=Object.freeze({__proto__:null,add:_d,addCartesian:md,addPolar:xd,subtract:bd,subtractCartesian:vd,subtractPolar:Od,setCartesian:Rd,setPolar:(e,t,r)=>(r.x=e*pl(t),r.y=e*vl(t),r),multiply:Sd,divide:Ad,clamp:zd,constrain:wd,normalize:(e,t)=>{const{x:r,y:n}=e,o=tu(r,n);return t.x=r/o,t.y=n/o,t},normalizeBetween:Cd}),Ed=Object.freeze({__proto__:null,createVector:ju,zeroVector:Fu,vectorIsZero:ku,vectorFromPolar:Nu,addVector:Bu,addCartesian:Mu,addPolar:Du,subtractVector:qu,subtractCartesian:Qu,subtractPolar:Uu,multiplyVector:Hu,divideVector:Wu,distanceOfVectorsSquared:Gu,distanceOfVectors:Zu,vectorToStr:Ju,copyVector:Ku,vectorLengthSquared:Xu,vectorLength:$u,vectorAngle:Yu,createVectorMutable:ed,addVectorMutable:td,addCartesianMutable:rd,addPolarMutable:nd,subtractVectorMutable:od,subtractCartesianMutable:ad,subtractPolarMutable:sd,setVector:id,setCartesian:cd,setPolar:ld,multiplyVectorMutable:ud,divideVectorMutable:dd,clampVector:yd,constrainVector:pd,separateVector:hd,separateVectors:gd,addVectorAssign:_d,addCartesianAssign:md,addPolarAssign:xd,subtractVectorAssign:bd,subtractCartesianAssign:vd,subtractPolarAssign:Od,multiplyVectorAssign:Sd,divideVectorAssign:Ad,clampVectorAssign:zd,constrainVectorAssign:wd}),Ld=Object.freeze({__proto__:null,Mutable:fd,Assign:Id,FullName:Ed,create:ju,zero:Fu,isZero:ku,fromPolar:Nu,add:Bu,addCartesian:Mu,addPolar:Du,subtract:qu,subtractCartesian:Qu,subtractPolar:Uu,multiply:Hu,divide:Wu,distanceSquared:Gu,distance:Zu,toStr:Ju,copy:Ku,lengthSquared:Xu,length:$u,angle:Yu,dot:(e,t)=>e.x*t.x+e.y*t.y,normalize:e=>{const{x:t,y:r}=e,n=tu(t,r);return{x:t/n,y:r/n}},normalizeBetween:(e,t)=>{const r=t.x-e.x,n=t.y-e.y,o=tu(r,n);return{x:r/o,y:n/o}}}),Td=e=>{const{topLeft:t,bottomRight:r}=e;return{width:r.x-t.x,height:r.y-t.y}},Pd=e=>{const{topLeft:t,bottomRight:r}=e;return{x:(t.x+r.x)/2,y:(t.y+r.y)/2}},Vd=Object.freeze({__proto__:null,create:(e,t)=>({topLeft:e,bottomRight:{x:e.x+t.width,y:e.y+t.height}}),createFromCenter:(e,t)=>{const{x:r,y:n}=e,o=t.width/2,a=t.height/2;return{topLeft:{x:r-o,y:n-a},bottomRight:{x:r+o,y:n+a}}},containsPoint:(e,t,r)=>{const{topLeft:n,bottomRight:o}=e,{x:a,y:s}=t;return a>=n.x+r&&s>=n.y+r&&a<o.x-r&&s<o.y-r},getWidth:e=>e.bottomRight.x-e.topLeft.x,getHeight:e=>e.bottomRight.y-e.topLeft.y,getSize:Td,getCenterPoint:Pd,createScaled:(e,t,r)=>{const{topLeft:n,bottomRight:o}=e;switch(r){case 0:return{topLeft:n,bottomRight:{x:ru(n.x,o.x,t),y:ru(n.y,o.y,t)}};case 1:{const t=Pd(e),r=Td(e),n=r.width/2,o=r.height/2;return{topLeft:{x:t.x-n,y:t.y-o},bottomRight:{x:t.x+n,y:t.y+o}}}}},copy:e=>({topLeft:Ku(e.topLeft),bottomRight:Ku(e.bottomRight)}),createInfinite:()=>({topLeft:{x:-1/0,y:-1/0},bottomRight:{x:1/0,y:1/0}}),addMargin:(e,t)=>{const{topLeft:r,bottomRight:n}=e;return{topLeft:{x:r.x-t,y:r.y-t},bottomRight:{x:n.x+t,y:n.y+t}}},addMargins:(e,t)=>{const{topLeft:r,bottomRight:n}=e;return{topLeft:{x:r.x-t.left,y:r.y-t.top},bottomRight:{x:n.x+t.right,y:n.y+t.bottom}}}}),jd=Object.freeze({__proto__:null,getAspectRatio:e=>e.width/e.height,getArea:e=>e.width*e.height,createInfinite:()=>({width:1/0,height:1/0})}),Fd=Object.freeze({__proto__:null,createCurve:e=>{const t=[],r=e.length;let n=e[0],o=n.controlLine;for(let a=1;a<r;a+=1){const r=e[a],s=r.controlLine;t.push({controlPoint1:Du(n.point,.5*o.length,o.angle),controlPoint2:Uu(r.point,.5*s.length,s.angle),targetPoint:r.point}),n=r,o=s}return{startPoint:e[0].point,paths:t}}}),kd=Object.freeze({__proto__:null,distanceSquared:(e,t,r,n)=>eu(r-e,n-t),distance:(e,t,r,n)=>tu(r-e,n-t)}),Nd=Zl,Bd=Jl,Md=Kl,Dd=e=>e?xl(2,10*(e-1)):0,qd=(e=1.70158)=>t=>t*t*((e+1)*t-e),Qd=Object.freeze({__proto__:null,quad:Nd,cubic:Bd,quart:Md,expo:Dd,createBack:qd}),Ud=e=>1-Zl(e-1),Hd=e=>Jl(e-1)+1,Wd=e=>1-Kl(e-1),Gd=e=>e<1?1-xl(2,-10*e):1,Zd=(e=1.70158)=>t=>{const r=t-1,n=r*r;return(e+1)*(r*n)+e*n+1},Jd=Object.freeze({__proto__:null,quad:Ud,cubic:Hd,quart:Wd,expo:Gd,createBack:Zd}),Kd=(e,t,r=.5)=>{const n=1/r;return o=>{if(o<r)return e(n*o);return t((o-r)/(1-r))}},Xd=(e,t,r=.5)=>{const n=1/r;return o=>{if(o<r)return r*e(n*o);{const e=1-r;return r+e*t((o-r)/e)}}},$d=Xd(Nd,Ud),Yd=Xd(Bd,Hd),ey=Xd(Md,Wd),ty=Xd(Dd,Gd),ry=e=>Xd(qd(e),Zd(e)),ny=Object.freeze({__proto__:null,quad:$d,cubic:Yd,quart:ey,expo:ty,createBack:ry}),oy=Xd(Ud,Nd),ay=Xd(Hd,Bd),sy=Xd(Wd,Md),iy=Xd(Gd,Dd),cy=e=>Xd(Zd(e),qd(e)),ly=Object.freeze({__proto__:null,quad:oy,cubic:ay,quart:sy,expo:iy,createBack:cy}),uy=e=>e,dy=Object.freeze({__proto__:null,easeInQuad:Nd,easeInCubic:Bd,easeInQuart:Md,easeInExpo:Dd,createEaseInBack:qd,easeOutQuad:Ud,easeOutCubic:Hd,easeOutQuart:Wd,easeOutExpo:Gd,createEaseOutBack:Zd,easeInOutQuad:$d,easeInOutCubic:Yd,easeInOutQuart:ey,easeInOutExpo:ty,createEaseInOutBack:ry,easeOutInQuad:oy,easeOutInCubic:ay,easeOutInQuart:sy,easeOutInExpo:iy,createEaseOutInBack:cy,easeLinear:uy,concatenateEasing:Kd,integrateEasing:Xd}),yy=Object.freeze({__proto__:null,In:Qd,Out:Jd,InOut:ny,OutIn:ly,FullName:dy,linear:uy,concatenate:Kd,integrate:Xd});let py=Math.random,hy=py;const gy=e=>{py=e,hy=e},fy=e=>py()*e,_y=()=>py()*Ou,my=(e,t)=>e+py()*(t-e),xy=e=>my(e.start,e.end),by=e=>py()<e,vy=e=>py()<e?1:-1,Oy=e=>(py()<.5?1:-1)*py()*e,Ry=()=>(py()<.5?1:-1)*py()*vu,Sy=e=>Nu(e,_y()),Ay=e=>{const{topLeft:t,bottomRight:r}=e;return{x:my(t.x,r.x),y:my(t.y,r.y)}},zy=e=>gl(py()*e),wy=(e,t)=>e+gl(py()*(t-e)),Cy=e=>(py()<.5?1:-1)*gl(py()*e),Iy=Object.freeze({__proto__:null,value:zy,between:wy,signed:Cy}),Ey=e=>gl(py()/e)*e,Ly=(e,t)=>gl(py()*(t/e))*e,Ty=(e,t,r)=>t+gl(py()*((r-t)/e))*e,Py=(e,t)=>(py()<.5?1:-1)*gl(py()*(t/e))*e,Vy=e=>gl(py()*(Ou/e))*e,jy=e=>(py()<.5?1:-1)*gl(py()*(vu/e))*e,Fy=Object.freeze({__proto__:null,ratio:Ey,value:Ly,between:Ty,signed:Py,angle:Vy,signedAngle:jy}),ky=e=>e[zy(e.length)],Ny=e=>e.splice(zy(e.length),1)[0],By=Object.freeze({__proto__:null,get:ky,removeGet:Ny}),My=e=>e(py()),Dy=(e,t)=>e(py())*t,qy=(e,t,r)=>t+e(py())*(r-t),Qy=(e,t)=>qy(e,t.start,t.end),Uy=Object.freeze({__proto__:null,ratio:My,value:Dy,between:qy,inRange:Qy,angle:e=>e(py())*Ou,signed:(e,t)=>(py()<.5?1:-1)*e(py())*t,signedAngle:e=>(py()<.5?1:-1)*e(py())*vu}),Hy=Object.freeze({__proto__:null,setBaseRandomFunction:gy,get randomRatio(){return hy},randomValue:fy,randomAngle:_y,randomBetween:my,randomInRange:xy,randomBool:by,randomSign:vy,randomSigned:Oy,randomSignedAngle:Ry,randomInteger:zy,randomIntegerBetween:wy,randomIntegerSigned:Cy,randomDiscreteRatio:Ey,randomDiscreteValue:Ly,randomDiscreteAngle:Vy,randomDiscreteBetween:Ty,randomDiscreteSigned:Py,randomDiscreteSignedAngle:jy,randomFromArray:ky,randomRemoveFromArray:Ny,randomRatioCurved:My,randomValueCurved:Dy,randomBetweenCurved:qy,randomInRangeCurved:Qy,randomVector:Sy,randomPointInRectangleRegin:Ay}),Wy=Object.freeze({__proto__:null,Integer:Iy,Discrete:Fy,Arrays:By,Curved:Uy,FullName:Hy,get random(){return py},get ratio(){return hy},setBaseFunction:gy,value:fy,angle:_y,between:my,inRange:xy,bool:by,sign:vy,signed:Oy,signedAngle:Ry,vector:Sy,pointInRectangleRegion:Ay}),Gy=Object.freeze({__proto__:null,calculateScaleFactor:(e,t,r)=>{switch(r){default:case"FIT_TO_BOX":return Xl(t.width/e.width,t.height/e.height);case"FIT_WIDTH":return t.width/e.width;case"FIT_HEIGHT":return t.height/e.height}}}),Zy=Object.freeze({__proto__:null,getElementOrBody:e=>document.getElementById(e)||document.body,getElementSize:e=>e===document.body?{width:window.innerWidth,height:window.innerHeight}:e.getBoundingClientRect()}),Jy=()=>{},Ky=Object.freeze({__proto__:null,returnVoid:Jy,returnUndefined:()=>{},returnNull:()=>null,returnZero:()=>0,returnOne:()=>1,returnTrue:()=>!0,returnFalse:()=>!1,returnArgument:e=>e,runSelf:e=>e()});let Xy=Jy;let $y=0;const Yy=e=>e.step(),ep=e=>e.reset();class tp{constructor(e,t){this.id=$y++,this.name="no name",this.onStart=e,this.onComplete=t,this.isStarted=!1,this.isCompleted=!1,Xy("timer ",this.id,": created.")}tryStart(){if(this.isStarted)return!1;const{id:e,name:t}=this;return Xy("timer ",e,t,": starting..."),cc(this.onStart,e),Xy("timer ",e,t,": started."),this.isStarted=!0}complete(){const{id:e,name:t}=this;return Xy("timer ",e,t,": completing..."),cc(this.onComplete,e),Xy("timer ",e,t,": completed."),this.isCompleted=!0}setName(e){return this.name=e,this}}const rp=Object.freeze({__proto__:null,step:Yy,reset:ep,Base:tp}),np=e=>({duration:e,ratioChangeRate:1/$l(1,e),count:0,ratio:0});class op extends tp{constructor(e,t,r,n){super(e,r),this.onProgress=t,this.progress=n}static create(e,t,r,n){return new op(e,t,r,n)}step(){if(this.isCompleted)return!0;this.tryStart();const{progress:e}=this;return e.count>=e.duration?(e.ratio=1,cc(this.onProgress,e),this.complete()):(cc(this.onProgress,e),(e=>{e.count+=1,e.ratio+=e.ratioChangeRate})(e),!1)}reset(){var e;return(e=this.progress).count=0,e.ratio=0,this.isStarted=!1,this.isCompleted=!1,this}setName(e){return super.setName(e),this}}const ap=e=>op.create(Yi(e.onStart),Yi(e.onProgress),Yi(e.onComplete),np(e.duration)),sp=op.create([],[],[],np(0));sp.isStarted=!0,sp.isCompleted=!0;const ip=(e,t)=>{e.index=t,e.currentComponent=e.components[t]};class cp extends tp{constructor(e){super([],[]),this.components=e.slice(),this.index=0,this.currentComponent=e[0]}static create(e){return new cp(e)}step(){return this.tryStart(),!!this.currentComponent.step()&&(e=>{const t=e.index+1;return t<e.components.length?(ip(e,t),!1):e.complete()})(this)}reset(){return Wi(this.components,ep),ip(this,0),this.isStarted=!1,this.isCompleted=!1,this}pushComponent(e){this.components.push(e)}setName(e){return super.setName(e),this}}const lp=e=>cp.create(e),up=Object.freeze({__proto__:null,Unit:cp,create:lp});class dp extends tp{constructor(e){super([],[]),this.components=e.slice(),this.runningComponentList=gc(e.slice())}static create(e){return new dp(e)}step(){this.tryStart();const{runningComponentList:e}=this;return jc(e,Yy),!(e.size>0)&&this.complete()}reset(){const{runningComponentList:e}=this;return Sc(e),Oc(e,this.components),wc(e,ep),this.isStarted=!1,this.isCompleted=!1,this}setName(e){return super.setName(e),this}addComponent(e){this.components.push(e),fc(this.runningComponentList,e)}}const yp=e=>dp.create(e),pp=Object.freeze({__proto__:null,Unit:dp,create:yp});class hp extends tp{constructor(e,t){super([],[]),this.component=e,this.loopCount=t,this.remainingCount=t}static create(e,t){return new hp(e,t)}step(){return this.tryStart(),!!this.component.step()&&(!!this.isCompleted||((this.remainingCount-=1)>0?(this.component.reset(),!1):this.complete()))}reset(){const{loopCount:e}=this;return this.remainingCount=e,this.component.reset(),this.isStarted=!1,this.isCompleted=!1,this}setName(e){return super.setName(e),this}}const gp=(e,t=1/0)=>hp.create(e,t),fp=Object.freeze({__proto__:null,Unit:hp,create:gp}),_p=e=>({runningComponents:yc(e),newComponentsBuffer:yc(e)}),mp=(e,t)=>fc(e.newComponentsBuffer,t),xp=e=>{const{runningComponents:t,newComponentsBuffer:r}=e;Rc(t,r),Sc(r),jc(t,Yy)},bp=e=>{Sc(e.runningComponents),Sc(e.newComponentsBuffer)},vp=Object.freeze({__proto__:null,create:_p,add:mp,step:xp,clear:bp,construct:e=>{const t=_p(e);return{add:mp.bind(void 0,t),step:xp.bind(void 0,t),clear:bp.bind(void 0,t)}}}),Op=Object.freeze({__proto__:null,Component:rp,Chain:up,Parallel:pp,Loop:fp,Set:vp,chain:lp,parallel:yp,loop:gp,outputVerbose:(e=!0)=>{Xy=e?console.info:Jy},Unit:op,create:ap,dummy:sp}),Rp=new Map([["A",".-"],["B","-..."],["C","-.-."],["D","-.."],["E","."],["F","..-."],["G","--."],["H","...."],["I",".."],["J",".---"],["K","-.-"],["L",".-.."],["M","--"],["N","-."],["O","---"],["P",".--."],["Q","--.-"],["R",".-."],["S","..."],["T","-"],["U","..-"],["V","...-"],["W",".--"],["X","-..-"],["Y","-.--"],["Z","--.."],["1",".----"],["2","..---"],["3","...--"],["4","....-"],["5","....."],["6","-...."],["7","--..."],["8","---.."],["9","----."],["0","-----"],[".",".-.-.-"],[",","--..--"],[":","---..."],["?","..--.."],["'",".----."],["!","-.-.--"],["-","-....-"],["/","-..-."],["@",".--.-."],["(","-.--."],[")","-.--.-"],['"',".-..-."],["=","-...-"],["+",".-.-."]]),Sp=(e,t,r)=>{let n="";const o=e?"1":"0";for(let e=0;e<t;e+=1)n+=o;return Object.freeze({isOn:e,length:t,codeString:r,binaryString:n})},Ap=(e,t)=>Sp(!0,e,t),zp=(e,t)=>Sp(!1,e,t),wp=Ap(1,"."),Cp=Ap(3,"-"),Ip=zp(1,""),Ep=zp(3," "),Lp=zp(7," / "),Tp=zp(0,"");const Pp=Object.freeze({__proto__:null,DIT:wp,DAH:Cp,INTER_ELEMENT_GAP:Ip,SHORT_GAP:Ep,MEDIUM_GAP:Lp,NUL:Tp,encode:function(e){const t=e.toUpperCase(),r=[];let n=void 0;for(let e=0,o=t.length;e<o;e+=1){const o=t.charAt(e);if(" "===o){n=Lp;continue}if(0===o.charCodeAt(0)){n&&r.push(n),n=void 0,r.push(Tp);continue}const a=Rp.get(o);if(a){for(let e=0,t=a.length;e<t;e+=1){switch(n&&r.push(n),a.charAt(e)){case".":r.push(wp);break;case"-":case"_":r.push(Cp);break;default:continue}n=Ip}n=Ep}}return r},toString:e=>e.reduce((e,t)=>e+t.codeString,""),toBinaryString:e=>e.reduce((e,t)=>e+t.binaryString,""),getTotalLength:e=>e.reduce((e,t)=>e+t.length,0)});function Vp(e){return 1e3/(e/60*50)}const jp=e=>{e.timeout&&(e.off(Tp),clearTimeout(e.timeout),e.timeout=void 0),e.index=0},Fp=(e,t,r)=>{t.timeout=setTimeout(()=>{t.timeout=void 0,e(t)},r)},kp=e=>{const t=(e=>{const{unitTime:t,signals:r,index:n,on:o,off:a}=e,s=r[n];return s.isOn?o(s):a(s),t*s.length})(e);e.index+=1,e.index<e.signals.length?Fp(kp,e,t):(e.timeout=setTimeout(()=>{e.loop?(e.off(Tp),e.timeout=void 0):(e.off(Lp),Fp(kp,e,Lp.length))},t),e.index=0)},Np=Object.freeze({__proto__:null,wpmToDotDuration:Vp,create:(e,t,r=25,n=[],o=!1)=>({on:e,off:t,wpm:r,unitTime:Vp(r),loop:o,signals:n,index:0,timeout:void 0}),stop:jp,start:(e,t)=>{jp(e),t&&(e.signals=t),kp(e)}}),Bp=Object.freeze({__proto__:null,Signal:Pp,Channel:Np}),Mp=Object.freeze({__proto__:null,create:(e,t,r)=>{const{x:n,y:o}=e,{x:a,y:s}=r.target,i=r.easing||uy;return ap({duration:t,onProgress:t=>{const r=i(t.ratio);cd(e,ru(n,a,r),ru(o,s,r))}})},setCreate:(e,t,r)=>{let n,o,a,s,i;return ap({duration:t,onStart:()=>{const{target:t,easing:c}=r();({x:n,y:o}=e),({x:a,y:s}=t),i=c||uy},onProgress:t=>{const r=i(t.ratio);cd(e,ru(n,a,r),ru(o,s,r))}})}}),Dp=Object.freeze({__proto__:null,Vector2D:Mp,create:(e,t,r)=>{const{start:n,end:o}=r,a=r.easing||uy;return ap({duration:t,onProgress:t=>e(ru(n,o,a(t.ratio)))})},setCreate:(e,t,r)=>{let n,o,a;return ap({duration:t,onStart:()=>{const{start:e,end:t,easing:s}=r();n=e,o=t,a=s||uy},onProgress:t=>e(ru(n,o,a(t.ratio)))})}}),qp=Object.freeze({__proto__:null,create:(e,t=1)=>({callback:e,frequency:t,accumulation:0}),run:e=>{for(e.accumulation+=e.frequency;e.accumulation>=1;)e.accumulation-=1,e.callback()},reset:e=>{e.accumulation=0}});let Qp=Jy,Up=Jy,Hp=Jy;const Wp=Object.freeze({__proto__:null,get info(){return Qp},get warn(){return Up},get error(){return Hp},outputInfo:(e=!0)=>{Qp=e?console.info:Jy},outputWarn:(e=!0)=>{Up=e?console.warn:Jy},outputError:(e=!0)=>{Hp=e?console.error:Jy}}),Gp=(e,t,r)=>{e.x+=e.vx,e.y+=e.vy,e.vx+=t,e.vy+=r},Zp=(e,t,r)=>{e.vx2=e.vx+.5*t,e.vy2=e.vy+.5*r,e.vx+=t,e.vy+=r,e.x+=e.vx2,e.y+=e.vy2},Jp=(e,t,r)=>{e.vx=e.vx2+.5*t,e.vy=e.vy2+.5*r},Kp=Object.freeze({__proto__:null,createQuantity:(e,t,r,n)=>({x:e,y:t,vx:r||0,vy:n||0}),updateEuler:e=>{e.x+=e.vx,e.y+=e.vy},updateEulerAccelerated:Gp,updateVerlet:Zp,postUpdateVerlet:Jp,positionVector:(e,t)=>Rd(e.x,e.y,t),velocityVector:(e,t)=>Rd(e.vx,e.vy,t),getSpeed:e=>tu(e.vx,e.vy),getVelocityAngle:e=>Yl(e.vy,e.vx),truncateVelocity:(e,t)=>{const{vx:r,vy:n}=e;if(eu(r,n)<=t*t)return e;const o=dl(n,r);return e.vx=t*pl(o),e.vy=t*vl(o),e},setVelocity:(e,t)=>(e.vx=t.x,e.vy=t.y,e),setVelocityCartesian:(e,t,r)=>(e.vx=t,e.vy=r,e),setVelocityPolar:(e,t,r)=>(e.vx=t*pl(r),e.vy=t*vl(r),e),bounceInRectangleRegion:(e,t,r)=>{const{x:n,y:o,vx:a,vy:s}=r,{x:i,y:c}=e.topLeft,{x:l,y:u}=e.bottomRight;return n<i?(r.x=i,a<0&&(r.vx=-t*a),!0):n>=l?(r.x=l-1,a>0&&(r.vx=-t*a),!0):o<c?(r.y=c,s<0&&(r.vy=-t*s),!0):o>=u&&(r.y=u-1,s>0&&(r.vy=-t*s),!0)}}),Xp=(e,t)=>(e.fx+=t.x,e.fy+=t.y,e),$p=Object.freeze({__proto__:null,createQuantity:(e,t,r,n)=>({x:e,y:t,vx:r||0,vy:n||0,fx:0,fy:0}),createVerletQuantity:(e,t,r,n)=>({x:e,y:t,vx:r||0,vy:n||0,vx2:0,vy2:0,fx:0,fy:0}),updateEuler:e=>{Gp(e,e.fx,e.fy),e.fx=0,e.fy=0},updateVerlet:e=>{Zp(e,e.fx,e.fy),e.fx=0,e.fy=0},postUpdateVerlet:e=>{Jp(e,e.fx,e.fy)},forceVector:(e,t)=>Rd(e.fx,e.fy,t),truncateForce:(e,t)=>{const{fx:r,fy:n}=e;if(eu(r,n)<=t*t)return e;const o=dl(n,r);return e.fx=t*pl(o),e.fy=t*vl(o),e},addForce:Xp,addForceCartesian:(e,t,r)=>(e.fx+=t,e.fy+=r,e),addForcePolar:(e,t,r)=>(e.fx+=t*pl(r),e.fy+=t*vl(r),e)}),Yp=Object.freeze({__proto__:null,createQuantity:(e,t,r,n,o)=>({x:e,y:t,vx:n||0,vy:o||0,fx:0,fy:0,mass:r}),createVerletQuantity:(e,t,r,n,o)=>({x:e,y:t,vx:n||0,vy:o||0,vx2:0,vy2:0,fx:0,fy:0,mass:r}),updateEuler:e=>{const{mass:t}=e;Gp(e,e.fx/t,e.fy/t),e.fx=0,e.fy=0},updateVerlet:e=>{const{mass:t}=e;Zp(e,e.fx/t,e.fy/t),e.fx=0,e.fy=0},postUpdateVerlet:e=>{const{mass:t}=e;Jp(e,e.fx/t,e.fy/t)}});let eh=1,th=-eh;const rh=(e,t,r,n)=>Sd(e,th*t/(r*r*r),n),nh=(e,t,r)=>rh(bd(t,e,r),e.mass*t.mass,Zu(e,t),r),oh=(e,t,r)=>Sd(e,th/(t*t*t),r),ah=(e,t,r)=>oh(bd(t,e,r),Zu(e,t),r),sh=(e,t,r)=>{const{x:n,y:o}=r;e.fx-=n,e.fy-=o,t.fx+=n,t.fy+=o},ih={x:0,y:0},ch={precalculated:(e,t,r,n)=>Xp(e,rh(t,r,n,ih)),calculate:(e,t)=>Xp(t,nh(e,t,ih)),precalculatedSimple:(e,t,r)=>Xp(e,oh(t,r,ih)),calculateSimple:(e,t)=>Xp(t,ah(e,t,ih))},lh={precalculated:(e,t,r,n,o)=>sh(e,t,rh(r,n,o,ih)),calculate:(e,t)=>sh(e,t,nh(e,t,ih)),precalculatedSimple:(e,t,r,n)=>sh(e,t,oh(r,n,ih)),calculateSimple:(e,t)=>sh(e,t,ah(e,t,ih))},uh=Object.freeze({__proto__:null,get constant(){return eh},setConstant:e=>{eh=e,th=-eh},calculateCore:rh,calculate:nh,calculateCoreSimple:oh,calculateSimple:ah,attract:ch,attractEachOther:lh}),dh=Object.freeze({__proto__:null,update:e=>{e.rotationAngle+=e.rotationVelocity},createRandomQuantity:(e,t)=>({rotationAngle:_y(),rotationVelocity:Oy(my(e,t))})}),yh=(e,t,r,n,o)=>{const a=-(e*r.x+t*r.y);return Sd(r,(1+n)*a,o),o},ph={x:0,y:0},hh={x:0,y:0},gh={calculate:(e,t,r)=>{const n=t.vx-e.vx,o=t.vy-e.vy;Cd(e,t,hh),yh(n,o,hh,r,ph),Xp(t,ph),ud(ph,-1),Xp(e,ph)},preCalculated:(e,t,r,n,o,a)=>{yh(r,n,o,a,ph),Xp(t,ph),ud(ph,-1),Xp(e,ph)}},fh=Object.freeze({__proto__:null,calculateForce:yh,withinRectangle:(e,t,r)=>{const{x:n,y:o}=e,{topLeft:{x:a,y:s},bottomRight:{x:i,y:c}}=t;n<a?(e.x=a,e.vx=-r*e.vx):n>=i&&(e.x=i-1,e.vx=-r*e.vx),o<s?(e.y=s,e.vy=-r*e.vy):o>=c&&(e.y=c-1,e.vy=-r*e.vy)},addForce:(e,t,r)=>Xp(e,yh(e.vx,e.vy,t,r,ph)),addForceEachOther:gh,addForceWithinRectangle:(e,t,r)=>{const{x:n,y:o}=e,{topLeft:{x:a,y:s},bottomRight:{x:i,y:c}}=t,l=1+r;n<a?(e.x=a,e.fx-=l*e.vx):n>=i&&(e.x=i-1,e.fx-=l*e.vx),o<s?(e.y=s,e.fy-=l*e.vy):o>=c&&(e.y=c-1,e.fy-=l*e.vy)}}),_h=Object.freeze({__proto__:null,withRandomHue:(e,t)=>[fy(360),e,t],toRGB:e=>{const[t,r,n]=e,o=n*r,a=t*(1/60),s=o*(1-il(a%2-1));let i;switch(gl(a)){case 0:i=[o,s,0];break;case 1:i=[s,o,0];break;case 2:i=[0,o,s];break;case 3:i=[0,s,o];break;case 4:i=[s,0,o];break;case 5:i=[o,0,s];break;default:i=[0,0,0]}const c=n-o;return[i[0]+c,i[1]+c,i[2]+c]}}),mh=Object.freeze({__proto__:null,Angle:Vu,ArrayList:Dc,ArrayQueue:ol,Arrays:dc,Bezier:Fd,Bounce:fh,ConstantFunction:Ky,Coordinates2D:kd,Dynamics:Yp,Easing:yy,FitBox:Gy,Gravitation:uh,HSV:_h,HtmlUtility:Zy,Kinematics:Kp,Lazy:al,Log:Wp,MathConstants:bu,MorseCode:Bp,Numeric:au,Random:Wy,RectangleRegion:Vd,RectangleSize:jd,Repeater:qp,Rotation:dh,SimpleDynamics:$p,StructureOfArrays:sl,Timer:Op,Tween:Dp,Vector2D:Ld}),{ArrayList:xh,ArrayQueue:bh,Vector2D:vh,RectangleRegion:Oh,Random:Rh,SimpleDynamics:Sh,Kinematics:Ah,Gravitation:zh,Bounce:wh,Numeric:{square:Ch,max2:Ih}}=mh,{onSetup:Eh,ShapeColor:Lh,drawTranslatedAndRotated:Th}=Ui;let Ph,Vh;Eh.push(e=>{Ph=e}),Eh.push(()=>{Vh=Ga});zh.setConstant(2e3);const jh=(()=>{const e=Lh.create(null,32,1),t=Lh.create([128,128],[240,128],1);let r;const n=Sh.updateVerlet,o=vh.Mutable.create(),a=()=>{Ph.triangle(12,0,-7,-8,-7,8)},s=e=>Ph.curveVertex(e.x,e.y);return{reset:()=>{r=Oh.createFromCenter(vh.zero,{width:Vh.logicalSize.width-64,height:Vh.logicalSize.height-64})},create:e=>Object.assign(Object.assign({},Sh.createVerletQuantity(e.x,e.y)),{trail:bh.create(64)}),preUpdate:n,interact:(e,t)=>{vh.Assign.subtract(t,e,o);const r=Ih(64,vh.length(o));zh.attractEachOther.precalculatedSimple(e,t,o,r)},postUpdate:e=>{Sh.truncateForce(e,8),wh.addForceWithinRectangle(e,r,.5),Sh.postUpdateVerlet(e),(e=>{const{trail:t}=e;bh.dequeueIfFull(t),bh.enqueue(t,(e=>({x:e.x,y:e.y}))(e))})(e)},draw:r=>{const{x:n,y:o}=r;Lh.apply(t,255),Ph.circle(n,o,64),Lh.apply(e,255),Th(a,n,o,Ah.getVelocityAngle(r))},drawTrail:e=>{Ph.beginShape(),bh.loop(e.trail,s),Ph.endShape()}}})(),Fh=(()=>{const e=Lh.create([160,0,0],null,1),t=xh.create(16);return{reset:()=>{xh.clearReference(t);const e=.45*Vh.logicalSize.height;for(let r=0;r<16;r+=1){const r=(1-Rh.Curved.ratio(Ch))*e;xh.add(t,jh.create(Rh.vector(r)))}},update:()=>{xh.loop(t,jh.preUpdate),xh.roundRobin(t,jh.interact),xh.loop(t,jh.postUpdate)},draw:()=>{Lh.apply(e,255),xh.loop(t,jh.drawTrail),xh.loop(t,jh.draw)}}})();let kh;const Nh=Lh.create(null,64,1);let Bh=0;const Mh=()=>{Ph.background(252),kh=is(),jh.reset(),Fh.reset(),Bh=0},Dh=()=>{const{width:e,height:t}=Vh.logicalSize;Lh.apply(Nh,255),Ph.rect(0,t-10,Bh/600*e,t);const{x:r,y:n}=Vh.logicalCenterPosition;Ph.translate(r,n),Fh.draw()},qh=()=>{Bh+=1,Bh>=600&&Mh(),Fh.update(),kh(),Vh.drawScaled(Dh)},Qh=()=>{switch(Ph.key){case"p":Vi();break;case"g":Ph.save("image.png")}};Qi({htmlElement:"NBodyProblem",logicalCanvasHeight:1080,initialize:()=>{Ph.strokeWeight(2),Mh()},setP5Methods:e=>{e.draw=qh,e.keyTyped=Qh,e.windowResized=()=>{Vh.resizeIfNeeded(),Mh()}}})}(p5);