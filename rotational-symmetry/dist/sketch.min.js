/**
 * Rotational Symmetry.
 * Website => https://www.fal-works.com/
 * @copyright 2019 FAL
 * @author FAL <falworks.contact@gmail.com>
 * @version 0.1.8
 * @license CC-BY-SA-3.0
 */
!function(){"use strict";const t=t=>document.getElementById(t)||document.body,e=t=>t===document.body?{width:window.innerWidth,height:window.innerHeight}:t.getBoundingClientRect(),o=t=>Math.floor(Math.random()*t),n=(t,e)=>t+o(e-t),r=t=>t[o(t.length)];function a(t,e){const o=t.length;for(let n=0;n<o;n+=1)e(t[n],n,t)}const i=t=>[].concat.apply([],t);var l,s;(s=l||(l={})).FIT_TO_BOX="FIT_TO_BOX",s.FIT_WIDTH="FIT_WIDTH",s.FIT_HEIGHT="FIT_HEIGHT";const c=(t,e,o)=>{switch(o){default:case"FIT_TO_BOX":return Math.min(e.width/t.width,e.height/t.height);case"FIT_WIDTH":return e.width/t.width;case"FIT_HEIGHT":return e.height/t.height}};const u=(t,e)=>{const o=e.strokeColor,n=e.fillColor;let r;switch(o){default:switch(n){default:r=(()=>{t.stroke(o),t.fill(n)});break;case null:r=(()=>{t.stroke(o),t.noFill()});break;case void 0:r=(()=>t.stroke(o))}break;case null:switch(n){default:r=(()=>{t.noStroke(),t.fill(n)});break;case null:r=(()=>{t.noStroke(),t.noFill()});break;case void 0:r=(()=>t.noStroke())}break;case void 0:switch(n){default:r=(()=>t.fill(n));break;case null:r=(()=>t.noFill());break;case void 0:r=(()=>{})}}return r};function d(t,e,o,n,r,a,i,l){const s=t,c=l||s.pixelDensity(),u=s.pixels;for(let t=0;t<c;t+=1)for(let l=0;l<c;l+=1){const d=4*((o*c+l)*s.width*c+(e*c+t));u[d]=n,u[d+1]=r,u[d+2]=a,u[d+3]=i}}const h=t("RotationalSymmetry"),f=["#C7243A","#2266AF","#009250","#EDAD0B"],p=3;var m,w;new p5(o=>{let l,s,g,F,b;function x(t){t.applyColor();const e=t.revolution%o.TWO_PI,n=t.count,r=t.shape,a=t.radius,i=t.shapeSize,l=t.rotationFactor;let s=e;const c=o.TWO_PI/n,u=()=>r.draw(i);for(let t=0;t<n;t+=1){const t=a*Math.cos(s),n=a*Math.sin(s);h=u,f=t,p=n,m=s+(l||0)*e,w=void 0,g=void 0,F=void 0,(d=o).translate(f,p),g=h,F=m,(w=d).rotate(F),g(w),w.rotate(-F),d.translate(-f,-p),s+=c}var d,h,f,p,m,w,g,F;t.revolution=e+t.revolutionVelocity}function v(t){var e,n,r,i;e=o,n=(()=>a(t.shapeGroupList,x)),r=t.x,i=t.y,e.translate(r,i),n(e),e.translate(-r,-i)}const k=1/3,T=2/3,I=1/o.sqrt(3);function y(t,e,n,a,i){const l=r(t),s=i.pop();if(!s)throw new Error("No colors in stack.");let c;switch(l.maxFoldingNumber){case 1:c=0;break;case 4:c=r([-2,-1,0,1,2]);break;case 1/0:c=null;break;default:c=r([-2,0,2])}return{shape:l,count:e,shapeSize:18,radius:n,revolution:0,revolutionVelocity:.004*a*o.TWO_PI,applyColor:s,rotationFactor:c}}function N(t,e,r,a,i=!1){const l=o.shuffle(a,!1),s=i?-1:1;return{x:t,y:e,shapeGroupList:[y(r,n(3,6),35,-s,l),y(r,n(4,10),75,s,l)]}}function S(t){if(t.maxFoldingNumber===1/0)return null;const e=o.TWO_PI/t.maxFoldingNumber*.5;return{draw:n=>{o.rotate(e),t.draw(n),o.rotate(-e)},maxFoldingNumber:t.maxFoldingNumber}}function _(t,e){return{draw:n=>{const r=e*n;o.translate(r,0),t.draw(n),o.translate(-r,0)},maxFoldingNumber:1}}function C(t,e,o){return{draw:o=>{t.draw(o),e.draw(o)},maxFoldingNumber:o}}function O(t){const e=t.maxFoldingNumber;let o;return o=e===1/0?2:e%2==0?2:1,C(_(t,-.2),_(t,.2),o)}function E(t){const e=[t],o=S(t);o&&(e.push(o),e.push(function(t){const e=S(t);if(!e)throw new Error("Could not create rotated shape.");return C(t,e,2*t.maxFoldingNumber)}(t)),e.push(O(o)));const n=O(t);if(e.push(n),2===n.maxFoldingNumber){const t=S(n);t&&e.push(t)}return e}function H(){F=i([{draw:function(t){o.rect(0,0,t,t,.05*t)},maxFoldingNumber:4},{draw:function(t){const e=1.2*t,n=-k*e,r=T*e,a=I*e;o.triangle(r,0,n,-a,n,a)},maxFoldingNumber:3},{draw:function(t){o.ellipse(0,0,t,t)},maxFoldingNumber:1/0},{draw:function(t){o.ellipse(0,0,.9*t,1.3*t)},maxFoldingNumber:2},{draw:function(t){o.quad(.9*t,0,0,.6*t,-.9*t,0,0,-.6*t)},maxFoldingNumber:2},{draw:function(t){o.beginShape(),o.vertex(.8*t,0),o.vertex(0,.5*t),o.curveVertex(-.4*t,0),o.vertex(0,-.5*t),o.endShape(o.CLOSE)},maxFoldingNumber:1}].map(E)),b=f.map(t=>o.color(t)).map(t=>u(o,{strokeColor:t,fillColor:void 0}))}function P(){g=[];let t=!1;const e=l.nonScaledSize.width/p;for(let o=0;o<p;o+=1){const n=(o+.5)*e;for(let o=0;o<p;o+=1){const r=N((o+.5)*e,n,F,b,t);g.push(r),t=!t}}}function W(){a(g,v)}o.preload=(()=>{}),o.setup=(()=>{const n={width:640,height:640};l=function(o,n,r,a,i){const l=e("string"==typeof n?t(n):n),s=c(r,l,a);return{p5Canvas:o.createCanvas(s*r.width,s*r.height,i),scaleFactor:s,nonScaledSize:r,drawScaled:t=>(u=o,d=t,h=s,u.scale(h),d(u),void u.scale(1/h))};var u,d,h}(o,h,n),w=(t=>{t.background(255),l.drawScaled(()=>t.image(function(t,e,o){const n=t.createGraphics(e.width,e.height),r=n.width,a=n.height,i=n.pixelDensity();n.loadPixels();for(let t=0;t<a;t+=1)for(let e=0;e<r;e+=1)d(n,e,t,0,0,0,255*Math.random()*o,i);return n.updatePixels(),n}(t,n,.05),0,0))}),(m=o).push(),w(m),m.pop(),m.loadPixels(),s=m.pixels,o.noFill(),o.strokeWeight(2),o.rectMode(o.CENTER),H(),P()}),o.draw=(()=>{o.pixels=s,o.updatePixels(),l.drawScaled(W)}),o.mousePressed=(()=>{P()}),o.keyTyped=(()=>{"p"===o.key&&o.noLoop()})},h)}();