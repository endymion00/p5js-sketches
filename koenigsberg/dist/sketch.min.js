/**
 * Koenigsberk.
 * Website => https://www.fal-works.com/
 * Including module: p5ex (Copyright 2018 FAL, licensed under MIT).
 * @copyright 2018 FAL
 * @author FAL <falworks.contact@gmail.com>
 * @version 0.1.0
 * @license CC-BY-SA-3.0
 */
!function(){"use strict";function t(t,e,i,s){return t&&void 0!==e?null===e?new w(t):i?new x(t,e,s):new S(t,e):new v}function e(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)+Math.pow(e.z-t.z,2)}function i(t,e){let i=(t-e)%C;return i<-Math.PI?i+=C:i>Math.PI&&(i-=C),i}function s(t,e){return Math.atan2(e.y-t.y,e.x-t.x)}function n(t,e){return t+function(t){return Math.floor(Math.random()*t)}(e-t)}function o(t,e,i,s){return t[0]=e,t[1]=i,t[2]=s,t}function r(t){return 255*function(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055}(Math.min(Math.max(t,0),1))}function a(t,e,i,s){const n=function(t,e,i){const s=(t[0]+16)/116,n=s+t[1]/500,o=s-t[2]/200;return i?(i[0]=e.tristimulusValues[0]*I(n),i[1]=e.tristimulusValues[1]*I(s),i[2]=e.tristimulusValues[2]*I(o),i):[e.tristimulusValues[0]*I(n),e.tristimulusValues[1]*I(s),e.tristimulusValues[2]*I(o)]}(o(_,t,e,i),k,B),a=function(t,e,i){const s=t.length,n=t[0].length,o=i||new Array(s);for(let r=0;r<s;r+=1){o[r]=0;for(let i=0;i<n;i+=1)o[r]+=t[r][i]*e[i]}return o}(b,n,L),h=o(V,r(a[0]),r(a[1]),r(a[2]));return s?[h[0],h[1],h[2],s]:[h[0],h[1],h[2]]}function h(t,e,i,s,n,o){const r=o||A.createVector(),a=t+(n?-A.HALF_PI:A.HALF_PI);return r.set(Math.cos(a),Math.sin(a)),r.setMag(s*i/e),r}function c(t){}function d(t,e){return t.filter(t=>-1===e.findIndex(e=>t===e))}function l(t,e){return t.filter(t=>-1!==e.findIndex(e=>t===e))}function u(t,e){return t.splice(t.findIndex(t=>t===e),1)[0]}function p(t){const e=[];for(let i=0;i<t.length;i+=1)e.push(t.get(i));return e}function g(t,e){for(const i of t)if(i.isIncidentTo(e))return!0;return!1}function m(t,e){for(const i of e)if(t.isIncidentToEdge(i))return!0;return!1}class f{constructor(t,e,i,s){this.p=t,this.canvasElement=t.createCanvas(e.scaledWidth,e.scaledHeight,s),this.canvasElement&&"parent"in this.canvasElement&&this.canvasElement.parent(i),this.nonScaledShortSideLength=e.nonScaledShortSideLength,this.updateSize()}get scaleFactor(){return this._scaleFactor}get nonScaledWidth(){return this._nonScaledWidth}get nonScaledHeight(){return this._nonScaledHeight}get aspectRatio(){return this._aspectRatio}resize(t){this.p.resizeCanvas(t.scaledWidth,t.scaledHeight),this.nonScaledShortSideLength=t.nonScaledShortSideLength,this.updateSize()}updateSize(){const t=this.p;this._scaleFactor=Math.min(t.width,t.height)/this.nonScaledShortSideLength,this._inversedScaleFactor=1/this._scaleFactor,this._nonScaledWidth=t.width/this._scaleFactor,this._nonScaledHeight=t.height/this._scaleFactor,this._aspectRatio=t.width/t.height}scale(){this.p.scale(this._scaleFactor)}cancelScale(){this.p.scale(this._inversedScaleFactor)}getNonScaledValueOf(t){return t/this._scaleFactor}}f.DUMMY_PARAMETERS={scaledWidth:100,scaledHeight:100,nonScaledShortSideLength:100};const y={SQUARE640x640:"SQUARE640x640",RECT640x480:"RECT640x480",FULL:"FULL",CUSTOM:"CUSTOM"};class S{constructor(t,e){this.p=t,this.p5Color=e}stroke(){this.p.currentRenderer.stroke(this.p5Color)}fill(){this.p.currentRenderer.fill(this.p5Color)}}class w{constructor(t){this.p=t}stroke(){this.p.currentRenderer.noStroke()}fill(){this.p.currentRenderer.noFill()}}class v{stroke(){}fill(){}}class x{constructor(t,e,i=256){this.p=t;const s=[];for(let n=0;n<i;n+=1)s.push(t.color(t.red(e),t.green(e),t.blue(e),t.alpha(e)*n/(i-1)));this.colorArray=s,this.maxIndex=i-1}stroke(t){this.p.currentRenderer.stroke(this.getColor(t))}fill(t){this.p.currentRenderer.fill(this.getColor(t))}getColor(t){return this.colorArray[t?Math.floor(this.p.map(t,0,255,0,this.maxIndex)):this.maxIndex]}}class R{constructor(e,i,s,n,o){this.strokeColor=t(e,i,n,o),this.fillColor=t(e,s,n,o)}applyColor(t){this.strokeColor.stroke(t),this.fillColor.fill(t)}}R.UNDEFINED=new R(void 0,void 0,void 0);const P=()=>{},A=(Math.PI,new p5(t=>{t.setup=(()=>{t.noCanvas()})})),C=2*Math.PI;A.createVector(),A.createVector();class E{constructor(t=0){this.value=t}valueOf(){return this.value}}E.NULL=new E;class M{}class F extends M{get width(){return this.rightPositionX-this.leftPositionX}get height(){return this.bottomPositionY-this.topPositionY}get area(){return this.width*this.height}constructor(t,e,i,s,n=0){super(),this.leftPositionX=t-n,this.topPositionY=e-n,this.rightPositionX=i+n,this.bottomPositionY=s+n}contains(t){return t.x>=this.leftPositionX&&t.x<=this.rightPositionX&&t.y>=this.topPositionY&&t.y<=this.bottomPositionY}}const I=t=>t>6/29?t*t*t:6/29*3*(6/29)*(t-16/116),b=[[3.2406255,-1.537208,-.4986286],[-.9689307,1.8757561,.0415175],[.0557101,-.2040211,1.0569959]];class T{constructor(t,e){this.name=t,this.tristimulusValues=e}}let k={D50:new T("D50",[.9642,1,.8251]),D55:new T("D55",[.9568,1,.9214]),D65:new T("D65",[.95047,1,1.08883]),E:new T("E",[1,1,1])}.D50;const _=[0,0,0],B=[0,0,0],L=[0,0,0],V=[0,0,0];class z{constructor(t=256){this.array=new Array(t),this.length=0}get(t){return this.array[t]}getLast(){return this.array[this.length-1]}push(t){return this.array[this.length]=t,this.length+=1,this.length}pushRawArray(t,e=t.length){for(let i=0;i<e;i+=1)this.array[this.length+i]=t[i];return this.length+=e,this.length}pushAll(t){return this.pushRawArray(t.array,t.length)}pop(){return this.length-=1,this.array[this.length]}clear(){this.length=0}loop(t){!function(t,e,i){let s=0;for(;s<i;)e(t[s],s,t),s+=1}(this.array,t,this.length)}loopBackwards(t){!function(t,e,i){for(;i--;)e(t[i],i,t)}(this.array,t,this.length)}roundRobin(t){!function(t,e,i){for(let s=0,n=i-1;s<n;s+=1)for(let o=s+1;o<i;o+=1)e(t[s],t[o])}(this.array,t,this.length)}nestedLoopJoin(t,e){!function(t,e,i,s,n){for(let o=0;o<s;o+=1)for(let s=0;s<n;s+=1)i(t[o],e[s])}(this.array,t.array,e,this.length,t.length)}}class N{constructor(t,e){this.nodeA=t,this.nodeB=e}isIncidentTo(t){return t===this.nodeA||t===this.nodeB}getAdjacentNode(t){return t===this.nodeB?this.nodeA:this.nodeB}}class W extends z{static drawFunction(t){t.draw()}draw(){this.loop(W.drawFunction)}}class D extends z{static stepFunction(t){t.step()}step(){this.loop(D.stepFunction)}}class O extends z{}O.prototype.step=D.prototype.step,O.prototype.draw=W.prototype.draw;class H extends z{constructor(t){super(t),this.recentRemovedElements=new z(t)}clean(){this.recentRemovedElements.clear();let t=0;for(let e=0;e<this.length;e+=1)this.array[e].clean(),this.array[e].isToBeRemoved?this.recentRemovedElements.push(this.array[e]):(this.array[t]=this.array[e],t+=1);this.length=t}}class q extends H{}q.prototype.draw=O.prototype.draw,q.prototype.step=O.prototype.step;const Y=A.createVector(),U=A.createVector();class Q{constructor(t,e,i,s,n,o,r){this.pointList=new Array(n+1),this.resolution=n,this.startRatio=o,this.endRatio=r,this.p=t;for(let a=0;a<=n;a+=1){const o=a/n,r=1-o;Y.set(r*e.x+o*i.x,r*e.y+o*i.y),U.set(r*i.x+o*s.x,r*i.y+o*s.y),this.pointList[a]=t.createVector(r*Y.x+o*U.x,r*Y.y+o*U.y)}}static checkControlPoint(t,n,o,r,a,h){const c=r*r;if(e(t,n)<c)return!1;if(e(t,o)<c)return!1;const d=Math.abs(i(s(t,n),s(t,o)));return!(d<a)&&!(d>h)}draw(){const t=Math.floor(this.startRatio.value*this.resolution),e=Math.floor(this.endRatio.value*this.resolution),i=this.endRatio.value*this.resolution-e,s=this.p.currentRenderer,n=this.pointList;s.beginShape();for(let o=t;o<=e;o+=1)s.vertex(n[o].x,n[o].y);i>0&&s.vertex(n[e].x+i*(n[e+1].x-n[e].x),n[e].y+i*(n[e+1].y-n[e].y)),s.endShape()}}class X{constructor(){this.position=new p5.Vector,this.velocity=new p5.Vector}step(){this.position.add(this.velocity)}getSpeed(){return this.velocity.mag()}getDirection(){return this.velocity.heading()}addSpeed(t){this.velocity.setMag(Math.max(0,this.velocity.mag()+t))}}const j=A.createVector();class J{constructor(){this.kinematicQuantity=new X,this.position=this.kinematicQuantity.position,this.velocity=this.kinematicQuantity.velocity,this.mass=1,this.collisionRadius=0,this.hasFriction=!1,this.decelerationFactor=1}get x(){return this.position.x}get y(){return this.position.y}get z(){return this.position.z}get vx(){return this.velocity.x}get vy(){return this.velocity.y}get vz(){return this.velocity.z}getSpeed(){return this.kinematicQuantity.getSpeed()}getDirection(){return this.kinematicQuantity.getDirection()}setFriction(t){0!==t?(this.hasFriction=!0,this.decelerationFactor=1-t):this.hasFriction=!1}constrainSpeed(t){this.velocity.magSq()>t*t&&this.velocity.setMag(t)}step(){this.kinematicQuantity.step(),this.hasFriction&&this.kinematicQuantity.velocity.mult(this.decelerationFactor)}accelerate(t,e,i){this.kinematicQuantity.velocity.add(t,e,i)}applyForce(t){this.accelerate(t.x/this.mass,t.y/this.mass,t.z/this.mass)}addSpeed(t){this.kinematicQuantity.addSpeed(t)}collides(t){return e(this.position,t.position)<this.collisionRadius*this.collisionRadius+t.collisionRadius*t.collisionRadius}bounce(t,e=1){this.velocity.add(p5.Vector.mult(t,(1+e)*p5.Vector.dot(this.velocity,p5.Vector.mult(t,-1))))}attractEachOther(t,e,i=0,s,n){const o=this.calculateAttractionForce(t.position,e,i,s,n);o&&(this.applyForce(o),o.mult(-1),t.applyForce(o))}attractToPoint(t,e,i=0,s,n){const o=this.calculateAttractionForce(t,e,i,s,n);o&&this.applyForce(o)}calculateAttractionForce(t,e,i=0,s,n){const o=j;p5.Vector.sub(t,this.position,o);const r=o.magSq();let a=Math.abs(e)/r;return n&&a<n?null:(a=s?Math.min(Math.max(a,i),s):Math.max(a,i),o.setMag(a),e<0&&o.mult(-1),o)}}class K{constructor(){this.count=0}resetCount(t=0){return this.count=t,this}step(){this.count+=1}mod(t){return this.count%t}}class G extends K{get isOn(){return this._isOn}constructor(t,e=P){super(),this._isOn=!0,this.completeBehavior=e,this.durationFrameCount=t}on(t){return this._isOn=!0,t&&(this.durationFrameCount=t),this}off(){return this._isOn=!1,this}step(){this._isOn&&(this.count+=1,this.count>this.durationFrameCount&&this.completeCycle())}}class Z extends G{get isCompleted(){return this._isCompleted}constructor(t,e){super(t,e),this._isCompleted=!1}on(t){return super.on(t),this}off(){return super.off(),this}resetCount(){return super.resetCount(),this._isCompleted=!1,this}getProgressRatio(){return this._isCompleted?1:this.count/this.durationFrameCount}completeCycle(){this._isCompleted=!0,this._isOn=!1,this.completeBehavior()}}class $ extends J{constructor(t){super(),this.p=t,$.isInitialized||($.effectColor=new R(t,t.color(0,192),null,!0),$.isInitialized=!0),this.nodeNumber=$.nextNodeNumber,$.nextNodeNumber+=1,this.position.set(t.random(.25*t.nonScaledWidth,.75*t.nonScaledWidth),t.random(.25*t.nonScaledHeight,.75*t.nonScaledHeight)),this.setFriction(.1),this.shapeColor=new R(t,t.color(64),t.color(function(t,e,i,s){return a(t,e*Math.cos(i),e*Math.sin(i),s)}(80,50,t.random(t.TWO_PI)))),this.effectTimer=new Z(.5*t.idealFrameRate).off(),this.effectPosition=t.createVector()}step(){super.step(),this.effectTimer.step()}draw(){if(this.shapeColor.applyColor(),this.p.strokeWeight(1.5),this.p.ellipse(this.position.x,this.position.y,30,30),this.effectTimer.isOn){const t=this.effectTimer.getProgressRatio();$.effectColor.applyColor(255*(1-t)),this.p.strokeWeight(4*(1-t));const e=30+40*function(t){return 1-Math.pow(t-1,4)}(t);this.p.ellipse(this.effectPosition.x,this.effectPosition.y,e,e)}}fireEffect(){this.effectPosition.set(this.position),this.effectTimer.resetCount().on()}toString(){return this.nodeNumber}}$.nextNodeNumber=0,$.isInitialized=!1;class tt extends N{constructor(t,e,i){super(e,i),this.p=t,this.relativePositionA=t.createVector(),this.relativePositionB=t.createVector(),this.update()}step(){this.update()}update(){this.relativePositionA.set(this.nodeA.position.x-this.nodeB.position.x,this.nodeA.position.y-this.nodeB.position.y),this.relativePositionB.set(this.nodeB.position.x-this.nodeA.position.x,this.nodeB.position.y-this.nodeA.position.y),this.directionAngleA=this.relativePositionA.heading(),this.directionAngleB=this.directionAngleA+this.p.PI,this.directionAngleB>this.p.TWO_PI&&(this.directionAngleB-=this.p.TWO_PI),this.distanceSquared=e(this.nodeA.position,this.nodeB.position)}getRelativePosition(t){return t===this.nodeB?this.relativePositionA:this.relativePositionB}getDirectionAngle(t){return t===this.nodeB?this.directionAngleA:this.directionAngleB}}class et extends tt{constructor(t,e,i,s=100,n=.005){super(t,e,i),et.isInitialized||(et.temporalVector=t.createVector(),et.isInitialized=!0),this.equilibriumLength=s,this.springConstant=n}step(){super.step();const t=this.nodeA,e=this.nodeB,i=this.p.sqrt(this.distanceSquared)-this.equilibriumLength,s=et.temporalVector;s.set(this.relativePositionB),s.setMag(this.springConstant*i),t.applyForce(s),s.mult(-1),e.applyForce(s)}}et.isInitialized=!1;class it extends et{constructor(t,e,i){super(t,e,i,200,1e-5),this.startRatio=new E(0),this.endRatio=new E(1),it.graphEdgeInitialized||(it.initialColor=new R(t,t.color(0,128),null),it.finalColor=new R(t,t.color(0,224),null),it.graphEdgeInitialized=!0),this.startPointTimer=new Z(.5*t.idealFrameRate,()=>{this.nextEdge&&this.nextEdge.fire(this.nodeA)}).off(),this.endPointTimer=new Z(.5*t.idealFrameRate,()=>{this.nextEdge&&this.nextEdge.fire(this.nodeB)}).off(),this.midPoint=new J,this.midPoint.position.set(.5*(e.x+i.x)+t.random(-10,10),.5*(e.y+i.y)+t.random(-10,10)),this.midPoint.mass=.2,this.midPoint.setFriction(.1),this.springA=new et(t,e,this.midPoint,.4*this.equilibriumLength,.005),this.springB=new et(t,i,this.midPoint,.4*this.equilibriumLength,.005),this.nextEdge=null}step(){super.step(),this.startPointTimer.step(),this.endPointTimer.step(),this.midPoint.step();const t=p5.Vector.dist(this.nodeA.position,this.nodeB.position);this.springA.equilibriumLength=.4*t,this.springA.step(),this.springB.equilibriumLength=.4*t,this.springB.step()}draw(){const t=new Q(this.p,this.nodeA.position,this.midPoint.position,this.nodeB.position,90,this.startRatio,this.endRatio);it.initialColor.applyColor(),this.p.strokeWeight(1),this.startRatio.value=0,this.endRatio.value=1,t.draw(),it.finalColor.applyColor(),this.p.strokeWeight(2),this.endPointTimer.isOn||this.endPointTimer.isCompleted?(this.startRatio.value=0,this.endRatio.value=this.endPointTimer.getProgressRatio(),t.draw()):(this.startPointTimer.isOn||this.startPointTimer.isCompleted)&&(this.startRatio.value=1-this.startPointTimer.getProgressRatio(),this.endRatio.value=1,t.draw())}fire(t){t===this.nodeA?this.endPointTimer.on():t===this.nodeB&&this.startPointTimer.on(),t.fireEffect()}toString(){return this.nodeA+"-"+this.nodeB}isIncidentToEdge(t){return this.isIncidentTo(t.nodeA)||this.isIncidentTo(t.nodeB)}}it.graphEdgeInitialized=!1;class st{constructor(t){this.p=t,this.nodes=new O,this.edges=new O,this.incidentEdgesMap=new Map,this.midPoints=new z,this.applyRepulsion=((t,e)=>{t.attractEachOther(e,-1e7*this.p.unitAccelerationMagnitude,0,1e4*this.p.unitAccelerationMagnitude)}),this.applyMidPointsRepulsion=((t,e)=>{t.attractEachOther(e,-1e6*this.p.unitAccelerationMagnitude,0,1e3*this.p.unitAccelerationMagnitude)}),this.keepInScreen=(t=>{!function(t,e,i=1){const s=e.collisionRadius;e.x<t.leftPositionX+s?(e.position.x=t.leftPositionX+s,e.velocity.x=-i*e.velocity.x):e.x>t.rightPositionX-s&&(e.position.x=t.rightPositionX-s,e.velocity.x=-i*e.velocity.x),e.y<t.topPositionY+s?(e.position.y=t.topPositionY+s,e.velocity.y=-i*e.velocity.y):e.y>t.bottomPositionY-s&&(e.position.y=t.bottomPositionY-s,e.velocity.y=-i*e.velocity.y)}(this.region,t,.7)}),this.keepAwayEdgePair=((t,e,s,n)=>{const o=e.getDirectionAngle(t),r=s.getDirectionAngle(t),a=i(r,o),c=this.p.abs(a)/this.p.PI,d=n/this.p.sq(Math.max(c,.05)),l=st.temporalVector,u=a>0,p=e.distanceSquared;if(p>1){const i=h(o,this.p.sqrt(p),1,d,u,l);e.getAdjacentNode(t).applyForce(i)}const g=s.distanceSquared;if(g>1){const e=h(r,this.p.sqrt(g),1,d,!u,l);s.getAdjacentNode(t).applyForce(e)}}),this.keepAwayIncidentEdges=(t=>{const e=st.temporalEdgeArray;e.clear(),e.pushAll(this.getIncidentEdges(t));const i=e.length;for(let s=0;s<i;s+=1){const n=(s+1)%i;this.keepAwayEdgePair(t,e.get(s),e.get(n),.3)}}),st.isInitialized||(st.temporalVector=t.createVector(),st.isInitialized=!0),this.region=new F(0,0,t.nonScaledWidth,t.nonScaledHeight,-50),this.oneStrokeDelayTimer=new Z(1*t.idealFrameRate,()=>{this.firstEdge.fire(this.firstNode)}),this.reset()}reset(){for(let t=0;t<1e3;t+=1)try{this.generate(n(6,10)),this.setOneStroke();break}catch(e){if(999===t)throw"Failed to generate graph."}this.oneStrokeDelayTimer.resetCount().on(),this.resetTimer=new Z((1+.5*this.edges.length+1)*this.p.idealFrameRate,()=>{this.reset()})}step(){this.oneStrokeDelayTimer.step(),this.resetTimer.step(),this.edges.step(),this.nodes.step(),this.nodes.loop(this.keepInScreen),this.nodes.roundRobin(this.applyRepulsion),this.midPoints.roundRobin(this.applyMidPointsRepulsion),this.nodes.nestedLoopJoin(this.midPoints,this.applyMidPointsRepulsion)}draw(){this.edges.draw(),this.nodes.draw()}addEdge(t,e,i=!1,s=!1){if(s&&t&&e)for(let a=0;a<this.edges.length;a+=1){const s=this.edges.get(a);if(t===s.nodeA&&e===s.nodeB)return null;if(i&&t===s.nodeB&&e===s.nodeA)return null}const n=t||this.addNode(),o=e||this.addNode(),r=new it(this.p,n,o);return this.edges.push(r),this.getIncidentEdges(n).push(r),this.getIncidentEdges(o).push(r),r}getIncidentEdges(t){const e=this.incidentEdgesMap.get(t);if(!e)throw"Passed unregistered node to getIncidentEdges().";return e}getDegrees(t){return this.getIncidentEdges(t).length}addNode(){const t=new $(this.p);return this.nodes.push(t),this.incidentEdgesMap.set(t,new O),t}generate(t){this.nodes.clear(),this.incidentEdgesMap.clear();for(let e=0;e<t;e+=1)this.addNode();for(this.edges.clear(),this.midPoints.clear();;){const t=p(this.nodes).filter(t=>{const e=this.getDegrees(t);return 0===e||e%2==1||2===e&&Math.random()<.5});if(0===t.length)break;const e=u(t,this.p.random(t)),i=u(t,this.p.random(t)),s=this.addEdge(e,i);s&&this.midPoints.push(s.midPoint)}}setOneStroke(){const t=p(this.edges),e=u(t,this.p.random(t)),i=this.p.random([e.nodeA,e.nodeB]),s=this.createLoop(t,e,i);for(;s.length!==this.edges.length;){const e=d(t,s),i=e.filter(t=>m(t,s)),n=u(e,this.p.random(i)),o=g(s,n.nodeA)?n.nodeA:n.nodeB;c(o.toString());const r=this.createLoop(e,n,o),a=s.findIndex((t,e,i)=>{const s=(0===e?i[i.length-1]:i[e-1]).isIncidentTo(t.nodeA)?t.nodeA:t.nodeB;return o===s});if(-1===a)throw"error.";s.splice(a,0,...r),c(s.toString())}for(let n=0;n<s.length-1;n+=1)s[n].nextEdge=s[n+1];this.firstEdge=s[0],this.firstNode=s[1].isIncidentTo(this.firstEdge.nodeA)?s[1].isIncidentTo(this.firstEdge.nodeB)&&s[2].isIncidentTo(this.firstEdge.nodeA)?this.firstEdge.nodeA:this.firstEdge.nodeB:this.firstEdge.nodeA}createLoop(t,e,i){c(t.toString()),c(e.toString()),c(i.toString());const s=[];for(let n=0;n<100;n+=1){const o=t.slice();s.length=0,s.push(e);let r=!1,a=i,h=e.getAdjacentNode(a);for(;;){if(h===i){r=!0;break}c(o.toString());const t=p(this.getIncidentEdges(h));c(t.toString());const e=l(o,t);if(c(e.toString()),0===e.length)break;const n=u(o,this.p.random(e));c(n.toString()),s.push(n),a=h,h=n.getAdjacentNode(a)}if(r)break;if(c(s.toString()),99===n)throw"Failed to set one-stroke."}return s}}st.temporalEdgeArray=new z,st.isInitialized=!1,p5.disableFriendlyErrors=!0;new p5;new class extends p5{setCurrentRenderer(t){this.currentRenderer=t}get nonScaledWidth(){return this.scalableCanvas.nonScaledWidth}get nonScaledHeight(){return this.scalableCanvas.nonScaledHeight}get idealFrameRate(){return this._idealFrameRate}get unitAngleSpeed(){return this._unitAngleSpeed}get unitSpeed(){return this._unitSpeed}get unitAccelerationMagnitude(){return this._unitAccelerationMagnitude}constructor(t,e,i){super(t,"string"==typeof e?document.getElementById(e)||void 0:e,i),this.node=e&&"boolean"!=typeof e?"string"==typeof e?document.getElementById(e)||document.body:e:document.body,this.currentRenderer=this,this.maxCanvasRegion={width:0,height:0,getShortSideLength(){return Math.min(this.width,this.height)}},this.updateMaxCanvasRegion(),this.setFrameRate()}setFrameRate(t=60){return this.frameRate(t),t&&(this._idealFrameRate=t,this._unitAngleSpeed=2*Math.PI/this._idealFrameRate,this._unitSpeed=1/this._idealFrameRate,this._unitAccelerationMagnitude=this._unitSpeed/this._idealFrameRate),this}updateMaxCanvasRegion(){if(this.maxCanvasRegion.width=this.windowWidth,this.maxCanvasRegion.height=this.windowHeight,this.node===document.body)return;const t=this.node.getBoundingClientRect();this.maxCanvasRegion.width=t.width,this.maxCanvasRegion.height=t.height}createScalableCanvas(t,e,i){this.scalableCanvasType=t,this.scalableCanvas=new f(this,this.createScalableCanvasParameter(t,e),this.node,i)}resizeScalableCanvas(t,e){this.scalableCanvas.resize(this.createScalableCanvasParameter(t||this.scalableCanvasType,e))}createScalableCanvasParameter(t,e){this.updateMaxCanvasRegion();const i=this.maxCanvasRegion.getShortSideLength();switch(t){case y.SQUARE640x640:return{scaledWidth:i,scaledHeight:i,nonScaledShortSideLength:640};case y.RECT640x480:return{scaledWidth:i,scaledHeight:.75*i,nonScaledShortSideLength:480};case y.FULL:return{scaledWidth:this.maxCanvasRegion.width,scaledHeight:this.maxCanvasRegion.height,nonScaledShortSideLength:640};default:return e||f.DUMMY_PARAMETERS}}}(t=>{const e=t.color(248);let i;t.preload=(()=>{}),t.setup=(()=>{window.noCanvas(),t.createScalableCanvas(y.FULL),t.setFrameRate(30),t.ellipseMode(t.CENTER),t.strokeWeight(1.5),i=new st(t)}),t.draw=(()=>{t.background(e),t.scalableCanvas.scale(),i.step(),i.draw()}),t.windowResized=(()=>{t.resizeScalableCanvas(),t.background(255)}),t.mousePressed=(()=>{i.reset()}),t.touchMoved=(()=>{if(!(t.mouseX<0||t.mouseX>t.width||t.mouseY<0||t.mouseY>t.height))return!1})},"Koenigsberk")}();